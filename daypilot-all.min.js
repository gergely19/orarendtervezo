/**
@license
DayPilot Pro for JavaScript 2024.4.6294 (trial)
Copyright (c) 2005 - 2024 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
var DayPilot = {}; if ("undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    function e(e) { var t = DayPilot.Date.Cache.Ticks; if (t[e]) return DayPilot.Stats.cacheHitsTicks += 1, t[e]; var n, i = new Date(e), a = i.getUTCMilliseconds(); n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a; var r = i.getUTCSeconds(); r < 10 && (r = "0" + r); var o = i.getUTCMinutes(); o < 10 && (o = "0" + o); var s = i.getUTCHours(); s < 10 && (s = "0" + s); var l = i.getUTCDate(); l < 10 && (l = "0" + l); var d = i.getUTCMonth() + 1; d < 10 && (d = "0" + d); var c = i.getUTCFullYear(); if (c <= 0) throw "The minimum year supported is 1."; c < 10 ? c = "000" + c : c < 100 ? c = "00" + c : c < 1e3 && (c = "0" + c); var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n; return t[e] = u, u } function t(e, t) { return !DayPilot.Util.isNullOrUndefined(e) && (!DayPilot.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase()) } function n(e) { e = Math.min(e, 255), e = Math.max(e, 0); var t = e.toString(16); return e < 16 ? "0" + t : t } if ("undefined" == typeof DayPilot.$) {
        DayPilot.$ = function (e) { return document.getElementById(e) }, Object.defineProperty(DayPilot, "isKhtml", { get: function () { return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1 } }), DayPilot.browser = {}, Object.defineProperty(DayPilot.browser, "ff", { get: function () { return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1 } }), Object.defineProperty(DayPilot.browser, "chrome", { get: function () { return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1 } }), Object.defineProperty(DayPilot.browser, "ie", { get: function () { return !1 } }), Object.defineProperty(DayPilot.browser, "edge", { get: function () { return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Edge") !== -1 } }), Object.defineProperty(DayPilot.browser, "webkit", { get: function () { return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("WebKit") !== -1 } }), Object.defineProperty(DayPilot.browser, "android", { get: function () { if ("undefined" == typeof navigator) return !1; var e = navigator.userAgent; return e.indexOf("Mozilla/5.0") > -1 && e.indexOf("Android ") > -1 && e.indexOf("AppleWebKit") > -1 && !(e.indexOf("Chrome") > -1) } }), Object.defineProperty(DayPilot.browser, "ios", { get: function () { return "undefined" != typeof navigator && (navigator.userAgent.indexOf("iPad") > -1 || navigator.userAgent.indexOf("iPhone") > -1) } }), Object.defineProperty(DayPilot.browser, "hover", { get: function () { return !window.matchMedia("(any-hover: none)").matches } }), DayPilot.libs = {}, DayPilot.libs.angularjs = "object" == typeof angularjs, DayPilot.touch = {}, Object.defineProperty(DayPilot.touch, "start", { get: function () { return window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart" } }), Object.defineProperty(DayPilot.touch, "move", { get: function () { return window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove" } }), Object.defineProperty(DayPilot.touch, "end", { get: function () { return window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend" } }), DayPilot.mo2 = function (e, t) { if ("undefined" != typeof t.offsetX) { var n = { x: t.offsetX + 1, y: t.offsetY + 1 }; if (!e) return n; for (var i = t.srcElement; i && i !== e;)"SPAN" !== i.tagName && (n.x += i.offsetLeft, i.offsetTop > 0 && (n.y += i.offsetTop - i.scrollTop)), i = i.offsetParent; return i ? n : null } if ("undefined" != typeof t.layerX) { var n = { x: t.layerX, y: t.layerY, src: t.target }; if (!e) return n; for (var i = t.target; i && "absolute" !== i.style.position && "relative" !== i.style.position;)i = i.parentNode, DayPilot.isKhtml && (n.y += i.scrollTop); for (; i && i !== e;)n.x += i.offsetLeft, n.y += i.offsetTop - i.scrollTop, i = i.offsetParent; return i ? n : null } return null }, DayPilot.mo3 = function (e, t) { var n, i = DayPilot.page(t); if (i) if (e) { var a = DayPilot.abs(e); if (!a) throw new Error("no abs"); n = { x: i.x - a.x, y: i.y - a.y } } else n = { x: i.x, y: i.y }; else if (n = DayPilot.mo2(e, t), !n) return null; return n.shift = t.shiftKey, n.meta = t.metaKey, n.ctrl = t.ctrlKey, n.alt = t.altKey, n }, DayPilot.mc = function (e) { if (e.touches) { var t = e.touches[0]; return { x: t.pageX, y: t.pageY } } return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop } }, DayPilot.Stats = {}, DayPilot.Stats.eventObjects = 0, DayPilot.Stats.dateObjects = 0, DayPilot.Stats.cacheHitsCtor = 0, DayPilot.Stats.cacheHitsParsing = 0, DayPilot.Stats.cacheHitsTicks = 0, DayPilot.list = function (e, t) { if (e && e.isDayPilotList && !t) return e; var n = DayPilot.isArray(e) || "[object NodeList]" === Object.prototype.toString.call(e), i = !n && !DayPilot.Util.isNullOrUndefined(e), a = []; if (a.isDayPilotList = !0, a.clone = function () { for (var e = DayPilot.list(), t = 0; t < a.length; t++)e.push(a[t]); return e }, a.each = function (e) { if (e) { if (a.forEach) return void a.forEach(e); for (var t = 0; t < this.length; t++)e(a[t], t, a) } }, a.addProps = function (e) { var t = a.clone(); if (e) for (var n in e) t[n] = e[n]; return t }, a.last = function () { return 0 === a.length ? null : a[a.length - 1] }, a.first = function () { return 0 === a.length ? null : a[0] }, a.add = function (e) { var t = a.clone(); return t.push(e), t }, a.map = function (e) { if ("function" != typeof e) throw "DayPilot.list().map(f): Function expected"; var t = DayPilot.list(); return a.forEach(function (n, i, a) { t.push(e(n, i, a)) }), t }, a.filter = function (e) { var t = DayPilot.list(); if ("function" != typeof e) throw "DayPilot.list().filter(f): Function expected"; return a.forEach(function (n, i, a) { e(n, i, a) && t.push(n) }), t }, a.concat = function (e) { if (!e) return a; for (var t = a.clone(), n = 0; n < e.length; n++)t.push(e[n]); return t }, a.find || (a.find = function (e) { if ("function" != typeof e) throw "DayPilot.list().find(f): Function expected"; for (var t = 0; t < this.length; t++)if (e(a[t])) return a[t] }), a.findIndex || (a.findIndex = function (e) { if ("function" != typeof e) throw "DayPilot.list().findIndex(f): Function expected"; for (var t = 0; t < this.length; t++)if (e(a[t])) return t; return -1 }), a.some || (a.some = function (e) { if ("function" != typeof e) throw "DayPilot.list().some(f): Function expected"; for (var t = 0; t < this.length; t++)if (e(a[t])) return !0; return !1 }), a.reduce || (a.reduce = function (e, t) { if ("function" != typeof e) throw "DayPilot.list().reduce(f): Function expected"; var n, i = 0; if ("undefined" != typeof t) n = t; else { if (i = 1, 0 === a.length) throw "DayPilot.list().reduce(f): No initial value and empty list"; n = a[0] } for (var r = i; r < this.length; r++)n = e(n, a[r], r, this); return n }), a.isEmpty = function () { return 0 === a.length }, n) for (var r = 0; r < e.length; r++)a[r] = e[r]; else i && (a[0] = e); return a }, DayPilot.list.for = function (e, t) { for (var n = DayPilot.list(), i = 0; i < e; i++)"function" == typeof t ? n.push(t(i)) : n.push(i); return n }, DayPilot.line = function (e, t, n, i, a) { a = a || {}; var r = { "x": e, "y": t }, o = { "x": n, "y": i, "deg": DayPilot.deg(e, t, n, i) }, s = !1; if (t < i) { var l = t; t = i, i = l, l = e, e = n, n = l, s = !0 } var d = DayPilot.deg(e, t, n, i), c = { "x": e, "y": t }, u = { "x": n, "y": i }, h = function () { var a = Math.abs(e - n), r = Math.abs(t - i), o = (e + n) / 2; return o - Math.sqrt(a * a + r * r) / 2 }(), f = function () { return (t + i) / 2 }(), v = DayPilot.distance(c, u), p = document.createElement("div"); p.setAttribute("style", "width:" + v + "px;height:0px;-moz-transform:rotate(" + d + "deg);-webkit-transform:rotate(" + d + "deg);-ms-transform:rotate(" + d + "deg);transform:rotate(" + d + "deg);position:absolute;top:" + f + "px;left:" + h + "px;"), a.cssClass && (p.className = a.cssClass); var m = document.createElement("div"); m.appendChild(p); var g, y, d, b, w = !!a.arrow; if (w) { var g = o.y - 5, y = o.x - 5, d = d; o.y > r.y && (d -= 180); var b = document.createElement("div"); b.style.borderColor = "black", b.style.width = "10px", b.style.height = "10px", b.style.borderRadius = "10px", b.style.position = "absolute", b.style.left = y + "px", b.style.top = g + "px", a.cssClass ? b.className = a.cssClass + "_circle" : b.style.backgroundColor = "black", m.appendChild(b) } return m }, DayPilot.deg = function (e, t, n, i) { var a, r = Math.abs(e - n), o = Math.abs(t - i), s = (e + n) / 2, l = (t + i) / 2, d = Math.sqrt(r * r + o * o), c = s - d / 2, u = l; r = d / 2, a = Math.abs(s - c), o = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - u) * Math.abs(t - u)); var h = (o * o - r * r - a * a) / (2 * r * a); return 180 * Math.acos(h) / Math.PI }, DayPilot.complete = function (e) { return "complete" === document.readyState ? void e() : (DayPilot.complete.list || (DayPilot.complete.list = [], DayPilot.re(document, "readystatechange", function () { if ("complete" === document.readyState) { for (var e = 0; e < DayPilot.complete.list.length; e++) { (0, DayPilot.complete.list[e])() } DayPilot.complete.list = [] } })), void DayPilot.complete.list.push(e)) }, DayPilot.debounce = function (e, t) { var n; return function () { var i = this, a = arguments, r = function () { n = null, e.apply(i, a) }; clearTimeout(n), n = setTimeout(r, t) } }, DayPilot.page = function (e) { var t = e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e; return "undefined" != typeof t.pageX ? { x: t.pageX, y: t.pageY } : "undefined" != typeof e.clientX && document.body && document.documentElement ? { x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop } : null }, DayPilot.rel = function (e, t) { var n = DayPilot.abs(e), i = DayPilot.abs(t); return { "x": n.x - i.x, "y": n.y - i.y, "w": e.offsetWidth, "h": e.offsetHeight } }, DayPilot.abs = function (e, t) { if (!e) return null; if (e.getBoundingClientRect) { var n = DayPilot.absBoundingClientBased(e); if (t) { var i = DayPilot.absOffsetBased(e, !1), t = DayPilot.absOffsetBased(e, !0); n.x += t.x - i.x, n.y += t.y - i.y, n.w = t.w, n.h = t.h } return n } return DayPilot.absOffsetBased(e, t) }, DayPilot.absBoundingClientBased = function (e) { var t = e.getBoundingClientRect(); return { x: t.left + window.pageXOffset, y: t.top + window.pageYOffset, w: e.clientWidth, h: e.clientHeight, toString: function () { return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h } } }, DayPilot.isArray = function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, DayPilot.absOffsetBased = function (e, t) { for (var n = { x: e.offsetLeft, y: e.offsetTop, w: e.clientWidth, h: e.clientHeight, toString: function () { return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h } }; DayPilot.op(e);)e = DayPilot.op(e), n.x -= e.scrollLeft, n.y -= e.scrollTop, t && (n.x < 0 && (n.w += n.x, n.x = 0), n.y < 0 && (n.h += n.y, n.y = 0), e.scrollLeft > 0 && n.x + n.w > e.clientWidth && (n.w -= n.x + n.w - e.clientWidth), e.scrollTop && n.y + n.h > e.clientHeight && (n.h -= n.y + n.h - e.clientHeight)), n.x += e.offsetLeft, n.y += e.offsetTop; var i = DayPilot.pageOffset(); return n.x += i.x, n.y += i.y, n }, DayPilot.wd = function () { var e = document.documentElement.clientHeight, t = document.documentElement.clientWidth, n = document.documentElement && document.documentElement.scrollTop || document.body.scrollTop, i = document.documentElement && document.documentElement.scrollLeft || document.body.scrollLeft, a = {}; return a.width = t, a.height = e, a.scrollTop = n, a.scrollLeft = i, a }, DayPilot.op = function (e) { try { return e.offsetParent } catch (e) { return document.body } }, DayPilot.distance = function (e, t) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) }, DayPilot.doc = function () { var e = document.documentElement; return e && e.clientHeight ? e : document.body }, DayPilot.pageOffset = function () { if ("undefined" != typeof window.pageXOffset) return { x: window.pageXOffset, y: window.pageYOffset }; var e = DayPilot.doc(); return { x: e.scrollLeft, y: e.scrollTop } }, DayPilot.ac = function (e, t) { if (!t) var t = []; for (var n = 0; e.children && n < e.children.length; n++)t.push(e.children[n]), DayPilot.ac(e.children[n], t); return t }, DayPilot.indexOf = function (e, t, n) { if (!e || !e.length) return -1; for (var i = 0; i < e.length; i++)if (n) { if (n(e[i], t)) return i } else if (e[i] === t) return i; return -1 }, DayPilot.contains = function (e, t) { if (2 !== arguments.length) throw new DayPilot.Exception("DayPilot.contains() requires two arguments."); return !!e && (e === t && !DayPilot.isArray(e) || DayPilot.indexOf(e, t) !== -1) }, DayPilot.rfa = function (e, t) { var n = DayPilot.indexOf(e, t); n !== -1 && e.splice(n, 1) }, DayPilot.sheet = function (e) { if (e = e || window.document, "undefined" == typeof window) { var t = {}; return t.add = function () { }, t.commit = function () { }, t } var n = e.createElement("style"); n.setAttribute("type", "text/css"), n.styleSheet || n.appendChild(e.createTextNode("")), (e.head || e.getElementsByTagName("head")[0]).appendChild(n); var i = !!n.styleSheet, t = {}; return t.rules = [], t.commit = function () { try { i && (n.styleSheet.cssText = this.rules.join("\n")) } catch (e) { } }, t.add = function (e, a, r) { if (i) return void this.rules.push(e + "{" + a + "}"); if (n.sheet.insertRule) "undefined" == typeof r && (r = n.sheet.cssRules.length), n.sheet.insertRule(e + "{" + a + "}", r); else { if (!n.sheet.addRule) throw "No CSS registration method found"; n.sheet.addRule(e, a, r) } return t }, t.print = function () { for (var e = n.sheet.cssRules, t = [], i = 0; i < e.length; i++)t.push(e[i].cssText); return t.join("\n") }, t }, DayPilot.Args = function (e) { var t = this; this.isArgs = !0, this.preventDefault = function () { e && e.preventDefault(), t.preventDefault.value = !0 } }, DayPilot.Debug = function (e) { var t = this; this.printToBrowserConsole = !1, this.enabled = !1, this.messages = [], this.target = null, this.c = null, this.clear = function () { this.messages = [], t.c && (t.c.innerHTML = "") }, this.hide = function () { DayPilot.de(t.c), t.c = null }, this.show = function () { t.c && t.hide(); var n = e.nav.top, i = document.createElement("div"); i.style.position = "absolute", i.style.top = "0px", i.style.bottom = "0px", i.style.left = "0px", i.style.right = "0px", i.style.backgroundColor = "black", i.style.color = "#ccc", i.style.overflow = "auto", i.style.webkitUserSelect = "auto", i.style.MozUserSelect = "all", i.onclick = function () { t.hide() }; for (var a = 0; a < this.messages.length; a++) { var r = t.messages[a], o = r.j(); i.appendChild(o) } this.c = i, n.appendChild(i) }, this.log = function () { if (t.target) { for (var e = [], n = 0; n < arguments.length; n++) { var i = arguments[n]; e.push(i) } var a = e.join(" "); t.target.style.whiteSpace = "pre", t.target.innerText += a + "\n" } }, this.message = function (e, t) { if (this.enabled) { var n = {}; n.time = new DayPilot.Date, n.level = t || "debug", n.text = DayPilot.Util.escapeHtml(e), n.j = function () { var e = document.createElement("div"); switch (e.innerHTML = n.time + " (" + n.level + "): " + n.text, n.level) { case "error": e.style.color = "red"; break; case "warning": e.style.color = "orange"; break; case "info": e.style.color = "white"; break; case "debug": }return e }, this.messages.push(n), this.printToBrowserConsole && "undefined" != typeof console && console.log(n) } } }, DayPilot.re = function (e, t, n) { n && e && e.addEventListener(t, n, !1) }, DayPilot.rePassive = function (e, t, n) { n && e && e.addEventListener(t, n, { "passive": !0 }) }, DayPilot.reNonPassive = function (e, t, n) { n && e && e.addEventListener(t, n, { "passive": !1 }) }, DayPilot.ue = function (e, t, n) { e.removeEventListener(t, n, !1) }, DayPilot.ds = function (e) { return DayPilot.Date.toStringSortable(e) }, DayPilot.gs = function (e, t) { return window.getComputedStyle(e, null).getPropertyValue(t) || "" }, DayPilot.StyleReader = function (e) { this.get = function (t) { return e ? DayPilot.gs(e, t) : null }, this.getPx = function (e) { var t = this.get(e); if (t) return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10) }, this.getFont = function () { var e = this.get("font-weight"), t = "italic" === this.get("font-style") ? "italic" : ""; return { "family": this.get("font-family"), "size": this.get("font-size"), "style": t + " " + e, "asString": function () { return DayPilot.Util.fontString(this) } } }, this.getBackColor = function (e) { "undefined" == typeof e && (e = "white"); var t = this.get("background-color"); return DayPilot.Util.isTransparentColor(t) ? e : t } }, DayPilot.he = function (e) { var t = e.replace(/&/g, "&amp;"); return t = t.replace(/</g, "&lt;"), t = t.replace(/>/g, "&gt;"), t = t.replace(/"/g, "&quot;") }, DayPilot.he2 = function (e) { var t = document.createTextNode(e), n = document.createElement("div"); return n.appendChild(t), n.innerHTML }, DayPilot.us = function (e) { if (e) { e.setAttribute("unselectable", "on"), e.style.userSelect = "none", e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.webkitUserSelect = "none"; for (var t = 0; t < e.childNodes.length; t++)1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]) } }, DayPilot.pu = function (e) { var t, n, i, a = e.attributes; if (a) for (n = a.length, t = 0; t < n; t += 1)a[t] && (i = a[t].name, "function" == typeof e[i] && (e[i] = null)); if (a = e.childNodes) for (n = a.length, t = 0; t < n; t += 1) { DayPilot.pu(e.childNodes[t]) } }, DayPilot.puc = function (e) { var t, n, i = e.childNodes; if (i) { var n = i.length; for (t = 0; t < n; t += 1)DayPilot.pu(e.childNodes[t]) } }, DayPilot.de = function (e) { if (e) if (DayPilot.isArray(e)) for (var t = 0; t < e.length; t++)DayPilot.de(e[t]); else e.remove() }, DayPilot.fade = function (e, t, n) { if (e) { clearTimeout(e.messageTimeout); var i = "none" !== e.style.display, a = t > 0, r = t < 0; if (0 !== t) { if (a ? e.status = "in" : r && (e.status = "out"), a && !i) e.target = parseFloat(e.style.opacity), e.opacity = 0, e.style.opacity = 0, e.style.display = ""; else if (r && !e.target) e.target = e.style.opacity; else { var o = e.opacity, s = Math.floor(10 * (o + t)) / 10; a && s > e.target && (s = e.target), r && s < 0 && (s = 0); e.opacity = s, e.style.opacity = s } a && (e.opacity >= e.target || e.opacity >= 1) || r && e.opacity <= 0 ? (e.target = null, r && (e.style.opacity = e.target, e.opacity = e.target, e.style.display = "none"), n && "function" == typeof n && (e.status = null, n())) : e.messageTimeout = setTimeout(function () { DayPilot.fade(e, t, n) }, 50) } } }, DayPilot.sw = function (e) { return e ? e.offsetWidth - e.clientWidth : 0 }, DayPilot.swa = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.width = "200px", e.style.height = "100px", e.style.overflow = "auto"; var t = document.createElement("div"); t.style.width = "300px", t.style.height = "300px", e.appendChild(t), document.body.appendChild(e); var n = DayPilot.sw(e); return document.body.removeChild(e), n }, DayPilot.sh = function (e) { return e ? e.offsetHeight - e.clientHeight : 0 }, DayPilot.guid = function () { var e = function () { return (65536 * (1 + Math.random()) | 0).toString(16).substring(1) }; return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e() }, DayPilot.ua = function (e) { if (!DayPilot.isArray(e)) throw new DayPilot.Exception("DayPilot.ua() - array required"); var t = []; return e.forEach(function (e) { DayPilot.contains(t, e) || t.push(e) }), t }, DayPilot.am = function () { return "undefined" == typeof angular ? null : (DayPilot.am.cached || (DayPilot.am.cached = angular.module("daypilot", [])), DayPilot.am.cached) }, function () { function e(e, i) { var a = { w: e.offsetWidth, h: e.offsetHeight, x: parseInt(e.style.left), y: parseInt(e.style.top) }; a.height = e.style.height, a.width = e.style.width, a.top = e.style.top, a.left = e.style.left, a.toString = function () { return "w: " + this.w + " h:" + this.h }; var r = {}; if (r.finished = null, r.vertical = "center", r.horizontal = "center", i) for (var o in i) r[o] = i[o]; e.style.visibility = "hidden", e.style.display = ""; var s = i.animation || "fast", l = t(s); l.div = e, l.i = 0, l.target = a, l.config = r, n(l) } function t(e) { var t = function () { var e = []; e.time = 10; var t, n = .08; t = .1; for (var i = t; i < 1.2; i += n)e.push(i), t = i; n = .03; for (var i = t; i > .8; i -= n)e.push(i), t = i; for (var i = t; i <= 1; i += n)e.push(i), t = i; return e }, n = function () { var e = []; e.time = 10; var t, n = .04; t = .1; for (var i = t; i <= 1; i += n)e.push(i), t = i; return e }, i = function () { var e = []; e.time = 10; var t, n = .08; t = .1; for (var i = t; i <= 1; i += n)e.push(i), t = i; return e }, a = { "fast": i, "slow": n, "jump": t }; return a[e] || (e = "fast"), a[e]() } function n(e) { var t, i = e.div, a = e[e.i], r = a * e.target.h; switch (e.config.vertical) { case "center": t = e.target.y - (r - e.target.h) / 2; break; case "top": t = e.target.y; break; case "bottom": t = e.target.y - (r - e.target.h); break; default: throw "Unexpected 'vertical' value." }var o, s = a * e.target.w; switch (e.config.horizontal) { case "left": o = e.target.x; break; case "center": o = e.target.x - (s - e.target.w) / 2; break; case "right": o = e.target.x - (s - e.target.w); break; default: throw "Unexpected 'horizontal' value." }i.style.height = r + "px", i.style.top = t + "px", i.style.width = s + "px", i.style.left = o + "px", i.style.visibility = "visible", e.i++, e.i < e.length - 1 ? setTimeout(function (e) { return function () { n(e) } }(e), e.time) : (i.style.width = e.target.width, i.style.height = e.target.height, i.style.top = e.target.top, i.style.left = e.target.left, "function" == typeof e.config.finished && e.config.finished()) } DayPilot.pop = e }(), DayPilot.Util = {}, DayPilot.Util.addClass = function (e, t) { if (t && e) if (DayPilot.isArray(e)) for (var n = 0; n < e.length; n++)DayPilot.Util.addClass(e[n], t); else { if (!e.className) return void (e.className = t); var i = new RegExp("(^|\\s)" + t + "($|\\s)"); i.test(e.className) || (e.className = e.className + " " + t) } }, DayPilot.Util.normalizeColor = function (e) { function t(e) { return e = e.replace(/[^\d,]/g, "").split(","), "#" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1) } return 0 === e.indexOf("rgb") ? t(e) : e }, DayPilot.Util.addClassToString = function (e, t) { return e ? new RegExp("(^|\\s)" + t + "($|\\s)").test(e) ? e : e + " " + t : t }, DayPilot.Util.removeClassFromString = function (e, t) { if (!e) return ""; var n = new RegExp("(^|\\s)" + t + "($|\\s)"); return e.replace(n, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") }, DayPilot.Util.removeClass = function (e, t) { if (e) if (DayPilot.isArray(e)) for (var n = 0; n < e.length; n++)DayPilot.Util.removeClass(e[n], t); else if (e.className) { var i = new RegExp("(^|\\s)" + t + "($|\\s)"); e.className = e.className.replace(i, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") } }, DayPilot.Util.props = function (e) { var t = []; for (var n in e) t.push(n), t.push(e[n]); return t.join("-") }, DayPilot.Util.propArray = function (e, t, n) { return DayPilot.list(e).map(function (e) { return e[t] ? e[t] : n }) }, DayPilot.Util.updatePropsFromArray = function (e, t, n) { for (var i = 0; i < n.length; i++)e[i][t] = n[i] }, DayPilot.Util.copyProps = function (e, t, n) { if (t || (t = {}), !e) return t; if ("undefined" == typeof n) for (var i in e) e.hasOwnProperty(i) && "undefined" != typeof e[i] && (t[i] = e[i]); else for (var a = 0; a < n.length; a++) { var i = n[a]; "undefined" != typeof e[i] && (t[i] = e[i]) } return t }, DayPilot.Util.ownPropsAsArray = function (e) { var t = []; if (!e) return t; for (var n in e) if (e.hasOwnProperty(n)) { var i = {}; i.key = n, i.val = e[n], t.push(i) } return t }, DayPilot.Util.firstPropValue = function (e) { for (var t in e) return e[t] }, DayPilot.Util.isOnlyProperty = function (e, t) { if (!e) return !1; for (var n in e) if (e.hasOwnProperty(n) && n !== t) return !1; return !0 }, DayPilot.Util.createArrayCopy = function (e, t) { if (!DayPilot.isArray(e)) return []; for (var n = [], i = 0; i < e.length; i++) { var a = {}; DayPilot.Util.copyProps(e[i], a, t), n.push(a) } return n }, DayPilot.Util.atLeast = function (e, t) { return Math.max(e, t) }, DayPilot.Util.atMost = function (e, t) { return Math.min(e, t) }, DayPilot.Util.avg = function (e, t) { return (e + t) / 2 }, DayPilot.Util.div = function (e, t, n, i, a) { var r = document.createElement("div"); return (t || n || i || a) && (i < 0 && (t += i, i *= -1), a < 0 && (n += a, a *= -1), r.style.position = "absolute", "number" == typeof t ? r.style.left = t + "px" : "string" == typeof t && (r.style.left = t), "number" == typeof n ? r.style.top = n + "px" : "string" == typeof n && (r.style.top = n), "number" == typeof i ? r.style.width = i + "px" : "string" == typeof i && (r.style.width = i), "number" == typeof a ? r.style.height = a + "px" : "string" == typeof a && (r.style.height = a)), e && e.appendChild(r), r }, DayPilot.Util.overlaps = function (e, t, n, i) { return !(t <= n || e >= i) }, DayPilot.Util.isMouseEvent = function (e) { return !!navigator.msPointerEnabled && (!!e.pointerType && ("mouse" === e.pointerType || 4 === e.pointerType)) }, DayPilot.Util.mouseButton = function (e) { var t = {}; switch (e.button) { case 0: t.left = !0; break; case 1: t.middle = !0; break; case 2: t.right = !0 }return t }, DayPilot.Util.membersPlain = function (e) { var t = DayPilot.Util.members(e, 2), n = function (e) { for (var t = 0; t < e.length; t++) { var n = e[t], i = n.name; n.obsolete && (i += " (obsolete)"), n.noCssOnly && (i += " (!cssOnly)"), n.aspnet && (i += " (ASP.NET)"), n.mvc && (i += "(MVC)"), e[t] = i } }; return n(t.events), n(t.methods), n(t.properties), t }, DayPilot.Util.shouldApply = function (e) { if (!e) return !1; var t = e.toLowerCase(); return !(t.indexOf("before") >= 0) && (!(t.indexOf("after") >= 0) && ("onrowfilter" !== t && "oneventfilter" !== t)) }, DayPilot.Util.safeApply = function (e, t) { var n = e["$root"]["$$phase"]; "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t) }, DayPilot.Util.members = function (e, t) { var n = DayPilot.list(), i = DayPilot.list(), a = DayPilot.list(), r = e && e.members ? e.members.obsolete : [], o = e && e.members ? e.members.noCssOnly : [], s = e && e.members ? e.members.ignore : [], l = e && e.members && e.members.ignoreFilter ? e.members.ignoreFilter : function () { return !1 }; for (var d in e) if (0 !== d.indexOf("$") && 0 !== d.indexOf("_") && 0 !== d.indexOf("number") && 0 !== d.indexOf("is") && "v" !== d && !DayPilot.contains(s, d) && !l(d)) if (0 !== d.indexOf("on")) if ("function" != typeof e[d]) if ("object" != typeof e[d]) a.push(d); else { var c = e[d]; if (0 === t) { a.push(d); continue } if (c && c.nodeType > 0) { a.push(d); continue } if (c instanceof DayPilot.Bubble) { a.push(d); continue } if (c instanceof DayPilot.Date) { a.push(d); continue } if (c instanceof DayPilot.Menu) { a.push(d); continue } if (c instanceof DayPilot.Scheduler) { a.push(d); continue } if (DayPilot.isArray(c)) { a.push(d); continue } null === c && a.push(d); var u = null; "number" == typeof t && (u = t - 1); for (var h = DayPilot.Util.members(c, u), f = 0; f < h.events.length; f++)n.push(d + "." + h.events[f].name); for (var f = 0; f < h.methods.length; f++)i.push(d + "." + h.methods[f].name); for (var f = 0; f < h.properties.length; f++)a.push(d + "." + h.properties[f].name) } else i.push(d); else n.push(d); n.sort(), i.sort(), a.sort(); var v = function (e) { for (var t = 0; t < e.length; t++) { var n = e[t], i = {}; i.name = n, e[t] = i, DayPilot.contains(r, n) && (i.obsolete = !0), DayPilot.contains(o, n) && (i.noCssOnly = !0), n.indexOf("CallBack") !== -1 && (i.aspnet = !0, i.mvc = !0), n.indexOf("PostBack") !== -1 && (i.aspnet = !0), n.indexOf("Notify") !== -1 && (i.aspnet = !0, i.mvc = !0) } }; return v(n), v(i), v(a), { "events": n, "methods": i, "properties": a } }, DayPilot.Util.replaceCharAt = function (e, t, n) { return e.substr(0, t) + n + e.substr(t + n.length) }, DayPilot.Util.evalVariable = function (e, t) { if (t = t || ["object"], null === e || "undefined" == typeof e) return null; if (DayPilot.indexOf(t, typeof e) !== -1) return e; if ("string" != typeof e) throw "Unable to resolve a variable name (not a string)."; if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)) throw "Invalid variable name: " + e; return eval(e) }, DayPilot.Util.evalFunction = function (e) { if (null === e) return null; if ("function" == typeof e) return e; if ("string" != typeof e) throw "Unable to resolve a function (not a string)."; if (!/^\(?function/.test(e)) throw "Invalid function string"; return e = "(" + e + ")", eval(e) }, DayPilot.Util.isNullOrUndefined = function (e) { return null === e || "undefined" == typeof e }, DayPilot.Util.log = function (e) { window.console && window.console.log && window.console.log(e) }, DayPilot.Util.workerFrom = function (e) { var t = e.toString(), n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")), i = new Blob([n]), a = window.URL.createObjectURL(i); return new Worker(a) }, DayPilot.Util.dataUriToBlob = function (e) { if ("string" != typeof e) throw "DayPilot.Util.dataUriToBlob(): dataURI string expected"; for (var t = e.split(","), n = t[0], i = t[1], a = n.indexOf("base64") !== -1, r = a ? atob : decodeURI, o = n.split(":")[1].split(";")[0], s = r(i), l = new window.Uint8Array(s.length), d = 0; d < s.length; d++)l[d] = s.charCodeAt(d); return new Blob([l], { "type": o }) }, DayPilot.Util.downloadDataUri = function (e, t) { var n = DayPilot.Util.dataUriToBlob(e); DayPilot.Util.downloadBlob(n, t) }, DayPilot.Util.downloadBlob = function (e, t) { var t = t || "download"; if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t); else { var n = window.URL.createObjectURL(e), i = document.createElement("a"); i.download = t, i.href = n, i.style.display = "none", document.body.appendChild(i), i.click(), setTimeout(function () { document.body.removeChild(i), window.URL.revokeObjectURL(n) }) } }, DayPilot.Util.monitor = function (e, t, n) { var i = e[t]; e[t] = function () { n.apply(e, arguments), i.apply(e, arguments) } }, DayPilot.Util.isTransparentColor = function (e) { return "transparent" === e || "rgba(0, 0, 0, 0)" === e }, DayPilot.Util.stripTags = function (e) { if (DayPilot.Util.isNullOrUndefined(e)) return e; if ("string" == typeof e) return e.replace(/<(?:.|\n)*?>/gm, ""); throw new DayPilot.Exception("Unable to strip tags from a non-string") }, DayPilot.Util.escapeHtml = function (e) { var t = document.createElement("div"); return t.innerText = e, t.innerHTML }, DayPilot.Util.escapeTextHtml = function (e, t) { return DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : DayPilot.Util.escapeHtml(e) : t }, DayPilot.Util.isSameEvent = function (e, t) { return !(!e || !t) && (e = e instanceof DayPilot.Event || e.isEvent ? e.data : e, t = t instanceof DayPilot.Event || t.isEvent ? t.data : t, e === t || (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id || !(!DayPilot.Util.isNullOrUndefined(e.id) || DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) && (e.recurrentMasterId === t.recurrentMasterId && new DayPilot.Date(e.start) === new DayPilot.Date(t.start)))) }, DayPilot.Util.isReactComponent = function (e) { var t = "function" == typeof Symbol && Symbol.for, n = t && Symbol.for("react.element") || 60103, i = t && Symbol.for("react.transitional.element") || null, a = e.$$typeof; return e && (a === n || a === i || 60103 === a) }, DayPilot.Util.isVueComponent = function (e) { return e && "function" == typeof e.render }, DayPilot.Util.isVueVNode = function (e) { return !!e && (DayPilot.isArray(e) ? DayPilot.Util.isVueVNode(e[0]) : e["__v_isVNode"]) }, DayPilot.Util.fontString = function (e) { return (e.style + " " + e.size + " " + e.family).trim() }, DayPilot.Util.fontHeight = function (e) { var t = DayPilot.Util.fontString(e); if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) { var n = document.createElement("div"); n.style.position = "fixed", n.style.left = "-2000px;", n.style.top = "-2000px", n.style.padding = "0px", n.style.font = t, n.innerText = "X", document.body.appendChild(n), DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(n).getPx("height"), document.body.removeChild(n) } return DayPilot.Util.fontHeight.cache[t] }, DayPilot.Util.fontHeight.cache = {}, DayPilot.Areas = {}, DayPilot.Areas.attach = function (e, t, n) { var n = n || {}, a = n.areas, r = n.allowed || function () { return !0 }, o = n.offsetX || 0; a = i(t, a), a && DayPilot.isArray(a) && 0 !== a.length && (DayPilot.re(e, "mousemove", function (i) { e.active || e.areasDisabled || !r() || DayPilot.Areas.showAreas(e, t, i, a, { "offsetX": o, "eventDiv": n.eventDiv }) }), DayPilot.re(e, "mouseleave", function (t) { DayPilot.Areas.hideAreas(e, t) }), DayPilot.list(a).forEach(function (i) { if (DayPilot.Areas.isVisible(i)) { var a = DayPilot.Areas.createArea(e, t, i, { "offsetX": o, "eventDiv": n.eventDiv }); e.appendChild(a) } })) }, DayPilot.Areas.disable = function (e) { e.areasDisabled = !0, DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea && !e.area.start }).forEach(function (e) { e.k = e.style.display, e.style.display = "none" }) }, DayPilot.Areas.enable = function (e) { e.areasDisabled = !1, DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea && !e.area.start }).forEach(function (e) { e.k ? e.style.display = e.k : e.style.display = "" }) }, DayPilot.Areas.remove = function (e) { var t = DayPilot.list(e.childNodes).filter(function (e) { return e.isActiveArea }); DayPilot.de(t) }, DayPilot.Areas.isVisible = function (e) { var t = e.visibility || e.v || "Visible"; return "Visible" === t || "TouchVisible" === t && !DayPilot.browser.hover }, DayPilot.Areas.copy = function (e) { return DayPilot.isArray(e) ? e.map(function (e) { return DayPilot.Util.copyProps(e, {}) }) : [] }, DayPilot.Areas.resolvePosition = function (e, t, n, i) { var a = DayPilot.Areas.copy(e), r = t; return a.forEach(function (e) { e.start && (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n), "number" == typeof e.offsetX && (e.left += e.offsetX), e.end && (e.right = n + i - r.getPixels(new DayPilot.Date(e.end)).left) }), a }; var i = function (e, t) { return DayPilot.isArray(t) || (t = e.areas, t || (e.cache ? t = e.cache.areas : e.data && (t = e.data.areas))), t }; DayPilot.Areas.showAreas = function (e, t, n, i, a) { if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilot.Global.selecting && !e.active && DayPilot.browser.hover) { if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0) for (var r = 0; r < DayPilot.Areas.all.length; r++) { var o = DayPilot.Areas.all[r]; o !== e && DayPilot.Areas.hideAreas(o, n) } if (e.active = {}, DayPilot.isArray(i) || (i = t.areas, i || (t.cache ? i = t.cache.areas : t.data && (i = t.data.areas))), i && 0 !== i.length && !(e.areas && e.areas.length > 0)) { e.areas = []; for (var r = 0; r < i.length; r++) { var s = i[r]; if (!DayPilot.Areas.isVisible(s)) { var l = DayPilot.Areas.createArea(e, t, s, a); e.areas.push(l), e.appendChild(l), DayPilot.Areas.all.push(e) } } e.active.children = DayPilot.ac(e) } } }, DayPilot.Areas.createArea = function (e, t, n, i) {
            function a(e, t, n) { var i = {}; return i.area = e, i.source = t, i.originalEvent = n, i.preventDefault = function () { i.preventDefault.value = !0 }, "function" == typeof e.onClick && e.onClick(i), i } function r(e, t, n) { DayPilot.Bubble && DayPilot.Bubble.touchPosition(n), e.calendar.bubble && e.calendar.bubble.showEvent(e, !0) } function o(e, t, n, i) { DayPilot.Menu && DayPilot.Menu.touchPosition(i); var a = n.contextMenu || n.menu; if (a instanceof DayPilot.Menu || ("string" == typeof a ? a = DayPilot.Util.evalVariable(a) : t.isEvent && t.client.contextMenu() ? a = t.client.contextMenu() : t.isEvent && t.calendar.contextMenu ? a = DayPilot.Util.evalVariable(t.calendar.contextMenu) : t.isRow && t.calendar.contextMenuResource && (a = DayPilot.Util.evalVariable(t.calendar.contextMenuResource))), a && a.show) { var r = { "type": "area", "div": e, "e": t, "area": n, "a": d }; a.show(t, { "initiator": r }) } } function s(e) { return "string" == typeof e ? e : "number" == typeof e ? e + "px" : void 0 } var i = i || {}, l = (i.offsetX || 0, i.eventDiv || e), d = document.createElement("div"); d.isActiveArea = !0, d.area = n, d.setAttribute("unselectable", "on"); var c = n.w || n.width, u = n.h || n.height, h = n.cssClass || n.css || n.className; if ("undefined" != typeof n.style && d.setAttribute("style", n.style),
                d.style.position = "absolute", d.style.width = s(c), d.style.height = s(u), d.style.right = s(n.right), d.style.top = s(n.top), d.style.left = s(n.left), d.style.bottom = s(n.bottom), d.style.borderRadius = s(n.borderRadius), "undefined" != typeof n.html || "undefined" != typeof n.text) d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html); else if (n.icon) { var f = document.createElement("i"); f.className = n.icon, d.appendChild(f) } else if (n.image) { var v = document.createElement("img"); v.src = n.image, d.appendChild(v) } else if (n.symbol) { var p = "http://www.w3.org/2000/svg", m = document.createElementNS(p, "svg"); m.setAttribute("width", "100%"), m.setAttribute("height", "100%"); var g = document.createElementNS(p, "use"); g.setAttribute("href", n.symbol), m.appendChild(g), d.appendChild(m) } if (h && (d.className = h), n.toolTip && d.setAttribute("title", n.toolTip), n.backColor && (d.style.background = n.backColor), n.background && (d.style.background = n.background), n.fontColor && (d.style.color = n.fontColor), n.padding && (d.style.padding = n.padding + "px", d.style.boxSizing = "border-box"), n.verticalAlignment) switch (d.style.display = "flex", n.verticalAlignment) { case "center": d.style.alignItems = "center"; break; case "top": d.style.alignItems = "flex-start"; break; case "bottom": d.style.alignItems = "flex-end" }if (n.horizontalAlignment) switch (d.style.display = "flex", n.horizontalAlignment) { case "right": d.style.justifyContent = "flex-end"; break; case "left": d.style.justifyContent = "flex-start"; break; case "center": d.style.justifyContent = "center" }if ("ResizeEnd" === n.action || "ResizeStart" === n.action || "Move" === n.action) { if (t.calendar.isCalendar) switch (n.action) { case "ResizeEnd": n.cursor = "s-resize", n.dpBorder = "bottom"; break; case "ResizeStart": n.cursor = "n-resize", n.dpBorder = "top"; break; case "Move": n.cursor = "move" }if (t.calendar.isScheduler || t.calendar.isMonth) switch (n.action) { case "ResizeEnd": n.cursor = "e-resize", n.dpBorder = "right"; break; case "ResizeStart": n.cursor = "w-resize", n.dpBorder = "left"; break; case "Move": n.cursor = "move" }d.onmousemove = function (e, t, n) { return function (i) { t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress() || (i.cancelBubble = !0, e.style.cursor = n.cursor, n.dpBorder && (e.dpBorder = n.dpBorder)) } }(l, t, n), d.onmouseout = function (e, t, n) { return function (t) { e.style.cursor = "" } }(l, t, n) } if (("ResizeEnd" === n.action || "ResizeStart" === n.action) && t.isEvent && t.calendar.internal.touch) { var y = function (e, t, n) { return function (i) { i.cancelBubble = !0; var a = t.calendar.internal.touch, r = i.touches ? i.touches[0] : i, o = { x: r.pageX, y: r.pageY }; t.calendar.coords = a.relativeCoords(i), a.preventEventTap = !0, t.calendar.isScheduler ? a.startResizing(e, "ResizeEnd" === n.action ? "right" : "left") : t.calendar.isCalendar && a.startResizing(e, "ResizeEnd" === n.action ? "bottom" : "top", o) } }(l, t, n); DayPilot.rePassive(d, DayPilot.touch.start, y) } if ("ContextMenu" === n.action && t.isEvent && t.calendar.internal.touch) { var y = function (e, t, n) { return function (i) { i.cancelBubble = !0, i.preventDefault(), o(e, t, n, i), t.calendar.internal.touch.preventEventTap = !0 } }(l, t, n), b = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault() } }(l, t, n); DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b) } if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) { var y = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault(); var i = a(n, t, e); if (!i.preventDefault.value) { r(t, n, e); t.calendar.internal.touch.preventEventTap = !0, "function" == typeof n.onClicked && n.onClicked(i) } } }(l, t, n), b = function (e, t, n) { return function (e) { e.cancelBubble = !0, e.preventDefault() } }(l, t, n); DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b) } if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) { var y = function (e, t, n) { return function (n) { n.cancelBubble = !0; var i = t.calendar.internal.touch, a = n.touches ? n.touches[0] : n, r = { x: a.pageX, y: a.pageY }; t.calendar.coords = i.relativeCoords(n), DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.active = !0), i.preventEventTap = !0, i.startMoving(e, r) } }(l, t, n); DayPilot.rePassive(d, DayPilot.touch.start, y) } if ("Move" === n.action && t.isRow && t.calendar.internal.touch, (n.bubble || "Bubble" === n.action) && t.isEvent ? (d.onmousemove = function (e, t, n) { return function (e) { e.preventBubbleActivation = !0, DayPilot.Bubble && DayPilot.Bubble.cancelShowing(), n.bubble ? n.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0) } }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut()) } }(e, t, n)) : (n.bubble || "Bubble" === n.action) && t.isRow ? (d.onmousemove = function (e, t, n) { return function (e) { e.stopPropagation(), n.bubble ? n.bubble.showResource(t, !1, d) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !1, d) } }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut()) } }(e, t, n)) : "undefined" != typeof DayPilot.Bubble && n.bubble instanceof DayPilot.Bubble && (d.onmousemove = function (e, t, n) { return function (e) { n.bubble.showHtml(null, d) } }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { "undefined" != typeof DayPilot.Bubble && n.bubble && n.bubble.hideOnMouseOut() } }(e, t, n)), "HoverMenu" === n.action && (d.onmousemove = function (e, t, n) { return function (e) { var i = n.menu; "string" == typeof i && (i = DayPilot.Util.evalVariable(i)), i && i.show && (i.visible ? i.source && "undefined" != typeof i.source.id && i.source.id !== t.id && i.show(t) : i.show(t), i.cancelHideTimeout()) } }(e, t, n), d.onmouseout = function (e, t, n) { return function (e) { var t = n.menu; "string" == typeof t && (t = DayPilot.Util.evalVariable(t)), t && t.hideOnMouseOver && t.delayedHide() } }(e, t, n)), "JavaScript" === n.action) { var y = function (e, t, n) { return function (e) { if (!DayPilot.Util.isMouseEvent(e)) { e.cancelBubble = !0, e.preventDefault(); t.calendar.internal.touch; DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !0) } } }(l, t, n), b = function (e, t, n) { return function (e) { if (!DayPilot.Util.isMouseEvent(e)) { e.cancelBubble = !0, e.preventDefault(); t.calendar.internal.touch; DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !1); var i = n.js; if ("string" == typeof i && (i = DayPilot.Util.evalFunction(n.js)), "function" == typeof i) { var a = n.target || t; i.call(this, a) } } } }(l, t, n); DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b) } if ("None" === n.action) { var y = function (e, t, n) { return function (e) { var i = a(n, t, e); "function" == typeof n.onClicked && n.onClicked(i), e.preventDefault(), e.stopPropagation() } }(l, t, n); DayPilot.reNonPassive(d, DayPilot.touch.start, y) } return d.onmousedown = function (e, t, n) { return function (i) { if ("function" == typeof n.onmousedown && n.onmousedown(i), "function" == typeof n.mousedown) { var a = {}; a.area = n, a.div = e, a.originalEvent = i, a.source = t, n.mousedown(a) } if ("Move" === n.action && t.isRow) { var r = t.$.row; (0, t.calendar.internal.rowStartMoving)(r) } "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Move" === n.action && (DayPilot.Global.movingAreaData = n.data), "ResizeEnd" !== n.action && "ResizeStart" !== n.action || (DayPilot.Global.resizingAreaData = n.data), "Move" === n.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, i); "Move" !== n.action && "ResizeEnd" !== n.action && "ResizeStart" !== n.action && n.action && "Default" !== n.action && (i.preventDefault(), i.cancelBubble = !0) } }(e, t, n), d.onclick = function (e, t, n) { return function (i) { var r = a(n, t, i); if (!r.preventDefault.value) { switch (n.action) { case "JavaScript": var s = n.js; if ("string" == typeof s && (s = DayPilot.Util.evalFunction(n.js)), "function" == typeof s) { var l = n.target || t; s.call(this, l) } i.cancelBubble = !0; break; case "ContextMenu": o(e, t, n, i), i.cancelBubble = !0; break; case "CallBack": alert("callback not implemented yet, id: " + n.id), i.cancelBubble = !0; break; case "None": i.cancelBubble = !0 }"function" == typeof n.onClicked && n.onClicked(r) } } }(e, t, n), "function" == typeof n.onMouseEnter && d.addEventListener("mouseenter", function (e, t, n) { return function (e) { var i = {}; i.area = n, i.source = t, i.originalEvent = e, n.onMouseEnter(i) } }(e, t, n)), "function" == typeof n.onMouseLeave && d.addEventListener("mouseleave", function (e, t, n) { return function (e) { var i = {}; i.area = n, i.source = t, i.originalEvent = e, n.onMouseLeave(i) } }(e, t, n)), d
        }, DayPilot.Areas.all = [], DayPilot.Areas.hideAreas = function (e, t) { if (e && e && e.active) { var n = e.active, i = e.areas; if (n && n.children && t) { var a = t.toElement || t.relatedTarget; if (~DayPilot.indexOf(n.children, a)) return } if (!i || 0 === i.length) return void (e.active = null); DayPilot.de(i), e.active = null, e.areas = [], DayPilot.rfa(DayPilot.Areas.all, e), n.children = null } }, DayPilot.Areas.hideAll = function (e) { if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length) for (var t = 0; t < DayPilot.Areas.all.length; t++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e) }, DayPilot.Action = function (e, t, n, i) { var a = this; this.calendar = e, this.isAction = !0, this.action = t, this.params = n, this.data = i, this.notify = function () { a.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data) }, this.auto = function () { a.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data) }, this.queue = function () { a.calendar.queue.add(this) }, this.toJSON = function () { var e = {}; return e.name = this.action, e.params = this.params, e.data = this.data, e } }, DayPilot.Selection = function (e, t, n, i) { this.menuType = "selection", this.start = new DayPilot.Date(e), this.end = new DayPilot.Date(t), this.resource = n, this.root = i, this.calendar = i, this.toJSON = function (e) { var t = {}; return t.start = this.start, t.end = this.end, t.resource = this.resource, t } }, DayPilot.Link = function (e, t) { this.isLink = !0, this.data = e, this.calendar = t, this.to = function () { return this.data.to }, this.from = function () { return this.data.from }, this.type = function () { return this.data.type }, this.id = function () { return this.data.id }, this.toJSON = function () { var e = {}; return e.from = this.data.from, e.to = this.data.to, e.id = this.data.id, e.type = this.data.type, e } }, DayPilot.Event = function (e, t, n) { var i = this; this.calendar = t, this.data = e ? e : {}, this.part = n ? n : {}, "undefined" == typeof this.data.id && (this.data.id = this.data.value); var a = {}, r = ["id", "text", "start", "end", "resource"]; this.isEvent = !0, DayPilot.Stats.eventObjects += 1, this.temp = function () { if (a.dirty) return a; for (var e = 0; e < r.length; e++)a[r[e]] = i.data[r[e]]; return a.dirty = !0, a }, this.copy = function () { var e = {}; return DayPilot.Util.copyProps(i.data, e), e }, this.commit = function () { if (a.dirty) { for (var e = 0; e < r.length; e++)i.data[r[e]] = a[r[e]]; "function" == typeof i.data.commitCallback && i.data.commitCallback(), a.dirty = !1 } }, this.dirty = function () { return a.dirty }, this.id = function (e) { return "undefined" == typeof e ? i.data.id : void (this.temp().id = e) }, this.value = function (e) { return "undefined" == typeof e ? i.id() : void i.id(e) }, this.text = function (e) { if ("undefined" == typeof e) return i.data.text; this.temp().text = e; var t = DayPilot.Util.escapeHtml(e); this.client.innerHTML(t) }, this.start = function (e) { return "undefined" == typeof e ? new DayPilot.Date(i.data.start) : void (this.temp().start = new DayPilot.Date(e)) }, this.end = function (e) { return "undefined" == typeof e ? t && t.internal.adjustEndNormalize ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end) : void (this.temp().end = new DayPilot.Date(e)) }, this.duration = function () { return new DayPilot.Duration(this.start(), this.end()) }, this.rawend = function (e) { if ("undefined" == typeof e) return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end); throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly") }, this.partStart = function () { return new DayPilot.Date(this.part.start) }, this.partEnd = function () { return new DayPilot.Date(this.part.end) }, this.row = function () { return this.resource() }, this.allday = function () { return "undefined" == typeof val ? i.data.allday : void (this.temp().allday = val) }, this.isAllDay = this.allday, this.resource = function (e) { return "undefined" == typeof e ? i.data.resource : void (this.temp().resource = e) }, this.recurrent = function () { return i.data.recurrent }, this.recurrentMasterId = function () { return i.data.recurrentMasterId }, this.useBox = function () { return this.part.box }, this.staticBubbleHTML = function () { return this.bubbleHtml() }, this.bubbleHtml = function () { return i.cache ? i.cache.bubbleHtml || i.data.bubbleHtml : i.data.bubbleHtml }, this.tag = function (e) { if (i.data.tags) return i.data.tags[e]; var t = i.data.tag; if (!t) return null; if ("undefined" == typeof e) return i.data.tag; for (var n = i.calendar.tagFields, a = -1, r = 0; r < n.length; r++)e === n[r] && (a = r); if (a === -1) throw "Field name not found."; return t[a] }, this.client = {}, this.client.innerHTML = function (e) { if ("undefined" == typeof e) { var t = i.cache || i.data, n = i.calendar && i.calendar.internal && i.calendar.internal.xssTextHtml; return n ? n(t.text, t.html) : DayPilot.Util.escapeTextHtml(t.text, t.html) } i.data.html = e, i.cache && (i.cache.html = e) }, this.client.html = this.client.innerHTML, this.client.header = function (e) { return "undefined" == typeof e ? i.data.header : void (i.data.header = e) }, this.client.cssClass = function (e) { return "undefined" == typeof e ? i.data.cssClass : void (i.data.cssClass = e) }, this.client.toolTip = function (e) { if ("undefined" == typeof e) { var t = null; return t = i.cache && "undefined" != typeof i.cache.toolTip ? i.cache.toolTip : "undefined" != typeof i.data.toolTip ? i.data.toolTip : i.data.text } i.data.toolTip = e }, this.client.backColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.backColor ? i.cache.backColor : "undefined" != typeof i.data.backColor ? i.data.backColor : i.calendar.eventBackColor : void (i.data.backColor = e) }, this.client.borderColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.borderColor ? i.cache.borderColor : "undefined" != typeof i.data.borderColor ? i.data.borderColor : i.calendar.eventBorderColor : void (i.data.borderColor = e) }, this.client.barColor = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barColor ? i.cache.barColor : "undefined" != typeof i.data.barColor ? i.data.barColor : i.calendar.durationBarColor : void (i.data.barColor = e) }, this.client.barVisible = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.barHidden ? !i.cache.barHidden : i.calendar.durationBarVisible && !i.data.barHidden : void (i.data.barHidden = !e) }, this.client.contextMenu = function (e) { if ("undefined" == typeof e) { if (i.oContextMenu) return i.oContextMenu; var t = i.cache ? i.cache.contextMenu : i.data.contextMenu; return t ? DayPilot.Util.evalVariable(t) : null } i.oContextMenu = e }, this.client.moveEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.moveDisabled ? !i.cache.moveDisabled : "Disabled" !== i.calendar.eventMoveHandling && !i.data.moveDisabled : void (i.data.moveDisabled = !e) }, this.client.resizeEnabled = function (e) { return "undefined" == typeof e ? "Milestone" !== i.data.type && (i.cache && "undefined" != typeof i.cache.resizeDisabled ? !i.cache.resizeDisabled : "Disabled" !== i.calendar.eventResizeHandling && !i.data.resizeDisabled) : void (i.data.resizeDisabled = !e) }, this.client.rightClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.rightClickDisabled ? !i.cache.rightClickDisabled : "Disabled" !== i.calendar.eventRightClickHandling && !i.data.rightClickDisabled : void (i.data.rightClickDisabled = !e) }, this.client.clickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.clickDisabled ? !i.cache.clickDisabled : "Disabled" !== i.calendar.eventClickHandling && !i.data.clickDisabled : void (i.data.clickDisabled = !e) }, this.client.deleteEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e) }, this.client.doubleClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled ? !i.cache.doubleClickDisabled : "Disabled" !== i.calendar.eventDoubleClickHandling && !i.data.doubleClickDisabled : void (i.data.doubleClickDisabled = !e) }, this.client.deleteClickEnabled = function (e) { return "undefined" == typeof e ? i.cache && "undefined" != typeof i.cache.deleteDisabled ? !i.cache.deleteDisabled : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled : void (i.data.deleteDisabled = !e) }, this.toJSON = function (e) { var t = {}; if (t.value = this.id(), t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.resource = this.resource(), t.isAllDay = !1, t.recurrentMasterId = this.recurrentMasterId(), t.join = this.data.join, t.tag = {}, i.data.tags) for (var n in i.data.tags) i.data.tags.hasOwnProperty(n) && (t.tag[n] = "" + i.data.tags[n]); else if (i.calendar && i.calendar.tagFields) for (var a = i.calendar.tagFields, r = 0; r < a.length; r++)t.tag[a[r]] = this.tag(a[r]); return t } }, DayPilot.Task = function (e, t) { if (!e) throw "Trying to initialize DayPilot.Task with null data parameter"; var n = this, i = null; if (e instanceof DayPilot.Event) i = e, this.data = e.data.task; else { if (e instanceof DayPilot.Task) return e; e.isTaskWrapper ? this.data = e.data : this.data = e } var a = {}, r = ["id", "text", "start", "end", "complete", "type"]; this.isTask = !0, this.calendar = t, this.temp = function () { if (a.dirty) return a; for (var e = 0; e < r.length; e++)a[r[e]] = n.data[r[e]]; return a.dirty = !0, a }, this.copy = function () { var e = {}; return DayPilot.Util.copyProps(n.data, e), e }, this.commit = function () { if (a.dirty) { for (var e = 0; e < r.length; e++)n.data[r[e]] = a[r[e]]; a.dirty = !1 } }, this.dirty = function () { return a.dirty }, this.id = function (e) { return "undefined" == typeof e ? n.data.id : void (this.temp().id = e) }, this.text = function (e) { if ("undefined" == typeof e) return n.data.text; this.temp().text = e; var t = DayPilot.Util.escapeHtml(e); this.client.innerHTML(t) }, this.start = function (e) { return "undefined" == typeof e ? new DayPilot.Date(n.data.start) : void (this.temp().start = new DayPilot.Date(e)) }, this.duration = function () { return new DayPilot.Duration(this.start(), this.end()) }, this.end = function (e) { return "undefined" == typeof e ? t && "Date" === t.eventEndSpec ? new DayPilot.Date(n.data.end).getDatePart().addDays(1) : new DayPilot.Date(n.data.end) : void (this.temp().end = new DayPilot.Date(e)) }, this.type = function (e) { return "undefined" == typeof e ? i ? i.data.type || "Task" : n.data.type : void (this.temp().type = e) }, this.complete = function (e) { return "undefined" == typeof e ? n.data.complete ? n.data.complete : 0 : void (this.temp().complete = e) }, this.children = function () { var e = []; e.add = function (e) { var t = new DayPilot.Task(e); this.data.children || (this.data.children = []), this.children.push(t.data) }; for (var n = 0; this.data.children && n < this.data.children.length; n++)e.push(new DayPilot.Task(this.data.children[n], t)); return e }, this.toJSON = function (e) { var t = {}; return t.id = this.id(), t.text = this.text(), t.start = this.start().toJSON(), t.end = this.end().toJSON(), t.type = this.type(), t.tags = {}, DayPilot.Util.copyProps(this.data.tags, t.tags), t }, this.row = {}; var o = this.row; o.expanded = function (e) { return "undefined" == typeof e ? !n.data.row || !n.data.row.collapsed : (n.data.row || (n.data.row = {}), !!n.data.row.collapsed != !e && t.internal.rowObjectForTaskData(n.data).toggle(), n.data.row.collapsed = !e, void 0) }, o.expand = function () { o.expanded(!0) }, o.collapse = function () { o.expanded(!1) }, o.toggle = function () { o.expanded(!o.expanded()) } }, DayPilot.request = function (e, t, n, i) { var a = DayPilot.createXmlHttp(); a && (a.open("POST", e, !0), a.setRequestHeader("Content-type", "text/plain"), a.onreadystatechange = function () { if (4 === a.readyState) return 200 !== a.status && 304 !== a.status ? void (i ? i(a) : window.console && console.log("HTTP error " + a.status)) : void t(a) }, 4 !== a.readyState && ("object" == typeof n && (n = JSON.stringify(n)), a.send(n))) }, DayPilot.ajax = function (e) { if (!e) throw new DayPilot.Exception("Parameter object required."); if ("string" != typeof e.url) throw new DayPilot.Exception("The parameter object must have 'url' property."); var t = DayPilot.createXmlHttp(); if (!t) throw new DayPilot.Exception("Unable to create XMLHttpRequest object"); var n = "object" == typeof e.data, i = e.data, a = e.method || (e.data ? "POST" : "GET"), r = e.success || function () { }, o = e.error || function () { }, s = e.url, l = e.contentType || (n ? "application/json" : "text/plain"), d = e.headers || {}; t.open(a, s, !0), t.setRequestHeader("Content-type", l), DayPilot.Util.ownPropsAsArray(d).forEach(function (e) { t.setRequestHeader(e.key, e.val) }), t.onreadystatechange = function () { if (4 === t.readyState) if (200 === t.status || 201 === t.status || 204 === t.status || 304 === t.status) { var e = {}; e.request = t, t.responseText && (e.data = JSON.parse(t.responseText)), r(e) } else if (o) { var e = {}; e.request = t, o(e) } else window.console && console.log("HTTP error " + t.status) }, 4 !== t.readyState && (n && (i = JSON.stringify(i)), t.send(i)) }, DayPilot.createXmlHttp = function () { return new XMLHttpRequest }, DayPilot.Http = {}, DayPilot.Http.ajax = function (e) { DayPilot.ajax(e) }, DayPilot.Http.get = function (e, t) { return t = t || {}, new Promise(function (n, i) { var a = {}; a.url = e, a.method = "GET", a.success = function (e) { n(e) }, a.error = function (e) { i(e) }, a.contentType = t.contentType, a.headers = t.headers, DayPilot.ajax(a) }) }, DayPilot.Http.post = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "POST", r.data = t, r.success = function (e) { i(e) }, r.error = function (e) { a(e) }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r) }) }, DayPilot.Http.put = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "PUT", r.data = t, r.success = function (e) { i(e) }, r.error = function (e) { a(e) }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r) }) }, DayPilot.Http.delete = function (e, t) { return t = t || {}, new Promise(function (n, i) { var a = {}; a.url = e, a.method = "DELETE", a.success = function (e) { n(e) }, a.error = function (e) { i(e) }, a.contentType = t.contentType, a.headers = t.headers, DayPilot.ajax(a) }) }, DayPilot.Http.patch = function (e, t, n) { return n = n || {}, new Promise(function (i, a) { var r = {}; r.url = e, r.method = "PATCH", r.data = t, r.success = function (e) { i(e) }, r.error = function (e) { a(e) }, r.contentType = n.contentType, r.headers = n.headers, DayPilot.ajax(r) }) }, DayPilot.Duration = function (e) { var t = this, n = 864e5, i = 36e5, a = 6e4, r = 1e3; if (2 === arguments.length) { var o = arguments[0], s = arguments[1]; if (!(o instanceof DayPilot.Date) && "string" != typeof o) throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected"; if (!(s instanceof DayPilot.Date) && "string" != typeof s) throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected"; "string" == typeof o && (o = new DayPilot.Date(o)), "string" == typeof s && (s = new DayPilot.Date(s)), e = s.getTime() - o.getTime() } return this.ticks = e || 0, DayPilot.Date.Cache.DurationCtor["" + e] ? DayPilot.Date.Cache.DurationCtor["" + e] : (DayPilot.Date.Cache.DurationCtor["" + e] = this, this.toString = function (e) { if (!e) return t.days() + "." + t.hours() + ":" + t.minutes() + ":" + t.seconds() + "." + t.milliseconds(); var n = t.minutes(); n = (n < 10 ? "0" : "") + n; var i = e; return i = i.replace("mm", n), i = i.replace("m", t.minutes()), i = i.replace("H", t.hours()), i = i.replace("h", t.hours()), i = i.replace("d", t.days()), i = i.replace("s", t.seconds()) }, this.totalHours = function () { return t.ticks / i }, this.totalDays = function () { return t.ticks / n }, this.totalMinutes = function () { return t.ticks / a }, this.totalSeconds = function () { return t.ticks / r }, this.totalMilliseconds = function () { return t.ticks }, this.days = function () { return Math.floor(t.totalDays()) }, this.hours = function () { var e = t.ticks - t.days() * n; return Math.floor(e / i) }, this.minutes = function () { var e = t.ticks - Math.floor(t.totalHours()) * i; return Math.floor(e / a) }, this.seconds = function () { var e = t.ticks - Math.floor(t.totalMinutes()) * a; return Math.floor(e / r) }, this.milliseconds = function () { return t.ticks % r }, void (this.add = function (e) { return new DayPilot.Duration(t.ticks + e.ticks) })) }, DayPilot.Duration.ofWeeks = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7) }, DayPilot.Duration.ofDays = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60 * 24) }, DayPilot.Duration.ofHours = function (e) { return new DayPilot.Duration(1e3 * e * 60 * 60) }, DayPilot.Duration.ofMinutes = function (e) { return new DayPilot.Duration(1e3 * e * 60) }, DayPilot.Duration.ofSeconds = function (e) { return new DayPilot.Duration(1e3 * e) }, DayPilot.Duration.weeks = function (e) { return DayPilot.Duration.ofWeeks(e) }, DayPilot.Duration.days = function (e) { return DayPilot.Duration.ofDays(e) }, DayPilot.Duration.hours = function (e) { return DayPilot.Duration.ofHours(e) }, DayPilot.Duration.minutes = function (e) { return DayPilot.Duration.ofMinutes(e) }, DayPilot.Duration.seconds = function (e) { return DayPilot.Duration.ofSeconds(e) }, DayPilot.TimeSpan = function () { throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan." }; try { DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype) } catch (e) { } DayPilot.Date = function (t, n) { if (t instanceof DayPilot.Date) return t; var i; DayPilot.Util.isNullOrUndefined(t) && (i = DayPilot.DateUtil.fromLocal().getTime(), t = i); var a = DayPilot.Date.Cache.Ctor; if (a[t]) return DayPilot.Stats.cacheHitsCtor += 1, a[t]; var r = !1; if ("string" == typeof t) { try { i = DayPilot.DateUtil.fromStringSortable(t, n).getTime() } catch (e) { throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: " + t) } r = !0 } else if ("number" == typeof t) { if (isNaN(t)) throw "Cannot create DayPilot.Date from NaN"; i = t } else { if (!(t instanceof Date)) throw "Unrecognized parameter: use Date, number or string in ISO 8601 format"; i = n ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime() } var o = e(i); return a[o] ? a[o] : (a[o] = this, a[i] = this, r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this), Object.defineProperty ? (Object.defineProperty(this, "ticks", { get: function () { return i } }), Object.defineProperty(this, "value", { "value": o, "writable": !1, "enumerable": !0 })) : (this.ticks = i, this.value = o), DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)), void (DayPilot.Stats.dateObjects += 1)) }, DayPilot.Date.Config = {}, DayPilot.Date.Config.legacyShowD = !1, DayPilot.Date.Cache = {}, DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, DayPilot.Date.Cache.DurationCtor = {}, DayPilot.Date.Cache.clear = function () { DayPilot.Date.Cache.Parsing = {}, DayPilot.Date.Cache.Ctor = {}, DayPilot.Date.Cache.Ticks = {}, DayPilot.Date.Cache.DurationCtor = {} }, DayPilot.Date.prototype.addDays = function (e) { return e ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this }, DayPilot.Date.prototype.addHours = function (e) { return e ? this.addTime(60 * e * 60 * 1e3) : this }, DayPilot.Date.prototype.addMilliseconds = function (e) { return e ? this.addTime(e) : this }, DayPilot.Date.prototype.addMinutes = function (e) { return e ? this.addTime(60 * e * 1e3) : this }, DayPilot.Date.prototype.addMonths = function (e) { if (!e) return this; var t = new Date(this.ticks), n = t.getUTCFullYear(), i = t.getUTCMonth() + 1; if (e > 0) { for (; e >= 12;)e -= 12, n++; e > 12 - i ? (n++, i = e - (12 - i)) : i += e } else { for (; e <= -12;)e += 12, n--; i + e <= 0 ? (n--, i = 12 + i + e) : i += e } var a = new Date(t.getTime()); a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1); var r = new DayPilot.Date(a).daysInMonth(); return a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a) }, DayPilot.Date.prototype.addSeconds = function (e) { return e ? this.addTime(1e3 * e) : this }, DayPilot.Date.prototype.addTime = function (e) { return e ? (e instanceof DayPilot.Duration && (e = e.ticks), new DayPilot.Date(this.ticks + e)) : this }, DayPilot.Date.prototype.addYears = function (e) { var t = new Date(this.ticks), n = new Date(this.ticks), i = this.getYear() + e, a = this.getMonth(); n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a); var r = new DayPilot.Date(n).daysInMonth(); return n.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(n) }, DayPilot.Date.prototype.dayOfWeek = function () { return new Date(this.ticks).getUTCDay() }, DayPilot.Date.prototype.dayOfWeekISO = function () { return new Date(this.ticks).getUTCDay() || 7 }, DayPilot.Date.prototype.getDayOfWeek = function () { return new Date(this.ticks).getUTCDay() }, DayPilot.Date.prototype.getDayOfYear = function () { var e = this.firstDayOfYear(); return DayPilot.DateUtil.daysDiff(e, this) + 1 }, DayPilot.Date.prototype.daysInMonth = function () { var e = new Date(this.ticks), t = e.getUTCMonth() + 1, n = e.getUTCFullYear(), i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]; return 2 !== t ? i[t - 1] : n % 4 !== 0 ? i[1] : n % 100 === 0 && n % 400 !== 0 ? i[1] : i[1] + 1 }, DayPilot.Date.prototype.daysInYear = function () { var e = this.getYear(); return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366 }, DayPilot.Date.prototype.dayOfYear = function () { return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1 }, DayPilot.Date.prototype.equals = function (e) { if (null === e) return !1; if (e instanceof DayPilot.Date) return this === e; throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())" }, DayPilot.Date.prototype.firstDayOfMonth = function () { var e = new Date; return e.setUTCFullYear(this.getYear(), this.getMonth(), 1), e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e) }, DayPilot.Date.prototype.firstDayOfYear = function () { var e = this.getYear(), t = new Date; return t.setUTCFullYear(e, 0, 1), t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), t.setUTCMilliseconds(0), new DayPilot.Date(t) }, DayPilot.Date.prototype.firstDayOfWeek = function (e) { var t = this; if (e instanceof DayPilot.Locale) e = e.weekStarts; else if ("string" == typeof e && DayPilot.Locale.find(e)) { var n = DayPilot.Locale.find(e); e = n.weekStarts } else e = e || 0; for (var i = t.dayOfWeek(); i !== e;)t = t.addDays(-1), i = t.dayOfWeek(); return new DayPilot.Date(t) }, DayPilot.Date.prototype.getDay = function () { return new Date(this.ticks).getUTCDate() }, DayPilot.Date.prototype.getDatePart = function () { var e = new Date(this.ticks); return e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e) }, DayPilot.Date.prototype.getYear = function () { return new Date(this.ticks).getUTCFullYear() }, DayPilot.Date.prototype.getHours = function () { return new Date(this.ticks).getUTCHours() }, DayPilot.Date.prototype.getMilliseconds = function () { return new Date(this.ticks).getUTCMilliseconds() }, DayPilot.Date.prototype.getMinutes = function () { return new Date(this.ticks).getUTCMinutes() }, DayPilot.Date.prototype.getMonth = function () { return new Date(this.ticks).getUTCMonth() }, DayPilot.Date.prototype.getSeconds = function () { return new Date(this.ticks).getUTCSeconds() }, DayPilot.Date.prototype.getTotalTicks = function () { return this.getTime() }, DayPilot.Date.prototype.getTime = function () { return this.ticks }, DayPilot.Date.prototype.getTimePart = function () { var e = this.getDatePart(); return DayPilot.DateUtil.diff(this, e) }, DayPilot.Date.prototype.lastDayOfMonth = function () { var e = new Date(this.firstDayOfMonth().getTime()), t = this.daysInMonth(); return e.setUTCDate(t), new DayPilot.Date(e) }, DayPilot.Date.prototype.weekNumber = function () { var e = this.firstDayOfYear(), t = (this.getTime() - e.getTime()) / 864e5; return Math.ceil((t + e.dayOfWeek() + 1) / 7) }, DayPilot.Date.prototype.weekNumberISO = function () { var e = !1, t = this.dayOfYear(), n = this.firstDayOfYear().dayOfWeek(), i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek(); 0 === n && (n = 7), 0 === i && (i = 7); var a = 8 - n; 4 !== n && 4 !== i || (e = !0); var r = Math.ceil((t - a) / 7), o = r; return a >= 4 && (o += 1), o > 52 && !e && (o = 1), 0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()), o }, DayPilot.Date.prototype.toDateLocal = function () { var e = new Date(this.ticks), t = new Date; return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()), t.setHours(e.getUTCHours()), t.setMinutes(e.getUTCMinutes()), t.setSeconds(e.getUTCSeconds()), t.setMilliseconds(e.getUTCMilliseconds()), t }, DayPilot.Date.prototype.toDate = function () { return new Date(this.ticks) }, DayPilot.Date.prototype.toJSON = function () { return this.value }, DayPilot.Date.prototype.toString = function (e, t) { return e ? new r(e, t).print(this) : this.toStringSortable() }, DayPilot.Date.prototype.toStringSortable = function () { return e(this.ticks) }, DayPilot.Date.parse = function (e, t, n) { return new r(t, n).parse(e) }; var a = 0; DayPilot.Date.today = function () { return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0) }, DayPilot.Date.now = function () { return new DayPilot.Date }, DayPilot.Date.fromYearMonthDay = function (e, t, n) { t = t || 1, n = n || 1; var i = new Date(0); return i.setUTCFullYear(e), i.setUTCMonth(t - 1), i.setUTCDate(n), new DayPilot.Date(i) }, DayPilot.DateUtil = {}, DayPilot.DateUtil.fromStringSortable = function (e, t) {
            var n = function () { return new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" + e + "'") }; if (!e) throw new DayPilot.Exception("Can't create DayPilot.Date from an empty string"); var i = e.length, a = 10 === i, r = 19 === i, o = i > 19; if (!a && !r && !o) throw n(); if (DayPilot.Date.Cache.Parsing[e] && !t) return DayPilot.Stats.cacheHitsParsing += 1, DayPilot.Date.Cache.Parsing[e]; var s = e.substring(0, 4); if (isNaN(s)) throw n();
            var l = e.substring(5, 7); if (isNaN(l)) throw n(); var d = e.substring(8, 10); if (isNaN(d)) throw n(); var c = new Date(0); if (c.setUTCFullYear(s, l - 1, d), a) return DayPilot.Date.Cache.Parsing[e] = c, c; var u = e.substring(11, 13); if (isNaN(u)) throw n(); var h = e.substring(14, 16); if (isNaN(h)) throw n(); var f = e.substring(17, 19); if (isNaN(f)) throw n(); if (c.setUTCHours(u), c.setUTCMinutes(h), c.setUTCSeconds(f), r) return DayPilot.Date.Cache.Parsing[e] = c, c; var v = e[19], p = 0; if ("." === v) { var m = parseInt(e.substring(20, 23)); if (isNaN(m)) throw n(); c.setUTCMilliseconds(m), p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23)) } else p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19)); var g = new DayPilot.Date(c); return t || (g = g.addMinutes(-p)), c = g.toDate(), DayPilot.Date.Cache.Parsing[e] = c, c
        }, DayPilot.DateUtil.getTzOffsetMinutes = function (e) { if (DayPilot.Util.isNullOrUndefined(e) || "" === e) return 0; if ("Z" === e) return 0; var t = e[0], n = parseInt(e.substring(1, 3)), i = parseInt(e.substring(4)), a = 60 * n + i; if ("-" === t) return -a; if ("+" === t) return a; throw "Invalid timezone spec: " + e }, DayPilot.DateUtil.hasTzSpec = function (e) { return !!e.indexOf("+") || !!e.indexOf("-") }, DayPilot.DateUtil.daysDiff = function (e, t) { if (e && t || function () { throw "two parameters required" }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e.getTime() > t.getTime()) return null; for (var n = 0, i = e.getDatePart(), a = t.getDatePart(); i.getTime() < a.getTime();)i = i.addDays(1), n++; return n }, DayPilot.DateUtil.daysSpan = function (e, t) { if (e && t || function () { throw "two parameters required" }(), e = new DayPilot.Date(e), t = new DayPilot.Date(t), e.getTime() === t.getTime()) return 0; var n = DayPilot.DateUtil.daysDiff(e, t); return t.getTime() === t.getDatePart().getTime() && n--, n }, DayPilot.DateUtil.diff = function (e, t) { if (!(e && t && e.getTime && t.getTime)) throw "Both compared objects must be Date objects (DayPilot.Date.diff)."; return e.getTime() - t.getTime() }, DayPilot.DateUtil.fromLocal = function (e) { e || (e = new Date); var t = new Date; return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t.setUTCHours(e.getHours()), t.setUTCMinutes(e.getMinutes()), t.setUTCSeconds(e.getSeconds()), t.setUTCMilliseconds(e.getMilliseconds()), t }, DayPilot.DateUtil.localToday = function () { var e = new Date; return e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e }, DayPilot.DateUtil.hours = function (e, t) { var n = e.getUTCMinutes(); n < 10 && (n = "0" + n); var i = e.getUTCHours(); if (t) { var a = i < 12, i = i % 12; 0 === i && (i = 12); return i + ":" + n + " " + (a ? "AM" : "PM") } return i + ":" + n }, DayPilot.DateUtil.max = function (e, t) { return e.getTime() > t.getTime() ? e : t }, DayPilot.DateUtil.min = function (e, t) { return e.getTime() < t.getTime() ? e : t }; var r = function (e, n) { "string" == typeof n && (n = DayPilot.Locale.find(n)); var n = n || DayPilot.Locale.US, i = [{ "seq": "yyyy", "expr": "[0-9]{4,4}", "str": function (e) { return e.getYear() } }, { "seq": "yy", "expr": "[0-9]{2,2}", "str": function (e) { return e.getYear() % 100 }, "transform": function (e) { return parseInt(e) + 2e3 } }, { "seq": "mm", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getMinutes(); return t < 10 ? "0" + t : t } }, { "seq": "m", "expr": "[0-9]{1,2}", "str": function (e) { return e.getMinutes() } }, { "seq": "HH", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getHours(); return t < 10 ? "0" + t : t } }, { "seq": "H", "expr": "[0-9]{1,2}", "str": function (e) { return e.getHours() } }, { "seq": "hh", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getHours(), t = t % 12; 0 === t && (t = 12); var n = t; return n < 10 ? "0" + n : n } }, { "seq": "h", "expr": "[0-9]{1,2}", "str": function (e) { var t = e.getHours(), t = t % 12; return 0 === t && (t = 12), t } }, { "seq": "ss", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getSeconds(); return t < 10 ? "0" + t : t } }, { "seq": "s", "expr": "[0-9]{1,2}", "str": function (e) { return e.getSeconds() } }, { "seq": "MMMM", "expr": "[^\\s0-9]*", "str": function (e) { return n.monthNames[e.getMonth()] }, "transform": function (e) { var i = DayPilot.indexOf(n.monthNames, e, t); return i < 0 ? null : i + 1 } }, { "seq": "MMM", "expr": "[^\\s0-9]*", "str": function (e) { return n.monthNamesShort[e.getMonth()] }, "transform": function (e) { var i = DayPilot.indexOf(n.monthNamesShort, e, t); return i < 0 ? null : i + 1 } }, { "seq": "MM", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getMonth() + 1; return t < 10 ? "0" + t : t } }, { "seq": "M", "expr": "[0-9]{1,2}", "str": function (e) { return e.getMonth() + 1 } }, { "seq": "dddd", "expr": "[^\\s0-9]*", "str": function (e) { return n.dayNames[e.getDayOfWeek()] } }, { "seq": "ddd", "expr": "[^\\s0-9]*", "str": function (e) { return n.dayNamesShort[e.getDayOfWeek()] } }, { "seq": "dd", "expr": "[0-9]{2,2}", "str": function (e) { var t = e.getDay(); return t < 10 ? "0" + t : t } }, { "seq": "%d", "expr": "[0-9]{1,2}", "str": function (e) { return e.getDay() } }, { "seq": "d", "expr": "[0-9]{1,2}", "str": function (e) { return e.getDay() } }, { "seq": "tt", "expr": "(AM|PM|am|pm)", "str": function (e) { return e.getHours() < 12 ? "AM" : "PM" }, "transform": function (e) { return e.toUpperCase() } }], a = function (e) { return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") }; this.init = function () { this.year = this.findSequence("yyyy") || this.findSequence("yy"), this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M"), this.day = this.findSequence("dd") || this.findSequence("d"), this.hours = this.findSequence("HH") || this.findSequence("H"), this.minutes = this.findSequence("mm") || this.findSequence("m"), this.seconds = this.findSequence("ss") || this.findSequence("s"), this.ampm = this.findSequence("tt"), this.hours12 = this.findSequence("hh") || this.findSequence("h") }, this.findSequence = function (t) { function n(e) { return parseInt(e) } return e.indexOf(t) === -1 ? null : { "findValue": function (r) { for (var o = a(e), s = null, l = 0; l < i.length; l++) { var d = (i[l].length, t === i[l].seq), c = i[l].expr; d && (c = "(" + c + ")", s = i[l].transform), o = o.replace(i[l].seq, c) } o = "^" + o + "$"; try { var u = new RegExp(o), h = u.exec(r); return h ? (s = s || n)(h[1]) : null } catch (e) { throw "unable to create regex from: " + o } } } }, this.print = function (t) { for (var n = function (e) { for (var t = 0; t < i.length; t++)if (i[t] && i[t].seq === e) return i[t]; return null }, a = e.length <= 0, r = 0, o = []; !a;) { var s = e.substring(r), l = /%?(.)\1*/.exec(s); if (l && l.length > 0) { var d = l[0], c = n(d); c ? o.push(c) : o.push(d), r += d.length, a = e.length <= r } else a = !0 } for (var u = 0; u < o.length; u++) { var h = o[u]; "string" != typeof h && (o[u] = h.str(t)) } return o.join("") }, this.parse = function (e) { var t = this.year.findValue(e); if (!t) return null; var n = this.month.findValue(e); if (DayPilot.Util.isNullOrUndefined(n)) return null; if (n > 12 || n < 1) return null; var i = this.day.findValue(e), a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth(); if (i < 1 || i > a) return null; var r = this.hours ? this.hours.findValue(e) : 0, o = this.minutes ? this.minutes.findValue(e) : 0, s = this.seconds ? this.seconds.findValue(e) : 0, l = this.ampm ? this.ampm.findValue(e) : null; if (this.ampm && this.hours12) { var d = this.hours12.findValue(e); if (d < 1 || d > 12) return null; r = "PM" === l ? 12 === d ? 12 : d + 12 : 12 === d ? 0 : d } if (r < 0 || r > 23) return null; if (o < 0 || o > 59) return null; if (s < 0 || s > 59) return null; var c = new Date; return c.setUTCFullYear(t, n - 1, i), c.setUTCHours(r), c.setUTCMinutes(o), c.setUTCSeconds(s), c.setUTCMilliseconds(0), new DayPilot.Date(c) }, this.init() }; DayPilot.ColorUtil = {}, DayPilot.ColorUtil.hexToRgb = function (e) { if (!/^#[0-9a-f]{6}$/i.test(e)) throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'."); return e = e.replace("#", ""), { r: parseInt(e.substring(0, 2), 16), g: parseInt(e.substring(2, 4), 16), b: parseInt(e.substring(4, 6), 16) } }, DayPilot.ColorUtil.rgbToHex = function (e) { return "#" + n(e.r) + n(e.g) + n(e.b) }, DayPilot.ColorUtil.adjustLuminance = function (e, t) { return { r: e.r + t, g: e.g + t, b: e.b + t } }, DayPilot.ColorUtil.darker = function (e, t) { var n = ""; 9 === e.length && (n = e.slice(7, 9), e = e.slice(0, 7)); var i = DayPilot.ColorUtil.hexToRgb(e); "number" != typeof t && (t = 1); var a = 17, r = Math.round(t * a), o = DayPilot.ColorUtil.adjustLuminance(i, -r); return DayPilot.ColorUtil.rgbToHex(o) + n }, DayPilot.ColorUtil.lighter = function (e, t) { return "number" != typeof t && (t = 1), DayPilot.ColorUtil.darker(e, -t) }, DayPilot.ColorUtil.pl = function (e) { var t = DayPilot.ColorUtil.hexToRgb(e), n = t.r / 255, i = t.g / 255, a = t.b / 255; return Math.sqrt(.299 * n * n + .587 * i * i + .114 * a * a) }, DayPilot.ColorUtil.contrasting = function (e, t, n) { var i = DayPilot.ColorUtil.pl(e); return t = t || "#ffffff", n = n || "#000000", i > .5 ? n : t }, DayPilot.Canvas = function (e, t, n, i, a) { function r(e, t, n) { for (var i = t.split(" "), a = [], r = i[0], o = 1; o < i.length; o++) { var s = i[o]; e.measureText(r + " " + s).width < n ? r += " " + s : (a.push(r), r = s) } return a.push(r), a } var i = i || 1, s = document.createElement("canvas"); s.width = e * i, s.height = t * i; var l = s.getContext("2d"); l.scale(i, i), this.defaultFileName = "image.png", "image/jpeg" === n && (this.defaultFileName = "image.jpg", a = a || .92), this.groupStart = function (e) { }, this.groupEnd = function () { }, this.fillRect = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.fillRect(e.x, e.y, e.w, e.h), l.restore() }, this.rect = function (e, t) { l.save(), l.strokeStyle = t, l.beginPath(), l.rect(e.x + .5, e.y + .5, e.w - 1, e.h - 1), l.stroke(), l.restore() }, this.diamond = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x + e.w / 2, e.y + .5), l.lineTo(e.x + e.w - .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 2, e.y + e.h - .5), l.lineTo(e.x + .5, e.y + e.h / 2), l.closePath(), l.fill(), l.restore() }, this.triangle = function (e, t, n) { for (n = n || 0; n < 0;)n += 360; for (; n >= 360;)n -= 360; switch (l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), n) { case 0: l.moveTo(e.x + e.w / 3, e.y + .5), l.lineTo(e.x + e.w + .5, e.y + e.h / 2), l.lineTo(e.x + e.w / 3, e.y + e.h - .5); break; case 90: l.moveTo(e.x - .5, e.y + e.h / 3), l.lineTo(e.x + e.w + .5, e.y + e.h / 3), l.lineTo(e.x + e.w / 2, e.y + e.h + .5); break; case 180: l.moveTo(e.x + 2 * e.w / 3, e.y + .5), l.lineTo(e.x + 2 * e.w / 3, e.y + e.h), l.lineTo(e.x, e.y + e.h / 2); break; case 270: l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + .5), l.lineTo(e.x + e.w - .5, e.y + 2 * e.h / 3), l.lineTo(e.x, e.y + 2 * e.h / 3); break; default: throw new DayPilot.Exception("Unsupported rotation angle") }l.closePath(), l.fill(), l.restore() }, this.upperLeftCorner = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x, e.y + e.h), l.closePath(), l.fill(), l.restore() }, this.upperRightCorner = function (e, t) { l.save(), l.strokeStyle = "rgb(0,0,0,0)", l.fillStyle = t, l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x + e.w, e.y + e.h), l.closePath(), l.fill(), l.restore() }, this.textWidth = function (e, t) { l.save(), l.font = t.style + " " + t.size + " " + t.family; var n = l.measureText(e).width + 1; return l.restore(), n }, this.text = function (e, t, n, i, a, o, s, d) { if (t) { if ("number" == typeof t && (t = "" + t), "string" != typeof t) throw "String expected, supplied: " + typeof t; a = a || "left", o = o || 0, i = i || "#000", s = s || "top", l.save(); var c = DayPilot.Util.fontHeight(n), u = DayPilot.browser.ff ? 3 : 0; u += .2 * c, u += DayPilot.browser.chrome ? 1 : 0, l.beginPath(), l.rect(e.x + .5 + o, e.y + .5 + o, e.w - 1 - o, e.h - 1 - o), l.clip(), l.fillStyle = i, l.font = n.style + " " + n.size + " " + n.family, l.textBaseline = "top", l.textAlign = a; var h = e.x; switch (a) { case "left": h += o; break; case "center": h += e.w / 2; break; case "right": h += e.w - o }var f = 1.2 * c, v = t.split("\n"), p = []; DayPilot.list(v).forEach(function (t) { if (d) { var n = r(l, t, e.w); DayPilot.list(n).forEach(function (e) { p.push(e) }) } else p.push(t) }); var m = f - c, g = f * p.length - m, y = e.h - 2 * o, b = e.y + o; switch (s) { case "top": b += u; break; case "center": b += (y - g) / 2 + .1 * c; break; case "bottom": b += y - g }for (var w = 0; w < p.length; w++) { var x = p[w]; l.fillText(x, h, b), b += f } l.restore() } }, this.line = function (e, t, n, i, a) { l.save(), l.lineWidth = 1, l.strokeStyle = a, l.beginPath(), l.moveTo(e + .5, t + .5), l.lineTo(n + .5, i + .5), l.stroke(), l.restore() }, this.image = function (e, t) { if (t) { if ("string" == typeof t) { var n = t, t = document.createElement("img"); if (0 !== n.indexOf("data:"), !0) return t.onload = function () { l.save(), l.drawImage(t, e.x, e.y), l.restore() }, void (t.src = n); t.src = n } l.save(), l.drawImage(t, e.x, e.y), l.restore() } }, this.symbol = function (e, t, n) { var i = "http://www.w3.org/2000/svg", a = document.createElementNS(i, "svg"), r = this; n = n || {}; var s = n.color; new o(t).l().then(function (t) { if (s) { var n = document.createElementNS(i, "style"); n.innerHTML = "svg { color: " + s + "; }", a.appendChild(n) } a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h); var o = document.createElementNS(i, "g"); o.innerHTML = t.innerHTML, a.appendChild(o); var l = (new XMLSerializer).serializeToString(a), d = "data:image/svg+xml;base64," + btoa(l); r.image(e, d) }) }, this.getWidth = function () { return s.width }, this.getHeight = function () { return s.height }, this.getElement = function () { return s }, this.getSource = function () { return "<img src='" + s.toDataURL(n, a) + "' />" }, this.getDataUri = function () { return s.toDataURL(n, a) }, this.getDefaultFileName = function () { return this.defaultFileName }, this.getBlob = function () { return s.msToBlob ? s.msToBlob() : DayPilot.Util.dataUriToBlob(this.getDataUri()) } }, DayPilot.Svg = function (e, t) { function n(e, t) { var n = document.createElementNS(a, "clipPath"); n.id = "clip" + DayPilot.guid(); var i = document.createElementNS(a, "rect"); i.setAttribute("x", 0), i.setAttribute("y", 0), i.setAttribute("width", e), i.setAttribute("height", t), n.appendChild(i), s.defs.appendChild(n); var o = document.createElementNS(a, "g"); o.setAttribute("clip-path", "url(#" + n.id + ")"), r.appendChild(o), r = o } function i(e, t) { var n = null; if (e) { if ("string" == typeof e) { if (0 === e.indexOf("data:")) { var i = {}; i.dataUri = e, t(i) } n = e } else n = e.src; var e = document.createElement("img"); e.onload = function () { var e = document.createElement("canvas"); e.width = this.naturalWidth, e.height = this.naturalHeight, e.getContext("2d").drawImage(this, 0, 0); var n = {}; n.dataUri = e.toDataURL("image/png"), t(n) }, e.src = n } } var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg"), s = this; this.m = r, this.groups = [], r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 " + e + " " + t); var l = document.createElementNS(a, "defs"); r.appendChild(l), s.defs = l, n(e, t), this.defaultFileName = "image.svg", this.groupStart = function (e) { var t = document.createElementNS(a, "g"); for (var n in e) t.setAttribute("data-" + n, e[n]); r = t, this.group && this.groups.push(this.group), this.group = t }, this.groupEnd = function () { if (!this.group) throw new DayPilot.Exception("SVG export = group not open"); var e = this.group; this.group = this.groups.pop(), r = this.group, r || (r = this.m), r.appendChild(e) }, this.fillRect = function (e, t) { var n = document.createElementNS(a, "rect"); n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), n.setAttribute("fill", t), r.appendChild(n) }, this.diamond = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + (e.x + e.w / 2) + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), i += " ", i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h), i += " ", i += "L " + e.x + " " + (e.y + e.h / 2), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n) }, this.triangle = function (e, t, n) { var i = document.createElementNS(a, "path"), o = ""; o += "M " + (e.x + e.w / 3) + " " + e.y, o += " ", o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2), o += " ", o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h), o += " Z", i.setAttribute("d", o), i.setAttribute("fill", t), "number" == typeof n && i.setAttribute("transform", "rotate(" + n + "," + (e.x + e.w / 2) + "," + (e.y + e.h / 2) + ")"), r.appendChild(i) }, this.upperLeftCorner = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + e.x + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + e.y, i += " ", i += "L " + e.x + " " + (e.y + e.h), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n) }, this.upperRightCorner = function (e, t) { var n = document.createElementNS(a, "path"), i = ""; i += "M " + e.x + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + e.y, i += " ", i += "L " + (e.x + e.w) + " " + (e.y + e.h), i += " Z", n.setAttribute("d", i), n.setAttribute("fill", t), r.appendChild(n) }, this.rect = function (e, t) { if (!(e.w <= 0 || e.h <= 0)) { var n = document.createElementNS(a, "rect"); n.setAttribute("x", e.x + .5), n.setAttribute("y", e.y + .5), n.setAttribute("width", e.w - 1), n.setAttribute("height", e.h - 1), n.setAttribute("stroke", t), n.setAttribute("stroke-width", "1"), n.setAttribute("fill", "transparent"), r.appendChild(n) } }, this.text = function (e, t, n, i, o, l, d, c) { function u(e, t, o) { var s = document.createElementNS(a, "text"); s.setAttribute("fill", i), s.setAttribute("font-family", n.family), s.setAttribute("font-size", n.size), s.setAttribute("font-style", f), s.setAttribute("font-weight", v), s.setAttribute("x", t), s.setAttribute("y", o), s.setAttribute("dy", "0.8em"), s.setAttribute("text-anchor", g), s.setAttribute("clip-path", "url(#" + y.id + ")"); var l = document.createTextNode(e); return s.appendChild(l), r.appendChild(s), s } function h(e, t) { var n = e.textContent, i = n.split("\n"), r = [], o = document.createElementNS(a, "svg"), s = e.cloneNode(!0); o.appendChild(s), o.style.position = "absolute", o.style.left = "-10000px", o.style.top = "-10000px", document.body.appendChild(o); for (var l = 0; l < i.length; l++) { for (var d, c = i[l], u = c.split(/\s+/).reverse(), h = []; d = u.pop();)h.push(d), s.textContent = h.join(" "), s.getComputedTextLength() > t && (h.pop(), r.push(h.join(" ")), h = [d]); r.push(h.join(" ")) } e.textContent = "", document.body.removeChild(o); for (var f = e.getAttribute("x") || 0, v = 0; v < r.length; v++) { var p = document.createElementNS(a, "tspan"); p.textContent = r[v], p.setAttribute("x", f), v > 0 && p.setAttribute("dy", w), e.appendChild(p) } return r } if (t) { if ("number" == typeof t && (t = "" + t), "string" != typeof t) throw "String expected, supplied: " + typeof t; if (!(e.w < 0)) { o = o || "left", l = l || 0, d = d || "top"; var f = n.style; f.indexOf("italic") !== -1 && (f = "bold"); var v = n.style; if (n.style) var p = 3; var m = e.x, g = "start"; switch (o) { case "center": m += e.w / 2, g = "middle"; break; case "right": m += e.w, g = "end" }var y = document.createElementNS(a, "clipPath"); y.id = "clip" + DayPilot.guid(); var b = document.createElementNS(a, "rect"); b.setAttribute("x", e.x), b.setAttribute("y", e.y), b.setAttribute("width", e.w), b.setAttribute("height", e.h), y.appendChild(b), s.defs.appendChild(y); var w = DayPilot.Util.fontHeight(n), x = 1.1 * w, k = e.y + l, C = x - w, _ = u(t, m + l, k), E = t.split("\n"); c && e.w > 0 && (E = h(_, e.w - 2 * l)); var S = x * E.length - C, T = e.h - 2 * l; switch (d) { case "top": k += p; break; case "center": k += (T - S) / 2 + .1 * w; break; case "bottom": k += T - S }_.setAttribute("y", k) } } }, this.line = function (e, t, n, i, o) { var s = document.createElementNS(a, "line"); s.setAttribute("x1", e + .5), s.setAttribute("y1", t + .5), s.setAttribute("x2", n + .5), s.setAttribute("y2", i + .5), s.setAttribute("stroke", o), r.appendChild(s) }, this.image = function (e, t) { function n(t) { var n = document.createElementNS(a, "image"); n.setAttribute("href", t.dataUri), n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), o.appendChild(n) } var o = document.createElementNS(a, "g"); r.appendChild(o), i(t, n) }, this.symbol = function (e, t, n) { var i = "http://www.w3.org/2000/svg", a = document.createElementNS(i, "symbol"), s = this; n = n || {}; var l = n.color; new o(t).l().then(function (t) { if (l) { var n = document.createElementNS(i, "style"); n.innerHTML = "svg { color: " + l + "; }", a.appendChild(n) } var o = DayPilot.guid(); a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h), a.setAttribute("id", o); var d = document.createElementNS(i, "g"); d.innerHTML = t.innerHTML, a.appendChild(d), s.m.appendChild(a); var c = document.createElementNS(i, "use"); c.setAttribute("href", "#" + o), c.setAttribute("x", e.x), c.setAttribute("y", e.y), r.appendChild(c) }) }, this.n = {}, this.textWidth = function (e, t) { var n = "#" + e + "#" + JSON.stringify(t), i = this.n[n]; if ("number" == typeof i) return i; var a = "http://www.w3.org/2000/svg", r = document.createElementNS(a, "svg"); r.style.position = "absolute", r.style.left = "-10000px", r.style.width = "100px", r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 100 100"); var o = document.createElementNS(a, "text"); o.setAttribute("font-family", t.family), o.setAttribute("font-size", t.size), o.setAttribute("font-style", t.style), o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("dy", "1em"); var s = document.createTextNode(e); o.appendChild(s), r.appendChild(o), document.body.appendChild(r); var l = o.getComputedTextLength(); return this.n[n] = l, document.body.removeChild(r), l }, this.getWidth = function () { return e }, this.getHeight = function () { return t }, this.getElement = function () { return this.m }, this.getSource = function () { if (this.m.outerHTML) return this.m.outerHTML; var e = document.createElement("div"), t = this.m.cloneNode(!0); return e.appendChild(t), e.innerHTML }, this.getDataUri = function () { return "data:application/octet-stream," + encodeURIComponent(this.getSource()) }, this.getDefaultFileName = function () { return this.defaultFileName }, this.getBlob = function () { return new Blob([this.getSource()]) } }, DayPilot.Excel = function () { var e = this, t = null, n = null, i = null, a = {}; a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet", a.o = "urn:schemas-microsoft-com:office:office", a.x = "urn:schemas-microsoft-com:office:excel", a.ss = "urn:schemas-microsoft-com:office:spreadsheet", a.html = "http://www.w3.org/TR/REC-html40", this.init = function () { t = document.implementation.createDocument(a.xmlns, "Workbook", null), t.documentElement.setAttribute("xmlns:o", a.o), t.documentElement.setAttribute("xmlns:x", a.x), t.documentElement.setAttribute("xmlns:ss", a.ss), t.documentElement.setAttribute("xmlns:html", a.html); var r = t.createElement("x:ExcelWorkbook"); t.documentElement.appendChild(r), n = t.createElement("ss:Styles"), t.documentElement.appendChild(n), i = e.styles.create(), i.setId("Default"), i.setName("Normal") }, this.worksheets = [], this.worksheets.create = function (t) { var n = e.el(a.ss, "Worksheet"), i = new r(n); return i.setName(t), this.push(i), i }, this.styles = [], this.styles.create = function (e) { var i = t.createElement("ss:Style"); n.appendChild(i); var a = new o(i); return this.push(a), a }, this.styles.getDefault = function () { return i }, this.el = function (e, n) { var i = t.createElementNS(e, n); return t.documentElement.appendChild(i), i }, this.getSource = function () { return '<?xml version="1.0"?>' + (new XMLSerializer).serializeToString(t) }, this.getDataUri = function () { return "data:application/vnd.ms-excel," + encodeURIComponent(this.getSource()) }, this.getElement = function () { return t }, this.getDefaultFileName = function () { return "spreadsheet.xls" }, this.getBlob = function () { return new Blob([this.getSource()]) }; var r = function (e) { var n = t.createElement("Table"); e.appendChild(n); var i = t.createElement("x:WorksheetOptions"); e.appendChild(i), this.rows = [], this.setName = function (t) { e.setAttribute("ss:Name", t) }, this.cell = function (e, i) { for (; i >= this.rows.length;) { var r = t.createElement("Row"); n.appendChild(r), this.rows.push(new a(r)) } return this.rows[i].cell(e) }, this.enableGridlines = function (e) { var n = DayPilot.list(i.childNodes).find(function (e) { return "x:DoNotDisplayGridlines" === e.tagName }); if (!n && !e) { var a = t.createElement("x:DoNotDisplayGridlines"); i.appendChild(a) } n && e && i.removeChild(n) }; var a = function (e) { this.cells = [], this.getElement = function () { return e }, this.cell = function (i) { for (; i >= this.cells.length;) { var a = t.createElement("Cell"); e.appendChild(a), this.cells.push(new n(a)) } return this.cells[i] }; var n = function (e) { this.setText = function (n) { var i = t.createElement("Data"); i.setAttribute("ss:Type", "String"); var a = t.createTextNode(n); for (i.appendChild(a); e.firstChild;)e.removeChild(e.firstChild); return e.appendChild(i), this }, this.setColspan = function (t) { return t > 1 ? e.setAttribute("ss:MergeAcross", t - 1) : e.removeAttribute("ss:MergeAcross"), this }, this.setRowspan = function (t) { return t > 1 ? e.setAttribute("ss:MergeDown", t - 1) : e.removeAttribute("ss:MergeDown"), this }, this.setStyle = function (t) { if (!(t instanceof o)) throw "Invalid argument, Style expected"; return e.setAttribute("ss:StyleID", t.getId()), this } } } }, o = function (e) { var n = DayPilot.guid(); e.setAttribute("ss:ID", n); var i = t.createElement("ss:Alignment"); e.appendChild(i); var a = t.createElement("ss:Interior"); e.appendChild(a); var r = t.createElement("ss:Borders"); e.appendChild(r), this.setHorizontalAlignment = function (e) { i.setAttribute("ss:Horizontal", e) }, this.setVerticalAlignment = function (e) { i.setAttribute("ss:Vertical", e) }, this.setBackColor = function (e) { var t = DayPilot.Util.normalizeColor(e); a.setAttribute("ss:Color", t), a.setAttribute("ss:Pattern", "Solid") }, this.setBorderColor = function (e) { function n(e, n) { var i = t.createElement("ss:Border"); return i.setAttribute("ss:Position", e), i.setAttribute("ss:LineStyle", "Continuous"), i.setAttribute("ss:Color", DayPilot.Util.normalizeColor(n)), i } this.clearBorders(); var i = n("Left", e); r.appendChild(i); var a = n("Right", e); r.appendChild(a); var o = n("Top", e); r.appendChild(o); var s = n("Bottom", e); r.appendChild(s) }, this.clearBorders = function () { for (; r.firstChild;)r.removeChild(r.firstChild) }, this.getId = function () { return n }, this.setId = function (t) { n = t, e.setAttribute("ss:ID", n) }, this.setName = function (t) { e.setAttribute("ss:Name", t) } }; this.init() }, DayPilot.Export = function (e) { this.toElement = function () { return e.getElement() }, this.dimensions = function () { return { "width": e.getWidth(), "height": e.getHeight() } }, this.toHtml = function () { return e.getSource() }, this.toDataUri = function () { return e.getDataUri() }, this.toBlob = function () { return e.getBlob() }, this.print = function (t) { t = t || {}, t.orientation = t.orientation || "portrait"; var n = document.createElement("iframe"); n.setAttribute("width", 0), n.setAttribute("height", 0), n.setAttribute("frameborder", 0), n.setAttribute("src", "about:blank"), n.onload = function () { var i = n.contentWindow.document; if (i.body.appendChild(e.getElement()), "landscape" === t.orientation) { var a = DayPilot.sheet(i); a.add("@page", "size: landscape;"), a.commit() } n.contentWindow.document.execCommand("print", !1, null) || (n.contentWindow.focus(), n.contentWindow.print()), setTimeout(function () { document.body.removeChild(n) }, 10) }, document.body.appendChild(n) }, this.download = function (t) { var t = t || e.getDefaultFileName(), n = e.getBlob(); DayPilot.Util.downloadBlob(n, t) } }, DayPilot.Exception = function (e) { return new Error(e) }, DayPilot.Locale = function (e, t) { if (this.id = e, this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], this.monthNamesShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], this.datePattern = "M/d/yyyy", this.timePattern = "H:mm", this.dateTimePattern = "M/d/yyyy H:mm", this.timeFormat = "Clock12Hours", this.weekStarts = 0, t) for (var n in t) this[n] = t[n] }, DayPilot.Locale.all = {}, DayPilot.Locale.find = function (e) { if (!e) return null; var t = e.toLowerCase(); return t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")), DayPilot.Locale.all[t] }, DayPilot.Locale.register = function (e) { DayPilot.Locale.all[e.id] = e }, DayPilot.Locale.register(new DayPilot.Locale("ca-es", { "dayNames": ["diumenge", "dilluns", "dimarts", "dimecres", "dijous", "divendres", "dissabte"], "dayNamesShort": ["dg", "dl", "dt", "dc", "dj", "dv", "ds"], "monthNames": ["gener", "febrer", "març", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre", ""], "monthNamesShort": ["gen.", "febr.", "març", "abr.", "maig", "juny", "jul.", "ag.", "set.", "oct.", "nov.", "des.", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("cs-cz", { "dayNames": ["neděle", "pondělí", "úterý", "středa", "čtvrtek", "pátek", "sobota"], "dayNamesShort": ["ne", "po", "út", "st", "čt", "pá", "so"], "monthNames": ["leden", "únor", "březen", "duben", "květen", "červen", "červenec", "srpen", "září", "říjen", "listopad", "prosinec", ""], "monthNamesShort": ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", ""], "timePattern": "H:mm", "datePattern": "d. M. yyyy", "dateTimePattern": "d. M. yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("da-dk", { "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"], "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"], "monthNames": ["januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "dd-MM-yyyy", "dateTimePattern": "dd-MM-yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-at", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Jänner", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jän", "Feb", "Mär", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-ch", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-de", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("de-lu", { "dayNames": ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"], "dayNamesShort": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"], "monthNames": ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""], "monthNamesShort": ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-au", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "d/MM/yyyy", "dateTimePattern": "d/MM/yyyy h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-ca", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("en-gb", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("en-us", { "dayNames": ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], "dayNamesShort": ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], "monthNames": ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""], "monthNamesShort": ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""], "timePattern": "h:mm tt", "datePattern": "M/d/yyyy", "dateTimePattern": "M/d/yyyy h:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("es-es", {
            "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"], "dayNamesShort": ["D", "L", "M", "X", "J", "V", "S"], "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""],
            "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1
        })), DayPilot.Locale.register(new DayPilot.Locale("es-mx", { "dayNames": ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"], "dayNamesShort": ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."], "monthNames": ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""], "monthNamesShort": ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""], "timePattern": "hh:mm tt", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy hh:mm tt", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("eu-es", { "dayNames": ["igandea", "astelehena", "asteartea", "asteazkena", "osteguna", "ostirala", "larunbata"], "dayNamesShort": ["ig", "al", "as", "az", "og", "or", "lr"], "monthNames": ["urtarrila", "otsaila", "martxoa", "apirila", "maiatza", "ekaina", "uztaila", "abuztua", "iraila", "urria", "azaroa", "abendua", ""], "monthNamesShort": ["urt.", "ots.", "mar.", "api.", "mai.", "eka.", "uzt.", "abu.", "ira.", "urr.", "aza.", "abe.", ""], "timePattern": "H:mm", "datePattern": "yyyy/MM/dd", "dateTimePattern": "yyyy/MM/dd H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fi-fi", { "dayNames": ["sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai"], "dayNamesShort": ["su", "ma", "ti", "ke", "to", "pe", "la"], "monthNames": ["tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "kesäkuu", "heinäkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu", ""], "monthNamesShort": ["tammi", "helmi", "maalis", "huhti", "touko", "kesä", "heinä", "elo", "syys", "loka", "marras", "joulu", ""], "timePattern": "H:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-be", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd-MM-yy", "dateTimePattern": "dd-MM-yy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-ca", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("fr-ch", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-fr", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("fr-lu", { "dayNames": ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"], "dayNamesShort": ["di", "lu", "ma", "me", "je", "ve", "sa"], "monthNames": ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""], "monthNamesShort": ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("gl-es", { "dayNames": ["domingo", "luns", "martes", "mércores", "xoves", "venres", "sábado"], "dayNamesShort": ["do", "lu", "ma", "mé", "xo", "ve", "sá"], "monthNames": ["xaneiro", "febreiro", "marzo", "abril", "maio", "xuño", "xullo", "agosto", "setembro", "outubro", "novembro", "decembro", ""], "monthNamesShort": ["xan", "feb", "mar", "abr", "maio", "xuño", "xul", "ago", "set", "out", "nov", "dec", ""], "timePattern": "H:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("it-it", { "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"], "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"], "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""], "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("it-ch", { "dayNames": ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"], "dayNamesShort": ["do", "lu", "ma", "me", "gi", "ve", "sa"], "monthNames": ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""], "monthNamesShort": ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("ja-jp", { "dayNames": ["日曜日", "月曜日", "火曜日", "水曜日", "木曜日", "金曜日", "土曜日"], "dayNamesShort": ["日", "月", "火", "水", "木", "金", "土"], "monthNames": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "H:mm", "datePattern": "yyyy/MM/dd", "dateTimePattern": "yyyy/MM/dd H:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("ko-kr", { "dayNames": ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"], "dayNamesShort": ["일", "월", "화", "수", "목", "금", "토"], "monthNames": ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "tt h:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd tt h:mm", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("nb-no", { "dayNames": ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"], "dayNamesShort": ["sø", "ma", "ti", "on", "to", "fr", "lø"], "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nl-nl", { "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"], "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"], "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "d-M-yyyy", "dateTimePattern": "d-M-yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nl-be", { "dayNames": ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"], "dayNamesShort": ["zo", "ma", "di", "wo", "do", "vr", "za"], "monthNames": ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "H:mm", "datePattern": "d/MM/yyyy", "dateTimePattern": "d/MM/yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("nn-no", { "dayNames": ["søndag", "måndag", "tysdag", "onsdag", "torsdag", "fredag", "laurdag"], "dayNamesShort": ["sø", "må", "ty", "on", "to", "fr", "la"], "monthNames": ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""], "timePattern": "HH:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("pt-br", { "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"], "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"], "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""], "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("pl-pl", { "dayNames": ["niedziela", "poniedziałek", "wtorek", "środa", "czwartek", "piątek", "sobota"], "dayNamesShort": ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"], "monthNames": ["styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień", ""], "monthNamesShort": ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("pt-pt", { "dayNames": ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"], "dayNamesShort": ["D", "S", "T", "Q", "Q", "S", "S"], "monthNames": ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""], "monthNamesShort": ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""], "timePattern": "HH:mm", "datePattern": "dd/MM/yyyy", "dateTimePattern": "dd/MM/yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 0 })), DayPilot.Locale.register(new DayPilot.Locale("ro-ro", { "dayNames": ["duminică", "luni", "marți", "miercuri", "joi", "vineri", "sâmbătă"], "dayNamesShort": ["D", "L", "Ma", "Mi", "J", "V", "S"], "monthNames": ["ianuarie", "februarie", "martie", "aprilie", "mai", "iunie", "iulie", "august", "septembrie", "octombrie", "noiembrie", "decembrie", ""], "monthNamesShort": ["ian.", "feb.", "mar.", "apr.", "mai.", "iun.", "iul.", "aug.", "sep.", "oct.", "nov.", "dec.", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("ru-ru", { "dayNames": ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"], "dayNamesShort": ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"], "monthNames": ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь", ""], "monthNamesShort": ["янв", "фев", "мар", "апр", "май", "июн", "июл", "авг", "сен", "окт", "ноя", "дек", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("sk-sk", { "dayNames": ["nedeľa", "pondelok", "utorok", "streda", "štvrtok", "piatok", "sobota"], "dayNamesShort": ["ne", "po", "ut", "st", "št", "pi", "so"], "monthNames": ["január", "február", "marec", "apríl", "máj", "jún", "júl", "august", "september", "október", "november", "december", ""], "monthNamesShort": ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""], "timePattern": "H:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("sv-se", { "dayNames": ["söndag", "måndag", "tisdag", "onsdag", "torsdag", "fredag", "lördag"], "dayNamesShort": ["sö", "må", "ti", "on", "to", "fr", "lö"], "monthNames": ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december", ""], "monthNamesShort": ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""], "timePattern": "HH:mm", "datePattern": "yyyy-MM-dd", "dateTimePattern": "yyyy-MM-dd HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("tr-tr", { "dayNames": ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"], "dayNamesShort": ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"], "monthNames": ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık", ""], "monthNamesShort": ["Oca", "Şub", "Mar", "Nis", "May", "Haz", "Tem", "Ağu", "Eyl", "Eki", "Kas", "Ara", ""], "timePattern": "HH:mm", "datePattern": "d.M.yyyy", "dateTimePattern": "d.M.yyyy HH:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("uk-ua", { "dayNames": ["неділя", "понеділок", "вівторок", "середа", "четвер", "п'ятниця", "субота"], "dayNamesShort": ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"], "monthNames": ["січень", "лютий", "березень", "квітень", "травень", "червень", "липень", "серпень", "вересень", "жовтень", "листопад", "грудень", ""], "monthNamesShort": ["Січ", "Лют", "Бер", "Кві", "Тра", "Чер", "Лип", "Сер", "Вер", "Жов", "Лис", "Гру", ""], "timePattern": "H:mm", "datePattern": "dd.MM.yyyy", "dateTimePattern": "dd.MM.yyyy H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("zh-cn", { "dayNames": ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], "dayNamesShort": ["日", "一", "二", "三", "四", "五", "六"], "monthNames": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""], "monthNamesShort": ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""], "timePattern": "H:mm", "datePattern": "yyyy/M/d", "dateTimePattern": "yyyy/M/d H:mm", "timeFormat": "Clock24Hours", "weekStarts": 1 })), DayPilot.Locale.register(new DayPilot.Locale("zh-tw", { "dayNames": ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], "dayNamesShort": ["日", "一", "二", "三", "四", "五", "六"], "monthNames": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""], "monthNamesShort": ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""], "timePattern": "tt hh:mm", "datePattern": "yyyy/M/d", "dateTimePattern": "yyyy/M/d tt hh:mm", "timeFormat": "Clock12Hours", "weekStarts": 0 })), DayPilot.Locale.US = DayPilot.Locale.find("en-us"), DayPilot.Switcher = function (e) { function t(e, t, i) { var a = {}; a.start = e, a.end = t, a.day = i, a.target = n.t.control, a.preventDefault = function () { this.preventDefault.value = !0 }; var r = n.O; r && r.start === a.start && r.end === a.end && r.day === a.day && r.target === a.target || (n.O = a, "function" == typeof n.onChange && (n.onChange(a), a.preventDefault.value) || "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(a), a.preventDefault.value) || (n.t.D(n.u), "function" == typeof n.onChanged && n.onChanged(a), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(a))) } var n = this; this.p = [], this.q = [], this.s = {}, this.selectedClass = null, this.t = null, this.u = DayPilot.Date.today(), this.onChange = null, this.onChanged = null, this.onSelect = null, this.s.updateMode = function (e) { var t = n.s.control; t && (t.selectMode = e, t.select(n.u)) }, this.addView = function (e, t) { var i; if ("string" == typeof e) { if (i = document.getElementById(e), !i) throw "Element not found: " + e } else i = e; var a = i, r = {}; return r.z = !0, r.A = a.id, r.control = a, r.B = t || {}, r.C = function () { a.hide ? a.hide() : a.nav && a.nav.top ? a.nav.top.style.display = "none" : a.style.display = "none" }, r.D = function (e) { (function () { return !!a.backendUrl || !("function" != typeof WebForm_DoCallback || !a.uniqueID) })() ? a.commandCallBack && a.commandCallBack("navigate", { "day": e }) : (a.startDate = e, a.update()) }, r.E = function () { n.F(), a.show ? a.show() : a.nav && a.nav.top ? a.nav.top.style.display = "" : a.style.display = "" }, r.G = function () { if (r.B.navigatorSelectMode) return r.B.navigatorSelectMode; if (a.isCalendar) switch (a.viewType) { case "Day": return "day"; case "Week": return "week"; case "WorkWeek": return "week"; default: return "day" } else if (a.isMonth) switch (a.viewType) { case "Month": return "month"; case "Weeks": return "week"; default: return "day" }return "day" }, this.p.push(r), r }, this.addTrigger = function (e, t) { var i; if ("string" == typeof e) { if (i = document.getElementById(e), !i) throw "Element not found: " + e } else i = e; var a = this.H(t); a || (a = this.addView(t)); var r = {}; return r.I = !0, r.J = i, r.A = i.id, r.K = a, r.L = function (e) { n.show(r), n.M(r), e && (e.preventDefault ? e.preventDefault() : e.returnValue = !1) }, DayPilot.re(i, "click", r.L), this.q.push(r), r }, this.addButton = this.addTrigger, this.select = function (e) { var t = this.N(e); t ? t.L() : this.q.length > 0 && this.q[0].L() }, this.N = function (e) { for (var t = 0; t < this.q.length; t++) { var n = this.q[t]; if (n.A === e) return n } return null }, this.M = function (e) { if (this.selectedClass) { for (var t = 0; t < this.q.length; t++) { var n = this.q[t]; DayPilot.Util.removeClass(n.J, this.selectedClass) } DayPilot.Util.addClass(e.J, this.selectedClass) } }, this.addNavigator = function (e) { n.s.control = e, e.timeRangeSelectedHandling = "JavaScript", e.onTimeRangeSelected = function () { var i, a, r; if (1 === e.api) i = arguments[0], a = arguments[1], r = arguments[2]; else { var o = arguments[0]; i = o.start, a = o.end, r = o.day } n.u = r, t(i, a, r) } }, this.show = function (e) { var i, a; if (e.I) a = e, i = a.K; else if (i = e.z ? e : this.H(e), this.t === i) return; if (n.onSelect) { var r = {}; r.source = a ? a.J : null, r.target = i.control, n.onSelect(r) } this.t = i, i.E(); var o = i.G(); n.s.updateMode(o), t(n.s.control.selectionStart, n.s.control.selectionEnd.addDays(1), n.s.control.selectionDay) }, this.H = function (e) { for (var t = 0; t < this.p.length; t++)if (this.p[t].control === e) return this.p[t]; return null }, this.F = function () { for (var e = 0; e < this.p.length; e++)this.p[e].C() }, Object.defineProperty(this, "active", { get: function () { return n.t } }), this.events = {}, this.events.load = function (e, t, i) { if (!n.t || !n.t.control) throw "DayPilot.Switcher.events.load(): Active view not found"; n.t.control.events.load(e, t, i) }, this.O = null, this.P = function () { if (e) for (var t in e) if ("triggers" === t) { var i = e.triggers || []; i.forEach(function (e) { n.addTrigger(e.id, e.view) }) } else "navigator" === t ? n.addNavigator(e.navigator) : n[t] = e[t] }, this.P() }, function () {
            if (!DayPilot.Global.defaultCss) {
                var e = DayPilot.sheet(); e.add(".bubble_default_main", "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".bubble_default_main_inner", 'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'), e.add(".bubble_default_arrow_top", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"), e.add(".bubble_default_arrow_bottom", "fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"), e.add(".bubble_default_arrow_left", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"), e.add(".bubble_default_arrow_right", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"), e.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;"), e.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner", "color: #333;background: #f3f3f3;"), e.add(".calendar_default_colheader_back", "background: #f3f3f3; border-bottom: 1px solid red;"), e.add(".calendar_default_colheader_back_inner", "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner", "border-right: 1px solid #c0c0c0;"), e.add(".calendar_default_rowheader_inner", "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"), e.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner", "font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"), e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner", "border-right: none;"), e.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_direction_rtl .calendar_default_corner_inner", "border-right: none;"), e.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"), e.add(".calendar_default_colheader_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"), e.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"), e.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff"), e.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"), e.add(".calendar_default_message", "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", "color: #333; border: 1px solid #999;"), e.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"), e.add(".calendar_default_direction_rtl .calendar_default_event_bar", "top: 0px;bottom: 0px;right: 0px;width: 6px;background-color: #9dc8e8;"), e.add(".calendar_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"), e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", 'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;"), e.add(".calendar_default_alldayevent_inner", "position: absolute;top: 0px;bottom: 0px;left: 0px;right: 0px;overflow:hidden;padding: 4px;margin-right: 0px; display: flex; align-items: center;"), e.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;"), e.add(".calendar_default_event", "cursor: default;"), e.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px;"), e.add(".calendar_default_direction_rtl .calendar_default_event_inner", "padding: 2px 8px 2px 2px;"), e.add(".calendar_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"), e.add(".calendar_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"), e.add(".calendar_default_shadow_forbidden:after", "content:''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"), e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"), e.add(".calendar_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".calendar_default_scroll_up", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"), e.add(".calendar_default_scroll_down", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"), e.add(".calendar_default_now", "background-color: red;"), e.add(".calendar_default_now:before", "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"), e.add(".calendar_default_shadow_top", "box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee); pointer-events: none;"), e.add(".calendar_default_shadow_bottom", "box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee); pointer-events: none;"), e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".calendar_default_loading", "background-color: orange; color: white; padding: 2px;"), e.add(".calendar_default_scroll", "background-color: #f3f3f3;"), e.add(".calendar_default_event_moving_source", "opacity: 0.5;"), e.add(".calendar_default_colmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter", "background-color: #c0c0c0;"), e.add(".calendar_default_colmove_source", "background-color: black; opacity: 0.5;"), e.add(".calendar_default_colmove_position_before", "box-sizing: border-box; border-left: 2px solid #999999;"), e.add(".calendar_default_colmove_position_before:before", "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_after", "box-sizing: border-box; border-right: 2px solid #999999;"), e.add(".calendar_default_colmove_position_after:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_child", "box-sizing: border-box; border-bottom: 2px solid #999999;"), e.add(".calendar_default_colmove_position_child:before", "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".calendar_default_colmove_position_forbidden", "border-top: 2px solid red;"), e.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover", "background-color: #999999;"), e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"), e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"), e.add(".menu_default_main", "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"), e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;"),
                    e.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"), e.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"), e.add(".menu_default_main.menu_default_withchildren a", "padding: 2px 35px 2px 35px;"), e.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;"), e.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"), e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"), e.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"), e.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc"), e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", "background-color: #f3f3f3;"), e.add(".menu_default_item_haschildren a:before", "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"), e.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"), e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"), e.add(".menu_default_item .menu_default_item_symbol", "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"), e.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"), e.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;"), e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"), e.add(".menubar_default_item_active", "background-color: #f2f2f2;"), e.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"), e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;"), e.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"), e.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;"), e.add(".month_default_cell_header", "text-align: right; padding: 4px; box-sizing: border-box;"), e.add(".month_default_header_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"), e.add(".month_default_message", "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"), e.add(".month_default_event_inner", "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"), e.add(".month_default_direction_rtl .month_default_event_inner", "right: 2px; padding-left: 1px;padding-right: 10px;"), e.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"), e.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"), e.add(".month_default_event_bar", "top: 1px;bottom: 1px;left: 2px;width: 6px;"), e.add(".month_default_direction_rtl .month_default_event_bar", "top: 1px;bottom: 1px;right: 3px;width: 6px;"), e.add(".month_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"), e.add(".month_default_event_continueleft .month_default_event_bar", "display: none;"), e.add(".month_default_selected .month_default_event_inner", "background: #ddd;"), e.add(".month_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"), e.add(".month_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"), e.add(".month_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".month_default_event_timeleft", "color: #ccc; font-size: 11px; display: flex; align-items: center;"), e.add(".month_default_event_timeright", "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end;"), e.add(".month_default_loading", "background-color: orange; color: white; padding: 2px;"), e.add(".month_default_shadow_forbidden:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"), e.add(".month_default_shadow_forbidden .month_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"), e.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;"), e.add(".navigator_default_month", "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"), e.add(".navigator_default_day", "color: black;"), e.add(".navigator_default_weekend", "background-color: #f0f0f0;"), e.add(".navigator_default_dayheader", "color: black;"), e.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;"), e.add(".navigator_default_dayother", "color: gray;"), e.add(".navigator_default_todaybox", "border: 1px solid red;"), e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), e.add(".navigator_default_busy", "font-weight: bold;"), e.add(".navigator_default_cell", "text-align: center;"), e.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;"), e.add(".navigator_default_title", "text-align: center;"), e.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;"), e.add(".navigator_default_dayheader", "text-align: center;"), e.add(".navigator_default_weeknumber", "text-align: center; color: #999;"), e.add(".navigator_default_cell_text", "cursor: pointer;"), e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;"), e.add(".scheduler_default_main, .scheduler_default_main svg text", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;"), e.add(".scheduler_default_timeheader_scroll", "background: #f3f3f3;"), e.add(".scheduler_default_message", "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"), e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;"), e.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;"), e.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected", "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), e.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"), e.add(".scheduler_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), e.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;"), e.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;"), e.add(".scheduler_default_matrix_vertical_break", "background-color: #999;"), e.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".scheduler_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"), e.add(".scheduler_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"), e.add(".scheduler_default_event", "font-size:13px;color:#333;"), e.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"), e.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"), e.add(".scheduler_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".scheduler_default_event_float", "display: flex; align-items: center;"), e.add(".scheduler_default_event_float_inner", "padding:2px 2px 2px 8px; position: relative;"), e.add(".scheduler_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top: calc(50% - 5px);left:-4px;'), e.add(".scheduler_default_event_focus", "outline: red 2px solid; z-index: 100; opacity: 0.5;"), e.add(".scheduler_default_columnheader_inner", "font-weight: bold;"), e.add(".scheduler_default_columnheader_splitter", "box-sizing: border-box; border-right: 1px solid #c0c0c0;"), e.add(".scheduler_default_columnheader_splitter:hover", "background-color: #c0c0c0;"), e.add(".scheduler_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), e.add(".scheduler_default_cell", "background-color: #f9f9f9;"), e.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;"), e.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected", "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"), e.add(".scheduler_default_tree_image_no_children", ""), e.add(".scheduler_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"), e.add(".scheduler_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"), e.add(".scheduler_default_event_delete", "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"), e.add(".scheduler_default_event_delete:hover", "opacity: 1;"), e.add(".scheduler_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".scheduler_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"), e.add(".scheduler_default_rowmove_position_child:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"), e.add(".scheduler_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"), e.add(".scheduler_default_rowmove_position_forbidden:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"), e.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000"), e.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000"), e.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_horizontal", "border-bottom-color: #aaaaaa"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_vertical", "border-right-color: #aaaaaa"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_right:before", "border-color: transparent transparent transparent #aaaaaa;"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_left:before", "border-color: transparent #aaaaaa transparent transparent;"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_down:before", "border-color: #aaaaaa transparent transparent transparent;"), e.add(".scheduler_default_link_mshadow.scheduler_default_link_arrow_up:before", "border-color: transparent transparent #aaaaaa transparent;"), e.add(".scheduler_default_block", "background-color: #808080; opacity: 0.5;"), e.add(".scheduler_default_main .scheduler_default_event_group", "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"), e.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"), e.add(".scheduler_default_header_icon:hover", "background-color: #ccc;"), e.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';"), e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner", "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;"), e.add(".scheduler_default_rowheader textarea", "padding: 3px;"), e.add(".scheduler_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"), e.add(".scheduler_default_shadow_forbidden:after, .scheduler_default_shadow_overlap:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"), e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"), e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner", "background-color: #cc4125;"), e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"); e.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"); e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;"), e.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner", "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".scheduler_default_link_dot", "border-radius: 10px; background-color: #cc0000"), e.add(".scheduler_default_task_milestone .scheduler_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), e.add(".scheduler_default_event_left", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"), e.add(".scheduler_default_event_right", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"), e.add(".scheduler_default_main:focus", "outline: none;"), e.add(".scheduler_default_cell_focus", "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;"), e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top", "border-top: 4px solid red;"), e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom", "border-bottom: 4px solid red;"), e.add(".scheduler_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"), e.add(".scheduler_default_link_shadow", "border:1px solid black;"), e.add(".scheduler_default_link_shadow_circle", "background-color:black;"), e.add(".scheduler_default_event_move_left", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"), e.add(".scheduler_default_event_move_right", "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"), e.add(".scheduler_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".scheduler_default_sorticon", "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_asc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_desc", "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"), e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active", "opacity: 1;"), e.add(".scheduler_default_loading", "background-color: orange; color: white; padding: 2px;"), e.add(".scheduler_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"), e.add(".scheduler_default_link_curve:hover", "stroke-opacity: 0.5;"), e.add(".scheduler_default_link_curve_dot", "fill: #cc0000;"), e.add(".scheduler_default_link_curve_marker", "fill: #cc0000;"), e.add(".scheduler_default_link_curve_text", "fill: #cc0000;"), e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve", "stroke: #aaaaaa;"), e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_dot", "fill: #aaaaaa;"), e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_marker", "fill: #aaaaaa;"), e.add(".scheduler_default_link_curve_mshadow.scheduler_default_link_curve_text", "fill: #aaaaaa;"), e.add(".gantt_default_selected", "outline: 2px solid #4A90E2; border-radius: 4px; box-shadow: 0 0 8px rgba(74, 144, 226, 0.5);"), e.add(".gantt_default_selected .gantt_default_event_inner", "background: #DAE8FC;"), e.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;"), e.add(".gantt_default_timeheader", "cursor: default;color: #666;"), e.add(".gantt_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;"), e.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;"), e.add(".gantt_default_rowheader.gantt_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"), e.add(".gantt_default_timeheadergroup_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"), e.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #c0c0c0;"), e.add(".gantt_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".gantt_default_matrix_vertical_line", "background-color: #eee;"), e.add(".gantt_default_matrix_vertical_break", "background-color: #000;"), e.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".gantt_default_resourcedivider", "background-color: #c0c0c0;"), e.add(".gantt_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"), e.add(".gantt_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"), e.add(".gantt_default_event", "color:#666;"), e.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"), e.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"), e.add(".gantt_default_event_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;"), e.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'), e.add(".gantt_default_columnheader_inner", "font-weight: bold;"), e.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;"), e.add(".gantt_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"), e.add(".gantt_default_cell", "background-color: #f9f9f9;"), e.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;"), e.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),
                        e.add(".gantt_default_tree_image_no_children", ""), e.add(".gantt_default_tree_image_expand", "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"), e.add(".gantt_default_tree_image_collapse", "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"), e.add(".gantt_default_event_move_left", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_move_right", 'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".gantt_default_event_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".gantt_default_rowmove_handle", "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"), e.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"), e.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), e.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), e.add(".gantt_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"), e.add(".gantt_default_rowmove_position_child:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"), e.add(".gantt_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"), e.add(".gantt_default_rowmove_position_forbidden:before", "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"), e.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"), e.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), e.add(".gantt_default_task_group.gantt_default_event:after", "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"), e.add(".gantt_default_task_milestone .gantt_default_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), e.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""), e.add(".gantt_default_event_left", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"), e.add(".gantt_default_event_right", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"), e.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000;"), e.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000;"), e.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"), e.add(".gantt_default_link_mshadow.gantt_default_link_horizontal", "border-bottom-color: #aaaaaa"), e.add(".gantt_default_link_mshadow.gantt_default_link_vertical", "border-right-color: #aaaaaa"), e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_right:before", "border-color: transparent transparent transparent #aaaaaa;"), e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_left:before", "border-color: transparent #aaaaaa transparent transparent;"), e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_down:before", "border-color: #aaaaaa transparent transparent transparent;"), e.add(".gantt_default_link_mshadow.gantt_default_link_arrow_up:before", "border-color: transparent transparent #aaaaaa transparent;"), e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: #cc4125;"), e.add(".gantt_default_block", "background-color: gray; opacity: 0.5;"), e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), e.add(".gantt_default_header_icon:hover", "background-color: #ccc;"), e.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".gantt_default_header_icon_show:before", "content: '\\00BB';"), e.add(".gantt_default_row_new .gantt_default_rowheader_inner", "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;"), e.add(".gantt_default_rowheader textarea", "padding: 5px;"), e.add(".gantt_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"), e.add(".gantt_default_shadow_forbidden:after", "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"), e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"), e.add(".gantt_default_event_moving_source", "opacity: 0.5;"), e.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner", "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;"), e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'), e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;"), e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before", 'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'), e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;"), e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'), e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;"), e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after", 'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'), e.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"), e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;"), e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; "), e.add(".gantt_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"), e.add(".gantt_default_link_shadow", "border:1px solid black;"), e.add(".gantt_default_link_shadow_circle", "background-color:black;"), e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"), e.add(".gantt_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"), e.add(".gantt_default_link_curve:hover", "stroke-opacity: 0.5;"), e.add(".gantt_default_link_curve_dot", "fill: #cc0000;"), e.add(".gantt_default_link_curve_marker", "fill: #cc0000;"), e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve", "stroke: #aaaaaa;"), e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_dot", "fill: #aaaaaa;"), e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_marker", "fill: #aaaaaa;"), e.add(".gantt_default_link_curve_mshadow.gantt_default_link_curve_text", "fill: #aaaaaa;"), e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;"), e.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;"), e.add(".kanban_default_timeheader", "cursor: default;color: #333;"), e.add(".kanban_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"), e.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;"), e.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;"), e.add(".kanban_default_rowheader.kanban_default_rowheader_selected", "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"), e.add(".kanban_default_colheadercell", "text-align: center;"), e.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"), e.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;"), e.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;"), e.add(".kanban_default_matrix_vertical_line", "background-color: #eee;"), e.add(".kanban_default_matrix_vertical_break", "background-color: #000;"), e.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;"), e.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;"), e.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"), e.add(".kanban_default_card", "color:#333;"), e.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"), e.add(".kanban_default_card_inner", 'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'), e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_cell.kanban_default_cell_selected", "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"), e.add(".kanban_default_tree_image_no_children", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"), e.add(".kanban_default_tree_image_expand", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"), e.add(".kanban_default_tree_image_collapse", "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"), e.add(".kanban_default_card_delete", "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"), e.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;"), e.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;"), e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;"), e.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"), e.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"), e.add(".kanban_default_block", "background-color: gray; opacity: 0.5;"), e.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"), e.add(".kanban_default_header_icon:hover", "background-color: #ccc;"), e.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';"), e.add(".kanban_default_header_icon_show:before", "content: '\\00BB';"), e.add(".kanban_default_row_new .kanban_default_rowheader_inner", "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"), e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;"), e.add(".kanban_default_rowheader textarea", "padding: 3px;"), e.add(".kanban_default_rowheader_scroll", "cursor: default;"), e.add(".kanban_default_card_moving_source", "opacity: 0.5;"), e.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;"), e.add(".kanban_default_cell", "background-color: #fff;"), e.add(".kanban_default_rowmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;"), e.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;"), e.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;"), e.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), e.add(".kanban_default_swimlane_collapse:before", "content: '^';"), e.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;"), e.add(".kanban_default_swimlane_expand:before", "content: '>';"), e.add(".kanban_default_columnmove_handle", "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"), e.add(".kanban_default_columnmove_position", "background-color: #333;"), e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2;"), e.add(".queue_default_main", "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"), e.add(".queue_default_event_bar", "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"), e.add(".queue_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"), e.add(".queue_default_event_inner", "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"), e.add(".queue_default_selected .queue_default_event_inner", "background: #ddd;"); e.add(".queue_default_shadow", "background-color: #ccc;"); e.commit(), DayPilot.Global.defaultCss = !0
            }
        }(); var o = function (e) { function t() { var t = new URL(e, location.href); return t.origin + t.pathname !== location.origin + location.pathname } var n = this; this.l = function () { return t() ? fetch(e).then(function (e) { return e.text() }).then(function (e) { var t = document.createElement("div"); return t.innerHTML = e, new Promise(function (e, i) { e(t.querySelector(n.Q())) }) }) : new Promise(function (e, t) { e(document.querySelector(n.Q())) }) }, this.Q = function () { return new URL(e, location.href).hash } }, s = function (e) { var t = this; this.id = e, this.widths = [], this.titles = [], this.data = [], this.nonresizable = [], this.height = null, this.bubble = null, this.splitterWidth = 3, this.splitterWidthLast = null, this.css = {}, this.css.title = null, this.css.titleInner = null, this.css.splitter = null, this.enabled = !0, this.blocks = [], this.drag = {}, this.updated = function () { }, this.updating = function () { }, this.started = function () { }; var n = {}; n.splitterWidth = function (e) { var n = e === t.widths.length - 1, i = n && "number" == typeof t.splitterWidthLast ? t.splitterWidthLast : t.splitterWidth, a = t.nonresizable[e]; return t.enabled && !a ? i : 1 }, this.init = function () { var i; if (!e) throw "error: id not provided"; if ("string" == typeof e) i = document.getElementById(e); else { if (!e.appendChild) throw "error: invalid object provided"; i = e } this.div = i, this.blocks = []; for (var a = 0; a < this.widths.length; a++) { var r = (a === this.widths.length - 1, n.splitterWidth(a)), o = document.createElement("div"); o.style.display = "inline-block", null !== t.height ? o.style.height = t.height + "px" : o.style.height = "100%", o.style.width = this.widths[a] - r + "px", o.style.overflow = "hidden", o.style.position = "relative", o.setAttribute("unselectable", "on"), o.className = this.css.title, i.appendChild(o); var s = this.titles[a], l = null, d = [], c = null, u = null; "object" == typeof s && (l = s.html, d = s.areas, c = s.cssClass, u = s.toolTip), c && DayPilot.Util.addClass(o, c), u && (o.title = u), function (e, n) { n.onmousemove = function (i) { if (t.bubble) { var a = {}; a.calendar = t.calendar, a.type = "RowHeaderColumn", a.object = e.data, a.staticHTML = e.bubbleHtml, a.div = n, a.toJSON = function () { var e = {}; return e.uid = t.calendar.uniqueID, e.type = "RowHeaderColumn", e.object = a.object, e }, t.bubble.showRowHeaderColumn(a) } }, n.onmouseout = function (e) { t.bubble && t.bubble.hideOnMouseOut() } }(s, o); var h = document.createElement("div"); h.innerHTML = l, h.setAttribute("unselectable", "on"), h.className = this.css.titleInner, o.appendChild(h), DayPilot.Areas.attach(o, t.data[a], { "areas": d }); var f = document.createElement("div"); f.style.display = "inline-block", null !== t.height ? f.style.height = t.height + "px" : f.style.height = "100%", f.style.width = r + "px", f.style.position = "relative", f.appendChild(document.createElement("div")), t.enabled && !t.nonresizable[a] && (f.style.cursor = "col-resize"), f.setAttribute("unselectable", "on"), f.className = this.css.splitter; var v = {}; v.index = a, v.width = this.widths[a], f.data = v, f.onmousedown = function (e) { if (e.preventDefault(), t.enabled) { var n = this.index; if (!t.nonresizable[n]) { var i = DayPilot.page(e); i && (t.drag.start = i, t.drag.data = this.data, t.div.style.cursor = "col-resize", t.started()) } } }, i.appendChild(f); var p = {}; p.section = o, p.handle = f, this.blocks.push(p) } this.registerGlobalHandlers() }, this.updateWidths = function () { for (var e = 0; e < this.blocks.length; e++) { var t = this.blocks[e], n = this.widths[e]; t.handle.data.width = n, this.R(e) } }, this.R = function (e) { var t = this.blocks[e], i = this.widths[e]; e === this.widths.length - 1; t.section.style.width = i - n.splitterWidth(e) + "px" }, this.totalWidth = function () { for (var e = 0, t = 0; t < this.widths.length; t++)e += this.widths[t]; return e }, this.gMouseMove = function (e) { if (t.drag.start) { var n = t.drag.data, i = DayPilot.page(e); if (i) { var a = i.x - t.drag.start.x, r = n.index; t.widths[r] = Math.max(5, n.width + a), t.R(r); var o = {}; o.widths = this.widths, o.index = n.index, t.updating(o) } } }, this.gMouseUp = function (e) { if (t.drag.start) { t.drag.start = null, document.body.style.cursor = "", t.div.style.cursor = ""; var n = t.drag.data; n.width = t.widths[n.index]; var i = {}; i.widths = this.widths, i.index = n.index, t.updated(i) } }, this.dispose = function () { DayPilot.list(this.blocks).forEach(function (e) { e.handle.onmousedown = null, DayPilot.de(e.section), DayPilot.de(e.handle) }), this.unregisterGlobalHandlers() }, this.registerGlobalHandlers = function () { DayPilot.re(document, "mousemove", this.gMouseMove), DayPilot.re(document, "mouseup", this.gMouseUp) }, this.unregisterGlobalHandlers = function () { DayPilot.ue(document, "mousemove", this.gMouseMove), DayPilot.ue(document, "mouseup", this.gMouseUp) } }; DayPilot.Splitter = s
    }
}(DayPilot), function () { "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded() }(), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
        var e = {}; e.mouseMove = function (t) { if ("undefined" != typeof e) { var n = e.mousePosition(t); if (n) { e.mouse = n; var i = e.active; if (i && i.S.showPosition) { var a = i.S.showPosition, r = e.mouse; a.clientX !== r.clientX || a.clientY !== r.clientY } } } }, e.touchPosition = function (e) { if (!e || !e.touches) return null; var t = e.touches[0], n = {}; return n.x = t.pageX, n.y = t.pageY, n.clientX = t.clientX, n.clientY = t.clientY, n }, e.mousePosition = function (e) { var t = DayPilot.mo3(null, e); return e && t && (t.clientY = e.clientY, t.clientX = e.clientX), t }, DayPilot.Bubble = function (t) {
            this.v = "2024.4.6294"; var n = this, i = {}; if (this.arrowTopIndent = 6, this.arrowLeftIndent = 6, this.hideAfter = 500, this.loadingText = "Loading...", this.animated = !0, this.animation = "fast", this.position = "Above", this.hideOnClick = !0, this.hideOnHover = !1, this.showAfter = 500, this.showLoadingLabel = !0, this.showArrow = !0, this.zIndex = 10, this.theme = "bubble_default", this.onLoad = null, this.onBeforeDomAdd = null, this.onBeforeDomRemove = null, this.S = function () { }, this.callBack = function (e) {
                this.aspnet() ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0) : e.calendar.internal.bubbleCallBack ? e.calendar.internal.bubbleCallBack(e, this) : e.calendar.bubbleCallBack(e, this);
            }, this.callbackError = function (e, t) { alert(e) }, this.updateView = function (t, a) { if (n !== a) throw "Callback object mismatch (internal error)"; if (!t) return void n.T(); var r = null, o = null, s = null; if ("string" == typeof t ? o = t : "object" == typeof t && (r = t, o = t.html, s = t.element), e.active = n, n) { var l = !1, d = !1; if (i.div) { if (s) { i.U.innerHTML = ""; var c = DayPilot.Util.isReactComponent(s), u = DayPilot.Util.isVueComponent(s); if (c) { if (!(n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM)) throw new DayPilot.Exception("Can't reach ReactDOM"); n.X.W(s, i.U), d = n.X.Y() } else if (u) { var h = n.Z.V(); if (!h) throw new DayPilot.Exception("Can't reach Vue"); n.Z._(s, i.U, r.props) } else i.U.appendChild(s); l = !0 } else o && (i.U.innerHTML = o, l = !0); i.div.domArgs = r } l && (d ? setTimeout(function () { n.aa() }) : n.aa()) } }, this.init = function () { }, this.dispose = function () { }, this.update = function (e) { DayPilot.Util.copyProps(e, this) }, this.aspnet = function () { return "undefined" != typeof WebForm_DoCallback }, this.showEvent = function (t, n, i) { var a = new e.CallBackArgs(t.calendar || t.root, "Event", t, t.bubbleHtml ? t.bubbleHtml() : null); a.div = i, n ? this.show(a) : this.showOnMouseOver(a) }, this.showGroup = function (e) { this.showOnMouseOver(e) }, this.showCell = function (t, n) { e.cancelShowing(); var i = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null); i.div = n, this.showOnMouseOver(i) }, this.showLink = function (t) { e.cancelShowing(); var n = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.data && t.data.bubbleHtml); this.showOnMouseOver(n) }, this.showTime = function (t) { var n = new e.CallBackArgs(t.calendar || t.root, "Time", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null); this.showOnMouseOver(n) }, this.showResource = function (t, n, i) { var a = {}; a.calendar = t.calendar, a.id = t.id, a.name = t.name, a.start = t.start, t.bubbleHtml ? a.bubbleHtml = function () { return t.bubbleHtml } : t.data && t.data.bubbleHtml && (a.bubbleHtml = function () { return t.data.bubbleHtml }), a.toJSON = function () { var e = {}; return e.id = this.id, e }; var r = new e.CallBackArgs(a.calendar || a.root, "Resource", a, a.bubbleHtml ? a.bubbleHtml() : null); i ? r.div = i : r.div = t.div, n ? (e.cancelHiding(), this.show(r)) : this.showOnMouseOver(r) }, this.showHtml = function (t, n) { var i = new e.CallBackArgs(null, "Html", null, t); i.div = n, this.showOnMouseOver(i) }, this.showRowHeaderColumn = function (e) { this.showOnMouseOver(e) }, this.hide = function () { e.active === this && DayPilot.Bubble.hide() }, this.toJSON = function () { return null }, this.show = function (t) { if (n.ba(t)) { var a = this.animated; if (this.S.showPosition = e.mouse, e.showing = null, !e.mouse) return void setTimeout(function () { n.show(t) }, 100); var r = e.mouse; r.h = 0, r.w = 0; var o = this.getDiv(t), s = n.ca(o), l = "Above" === s, d = "Right" === s; if ((l || d) && o) { var c = 2, u = DayPilot.abs(o, !0); if (!u) return; r.x = u.x, r.y = u.y, r.h = u.h + c, r.w = u.w } this.S.mouse = r; var h; try { h = JSON.stringify(t.object) } catch (e) { return } if (!(e.active === this && this.S.sourceId === h || "undefined" != typeof DayPilot.Menu && DayPilot.Menu.active)) { e.hideActive(), e.active = this, this.S.sourceId = h; var f = document.createElement("div"); f.setAttribute("unselectable", "on"), f.style.position = "absolute", this.showLoadingLabel || (f.style.display = "none"), f.className = this.da("_main"), f.style.top = "-3000px", f.style.left = "-3000px", f.style.zIndex = this.zIndex + 1, a && (f.style.visibility = "hidden"), this.hideOnClick && (f.onclick = function () { e.hideActive() }), f.onmousemove = function (t) { n.hideOnHover && e.hideActive(), e.cancelShowing(), e.cancelHiding(); var t = t || window.event; t.cancelBubble = !0 }, f.oncontextmenu = function () { return !1 }, f.onmouseleave = function () { n.delayedHide() }; var v = this.arrowLeftIndent, p = this.arrowTopIndent, m = "http://www.w3.org/2000/svg", g = document.createElementNS(m, "svg"); g.setAttribute("viewBox", "0 0 12 10"), g.setAttribute("class", this.da("_arrow_top")), g.style.width = "12px", g.style.height = "10px", g.style.position = "absolute", g.style.top = "0px", g.style.left = v + "px", g.style.display = "none", g.innerHTML = '<polyline points="0 10 6 0 12 10"></polyline>'; var y = document.createElementNS(m, "svg"); y.setAttribute("viewBox", "0 0 12 10"), y.setAttribute("class", this.da("_arrow_bottom")), y.style.width = "12px", y.style.height = "10px", y.style.position = "absolute", y.style.bottom = "0px", y.style.left = v + "px", y.style.display = "none", y.innerHTML = '<polyline points="0 0 6 10 12 0"></polyline>'; var b = document.createElementNS(m, "svg"); b.setAttribute("viewBox", "0 0 10 12"), b.setAttribute("class", this.da("_arrow_left")), b.style.width = "10px", b.style.height = "12px", b.style.position = "absolute", b.style.top = p + "px", b.style.left = "0px", b.style.display = "none", b.innerHTML = '<polyline points="10 0 0 6 10 12"></polyline>'; var w = document.createElementNS(m, "svg"); w.setAttribute("viewBox", "0 0 10 12"), w.setAttribute("class", this.da("_arrow_right")), w.style.width = "10px", w.style.height = "12px", w.style.position = "absolute", w.style.top = p + "px", w.style.right = "0px", w.style.display = "none", w.innerHTML = '<polyline points="0 0 10 6 0 12"></polyline>'; var x = document.createElement("div"); f.appendChild(x), f.appendChild(g), f.appendChild(y), f.appendChild(b), f.appendChild(w), x.className = this.da("_main_inner"), x.innerHTML = this.loadingText, document.body.appendChild(f), i.div = f, i.U = x, i.ea = g, i.fa = y, i.ga = b, i.ha = w, n.V = function () { }, n.V.calendar = t.calendar, n.V.ia = o; var k = {}; k.source = t.object, k.async = !1, k.html = t.staticHTML, k.loaded = function () { this.async && n.ja(k) }, this.showLoadingLabel && !a && this.aa(), t.staticHTML && "function" != typeof this.onLoad ? n.ja(k) : "function" == typeof this.onLoad ? (this.onLoad(k), k.async || n.ja(k)) : "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd ? n.ja(k) : this.ka(t) && this.callBack(t) } } }, this.ba = function (e) { return !!e.staticHTML || ("function" == typeof this.onLoad || ("function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd || !!this.ka(e))) }, this.ja = function (e) { var t = {}; t.source = e.source, t.html = e.html, t.element = null, "function" == typeof n.onDomAdd && n.onDomAdd(t), "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t), n.updateView(t, n) }, this.getDiv = function (e) { return e.div ? e.div : "Event" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0 }, this.da = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : "" }, this.ca = function (e) { var t = n.position; if (!e) return "Mouse"; if (!t) return "Above"; if ("eventtop" === t.toLowerCase()) return "Above"; if ("above" === t.toLowerCase()) return "Above"; if ("mouse" === t.toLowerCase()) return "Mouse"; if ("right" === t.toLowerCase()) return "Right"; throw new DayPilot.Exception("Unrecognized DayPilot.Bubble.position value: " + t) }, this.aa = function () { var t = this.animated, a = this.S.mouse, r = n.ca(this.V.ia), o = 10, s = 0; if (i.div && a) { if (!a.x || !a.y) return void e.hideActive(); var l = i.div, d = i.U; l.style.display = ""; var c = l.offsetHeight; this.showArrow && (c += 9); var u = l.offsetWidth; this.showArrow && (u += 9), l.style.display = "none"; var h = DayPilot.wd(), f = h.width, v = h.height, p = "bottom", m = "left", g = this.showArrow; if ("Mouse" === r) { var y = 0; if (a.clientY < c + o) { var b = c + o - a.clientY; b = 0, y = a.y + b + 22, p = "top" } else y = a.y - c - 5; "number" == typeof y && (l.style.top = Math.max(y, 0) + "px"); var w; if (a.clientX > f - u + o) { var x = a.clientX - (f - u) + o; w = a.x - x, g = !1 } else w = a.x, this.showArrow && (w -= 16); l.style.left = w + "px" } else if ("Above" === r) { var k = 2, y = a.y - c - k, C = h.scrollTop; y < C && (y = a.y + a.h, p = "top"), "number" == typeof y && (l.style.top = Math.max(y, 0) + "px"); var w = a.x; a.x + u + o > f && (w = f - u - o, m = "right"), l.style.left = w + "px" } else if ("Right" === r) { p = "top"; var y = a.y, w = a.x + a.w; w + u + o > f && u < a.x && (w = w - u - a.w, m = "right"); var _ = y + c + o - v; _ > 0 && (y -= _, s = _, y < 0 && (s += y, y = 0)), l.style.top = y + "px", l.style.left = w + "px" } if (l.style.display = "", g && ("Above" === r || "Mouse" === r ? "bottom" === p ? (i.ea.style.display = "none", i.fa.style.display = "", d.style.marginTop = "0px", d.style.marginBottom = "9px") : (i.ea.style.display = "", i.fa.style.display = "none", d.style.marginTop = "9px", d.style.marginBottom = "0px") : "left" === m ? (i.ha.style.display = "none", i.ga.style.display = "", i.ga.style.top = this.arrowTopIndent + s + "px", d.style.marginRight = "0px", d.style.marginLeft = "9px") : (i.ha.style.display = "", i.ga.style.display = "none", i.ha.style.top = this.arrowTopIndent + s + "px", d.style.marginRight = "9px", d.style.marginLeft = "0px")), t) { l.style.display = ""; var E = {}; E.color = d.style.color, E.overflow = l.style.overflow, d.style.color = "transparent", l.style.overflow = "hidden", DayPilot.pop(l, { "finished": function () { d.style.color = E.color, l.style.overflow = E.overflow }, "vertical": p, "horizontal": m, "animation": n.animation }) } } }, this.delayedHide = function () { e.showing === this && e.cancelShowing(); var t = e.active; if (t === this && (e.cancelHiding(), t.hideAfter > 0)) { var n = t.hideAfter; e.timeoutHide = window.setTimeout(e.hideActive, n) } }, this.showOnMouseOver = function (t) { e.active === this && e.cancelHiding(); var i = function (e) { return function () { n.show(e) } }; clearTimeout(e.timeoutShow), e.timeoutShow = window.setTimeout(i(t), this.showAfter), e.showing = this }, this.hideOnMouseOut = function () { this.delayedHide() }, this.ka = function (e) { return !!e.calendar.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID) }, this.T = function () { if (i.div) { var e = i.div.domArgs; if (i.div.domArgs = null, e && ("function" == typeof n.onDomRemove && n.onDomRemove(e), "function" == typeof n.onBeforeDomRemove && n.onBeforeDomRemove(e), "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd)) { var t = i.U; if (t) { var a = DayPilot.Util.isReactComponent(e.element), r = DayPilot.Util.isVueComponent(e.element); if (a) { if (!(n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM)) throw new DayPilot.Exception("Can't reach ReactDOM"); n.X.la(t) } else r && n.Z.ma(t) } } document.body.removeChild(i.div), i.div = null } }, this.X = {}, this.X.W = function (e, t) { var i = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM; if ("function" == typeof i.createRoot) { var a = t.na; a || (a = i.createRoot(t), t.na = a), a.render(e) } else i.render(e, t) }, this.X.Y = function () { var e = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM; return e && "function" == typeof e.createRoot }, this.X.la = function (e) { var t = n.V.calendar && n.V.calendar.internal.reactRefs().reactDOM; if ("function" == typeof t.createRoot) { var i = e.na; setTimeout(function () { i.unmount() }, 0) } else t.unmountComponentAtNode(e) }, this.Z = {}, this.Z.V = function () { var e = n.V.calendar, t = e && e.internal.vueRef; return t && t() }, this.Z._ = function (e, t, i) { var a = n.Z.V(); if (a && "function" == typeof a.createVNode && "function" == typeof a.render) { var r = a.createVNode(e, i); a.render(r, t) } }, this.Z.ma = function (e) { var t = n.Z.V(); "function" == typeof t.render && t.render(null, e) }, t) for (var a in t) this[a] = t[a]; this.init()
        }, DayPilot.Bubble.touchPosition = function (t) { t.touches && (e.mouse = e.touchPosition(t)) }, e.cancelShowing = function () { e.showing = null, e.timeoutShow && (window.clearTimeout(e.timeoutShow), e.timeoutShow = null) }, e.cancelHiding = function () { e.timeoutHide && window.clearTimeout(e.timeoutHide) }, e.hideActive = function () { e.cancelHiding(); var t = e.active; t && t.T(), e.active = null }, e.CallBackArgs = function (e, t, n, i) { this.calendar = e, this.type = t, this.object = n, this.staticHTML = i, this.toJSON = function () { var e = {}; return e.uid = this.calendar.uniqueID, e.type = this.type, e.object = n, e } }, "undefined" != typeof document && DayPilot.re(document, "mousemove", e.mouseMove), DayPilot.Bubble.hideActive = e.hideActive, DayPilot.Bubble.cancelShowing = e.cancelShowing, DayPilot.Bubble.hide = function (t) { if (t = t || {}, t.calendar) { var n = e.active; n && n.V.calendar === t.calendar && DayPilot.Bubble.hide() } else e.hideActive() }, DayPilot.Bubble.getActive = function () { return e.active }, DayPilot.Bubble.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
        var e = 10, t = function () { return document.createElement("div") }, n = DayPilot.rePassive, i = DayPilot.reNonPassive, a = DayPilot.re, r = DayPilot.Util.addClass, o = DayPilot.Util.removeClass, s = DayPilot.Util.isMouseEvent, l = DayPilot.Util.copyProps, d = DayPilot.Util.isReactComponent, c = DayPilot.Util.isVueComponent, u = DayPilot.Util.isVueVNode, h = DayPilot.Util.overlaps, f = DayPilot.list, v = DayPilot.Global, p = DayPilot.de; DayPilot.Calendar = function (g, y) {
            this.v = "2024.4.6294"; var b = !1; if (this instanceof DayPilot.Calendar && !this.oa && (b = !0, this.oa = !0), !b) throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'"); var w = this; this.uniqueID = null, this.clientName = g, this.id = g, this.isCalendar = !0, this.allDayEnd = "DateTime", this.allDayEventHeight = 34, this.allDayEventTextWrappingEnabled = !1, this.allowEventOverlap = !0, this.allowMultiSelect = !0, this.api = 2, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", this.backendUrl = null, this.blockOnCallBack = !1, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cellBubble = null, this.columnBubble = null, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.cellHeight = 30, this.cellDuration = 30, this.clientState = {}, this.columnMarginLeft = 0, this.columnMarginRight = 5, this.columnMoveSameLevelOnly = !1, this.columnWidth = 200, this.columnWidthMin = 10, this.columnWidthSpec = "Auto", this.columnsLoadMethod = "GET", this.contextMenu = null, this.contextMenuSelection = null, this.cornerText = "", this.cornerHtml = null, this.crosshairType = "Header", this.cssClass = null, this.cssClassPrefix = "calendar_default", this.dayBeginsHour = 0, this.dayEndsHour = 24, this.days = 1, this.doubleClickTimeout = 300, this.durationBarVisible = !0, this.dynamicEventRendering = "Disabled", this.dynamicEventRenderingMarginX = 0, this.dynamicEventRenderingMarginY = 0, this.eventArrangement = "Cascade", this.eventBorderRadius = null, this.eventsLoadMethod = "GET", this.headerHeight = 30, this.headerTextWrappingEnabled = !1, this.headerHeightAutoFit = !1, this.headerLevels = "Auto", this.headerLevelHeights = null, this.height = 300, this.heightSpec = "BusinessHours", this.hideFreeCells = !1, this.hideUntilInit = !0, this.headerDateFormat = null, this.hourWidth = 60, this.initEventEnabled = !1, this.initScrollPos = null, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.loadingLabelVisible = !0, this.locale = "en-us", this.messageHideAfter = 5e3, this.moveBy = "Full", this.notifyCommit = "Immediate", this.rtl = !1, this.scale = "CellDuration", this.scrollDelayCells = 0, this.scrollDelayEvents = 10, this.scrollLabelsVisible = !1, this.showToolTip = !0, this.showAllDayEvents = !1, this.showEventStartEnd = !1, this.showHeader = !0, this.showHours = !0, this.showCurrentTime = !1, this.showCurrentTimeMode = "Day", this.showCurrentTimeOffset = 0, this.snapToGrid = !0, this.snapToGridTimeRangeSelecting = !0, this.snapToGridEventMoving = !0, this.snapToGridEventResizing = !0, this.startDate = DayPilot.Date.today(), this.tapAndHoldTimeout = 300, this.theme = null, this.timeFormat = "Auto", this.timeHeaderCellDuration = "Auto", this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = "Auto", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = "Auto", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = "Auto", this.useEventBoxes = "Always", this.viewType = "Days", this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = "Auto", this.width = null, this.xssProtection = "Enabled", this.columnMoveHandling = "Disabled", this.columnResizeHandling = "Disabled", this.eventClickHandling = "Enabled", this.eventDoubleClickHandling = "Disabled", this.eventRightClickHandling = "ContextMenu", this.eventDeleteHandling = "Disabled", this.eventEditHandling = "Update", this.eventHoverHandling = "Bubble", this.eventResizeHandling = "Update", this.eventMoveHandling = "Update", this.eventSelectHandling = "Update", this.eventTapAndHoldHandling = "Move", this.headerClickHandling = "Enabled", this.timeRangeTapAndHoldHandling = "Select", this.timeRangeSelectedHandling = "Enabled", this.timeRangeClickHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.timeRangeRightClickHandling = "ContextMenu", this.onAutoRefresh = null, this.onColumnFilter = null, this.onColumnResize = null, this.onColumnResized = null, this.onEventFilter = null, this.onEventClick = null, this.onEventClicked = null, this.onEventDelete = null, this.onEventDeleted = null, this.onEventEdit = null, this.onEventEdited = null, this.onEventMove = null, this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventSelect = null, this.onEventSelected = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventDoubleClick = null, this.onEventDoubleClicked = null, this.onHeaderClick = null, this.onHeaderClicked = null, this.onTimeRangeClick = null, this.onTimeRangeClicked = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onAfterRender = null, this.onAfterEventRender = null, this.onAfterCellRender = null, this.onBeforeEventRender = null, this.onBeforeEventExport = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeCellRender = null, this.onBeforeCellExport = null, this.onBeforeCornerDomAdd = null, this.onBeforeCornerDomRemove = null, this.onBeforeCornerRender = null, this.onBeforeHeaderRender = null, this.onBeforeHeaderExport = null, this.onBeforeTimeHeaderRender = null, this.pa = !0, this.qa = e, this.ra = !0, this.sa = !0, this.ta = !0, this.va = !0, this.wa = {}, this.wa.pixels = {}, this.wa.events = [], this.wa.xa = null, this.wa.ya = null, this.elements = {}, this.elements.events = [], this.elements.separators = [], this.elements.selection = [], this.elements.cells = {}, this.elements.crosshair = [], this.elements.timeHeaders = [], this.events = {}, this.events.list = [], this.nav = {}, this.za = 0, this.Aa = !1, this.Ba = !1, this.members = {}, this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "clientName", "uniqueID"], this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "onCallbackError"], this.Ca = "javasc"; this.clearSelection = function () { v.selecting = null, w.Da(), w.Ea = null }; this.Da = function () { if (w.Ea) { p(w.elements.selection), w.elements.selection = [], w.nav.activeSelection = null; var e = (w.Fa || []).map(function (e) { return e.div }); DayPilot.de(e), w.Fa = [] } }, this.cleanSelection = this.clearSelection, this.Ga = function () { w.wa.xa = null, w.wa.ya = null }, this.Ha = function (e, t) { return w.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t }, this.Ka = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.La(); var a = "JSON" + JSON.stringify(i); __doPostBack(w.uniqueID, a) }, this.Ma = function (e, t, n, i) { if (!this.ka()) return void w.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), w.Na({ "delay": 100 }); var a = {}; a.action = e, a.type = i, a.parameters = t, a.data = n, a.header = this.La(); var r = "JSON" + JSON.stringify(a); this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, this.clientName, this.onCallbackError, !0) }, this.ka = function () { return "javasc" !== w.Ca && w.Ca.indexOf("DCODE") === -1 || w.devsb }, this.Ra = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID) }, this.Pa = function (e) { if ("function" == typeof w.onAjaxError) { var t = {}; t.request = e, w.onAjaxError(t) } else "function" == typeof w.ajaxError && w.ajaxError(e) }, this.dispose = function () { var e = w; clearInterval(e.Sa), e.Aa && (e.Ba || (e.Ba = !0, e.Ta && e.Ta.disconnect(), e.Ua(), e.Va(), e.nav.messageClose && (e.nav.messageClose.onclick = null), e.nav.hourTable && (e.nav.hourTable.oncontextmenu = null, e.nav.hourTable.onmousemove = null), e.nav.header && (e.nav.header.oncontextmenu = null), e.nav.corner && (e.nav.corner.oncontextmenu = null), e.nav.zoom && (e.nav.zoom.onmousemove = null, e.nav.zoom.oncontextmenu = null), e.nav.scroll && (e.nav.scroll.onscroll = null, e.nav.scroll.root = null), DayPilot.pu(e.nav.loading), e.Wa(), e.Xa(), e.Ya(), e.Za(), e.nav.select = null, e.nav.cornerRight = null, e.nav.scrollable = null, e.nav.bottomLeft = null, e.nav.bottomRight = null, e.nav.allday = null, e.nav.zoom = null, e.nav.loading = null, e.nav.events = null, e.nav.header = null, e.nav.hourTable = null, e.nav.scrolltop = null, e.nav.scroll = null, e.nav.vsph = null, e.nav.main = null, e.nav.message = null, e.nav.messageClose = null, e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), e.nav.top.removeEventListener("mouseleave", w.$a), e.nav.top.innerHTML = "", e.nav.top.dp = null, e.nav.top = null, DayPilot.ue(window, "resize", e._a), m.ab(e), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e }))) }, this.bb = function () { this.nav.top.dispose = this.dispose }, this.Oa = function (e) { w.Qa(e.responseText) }, this.La = function () { var e = {}; return e.v = this.v, e.control = "dpc", e.id = this.id, e.clientState = w.clientState, e.columns = this.cb(), e.days = w.days, e.startDate = w.startDate, e.cellDuration = w.cellDuration, e.cssClassPrefix = w.cssClassPrefix, e.heightSpec = w.heightSpec, e.businessBeginsHour = w.businessBeginsHour, e.businessEndsHour = w.businessEndsHour, e.viewType = w.viewType, e.dayBeginsHour = w.dayBeginsHour, e.dayEndsHour = w.dayEndsHour, e.headerLevels = w.headerLevels, e.eventHeaderVisible = w.eventHeaderVisible, e.timeFormat = w.timeFormat, e.timeHeaderCellDuration = w.timeHeaderCellDuration, e.locale = w.locale, e.scrollY = w.scrollPos, e.showAllDayEvents = w.showAllDayEvents, e.tagFields = w.tagFields, e.weekStarts = w.weekStarts, e.selected = w.multiselect.events(), e.hashes = w.hashes, e }, this.db = function () { w.eb(), w.fb(), w.gb = null }, this.cb = function () { var e = []; if (e.ignoreToJSON = !0, !this.hb) return e; for (var t = 0; t < this.hb.length; t++) { var n = this.hb[t], i = this.ib(n); e.push(i) } return e }, this.ib = function (e) { var t = {}; return t.Value = e.id, t.Name = e.name, t.ToolTip = e.toolTip, t.Date = e.start, t.Children = this.jb(e.children), t }, this.jb = function (e) { var t = []; if (t.ignoreToJSON = !0, !e) return t; for (var n = 0; n < e.length; n++)t.push(this.ib(e[n])); return t }, this.Qa = function (e, t) { var e = JSON.parse(e); if (e.BubbleGuid) { var n = e.BubbleGuid, i = this.bubbles[n]; return delete this.bubbles[n], w.kb(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i)) } if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect); if ("undefined" != typeof e.ClientState && (w.clientState = e.ClientState), "None" === e.UpdateType) return w.kb(), w.lb(e.CallBackData, !0), void (e.Message && w.message(e.Message)); if (w.Ga(), e.VsUpdate) { var a = document.createElement("input"); a.type = "hidden", a.name = w.id + "_vsupdate", a.id = a.name, a.value = e.VsUpdate, w.nav.vsph.innerHTML = "", w.nav.vsph.appendChild(a) } if (w.Va(), w.multiselect.clear(!0), w.multiselect.mb = e.SelectedEvents, "undefined" != typeof e.TagFields && (w.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (w.sortDirections = e.SortDirections), "Full" === e.UpdateType && (w.colors = e.Colors, w.palette = e.Palette, w.dirtyColors = e.DirtyColors, w.cellProperties = e.CellProperties, w.cellConfig = e.CellConfig, w.nb() === w.columns ? w.columns = e.Columns : w.columns.list = e.Columns, w.days = e.Days, w.startDate = new DayPilot.Date(e.StartDate).getDatePart(), w.cellDuration = e.CellDuration, w.heightSpec = e.HeightSpec ? e.HeightSpec : w.heightSpec, w.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : w.businessBeginsHour, w.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : w.businessEndsHour, w.viewType = e.ViewType, w.headerLevels = e.HeaderLevels, w.backColor = e.BackColor ? e.BackColor : w.backColor, w.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : w.nonBusinessBackColor, w.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : w.eventHeaderVisible, w.timeFormat = e.TimeFormat ? e.TimeFormat : w.timeFormat, w.timeHeaderCellDuration = "undefined" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : w.timeHeaderCellDuration, w.locale = e.Locale ? e.Locale : w.locale, w.dayBeginsHour = "undefined" != typeof e.DayBeginsHour ? e.DayBeginsHour : w.dayBeginsHour, w.dayEndsHour = "undefined" != typeof e.DayEndsHour ? e.DayEndsHour : w.dayEndsHour, w.cornerHtml = e.CornerHTML, w.hours = e.Hours, w.ob(), w.pb()), e.Hashes) for (var r in e.Hashes) w.hashes[r] = e.Hashes[r]; if (w.qb(e.Events), w.rb(), ("Full" === e.UpdateType || w.hideFreeCells) && (w.sb(), w.tb(), w.ub(), w.vb(), w.wb(), w.xb(), w.yb(), w.zb(), w.clearSelection(), w.Ab(), "undefined" != typeof e.ScrollY ? w.scrollToY(e.ScrollY) : w.scrollToY(w.initScrollPos)), w.Bb(), w.E(), w.Cb(), w.Db(), "Parent100Pct" === w.heightSpec && w.Eb(), "HoldForever" !== w.timeRangeSelectedHandling && w.clearSelection(), w.Fb(), w.todo && w.todo.del) { var o = w.todo.del; o.parentNode.removeChild(o), w.todo.del = null } w.lb(e.CallBackData, !0), w.kb(), w.Gb(), e.Message && w.message(e.Message) }, this.lb = function (e, t) { var n = function (e, t) { return function () { if (w.Hb()) { if ("function" == typeof w.onAfterRender) { var n = {}; n.isCallBack = t, n.data = e, w.onAfterRender(n) } } else w.afterRender && w.afterRender(e, t) } }; window.setTimeout(n(e, t), 0) }, this.Ib = function (e, n) { var i = w.nav.events, a = i.rows[0].cells.length, r = w.Jb(w.coords.x); r < 0 && (r = 0), r >= a && (r = a - 1), w.rtl && (r = w.Kb.length - r - 1); var o = i.rows[0].cells[r], s = 0, l = 0, d = 0; if ("undefined" != typeof e.duration) { var c = e.duration; d = Math.floor((w.coords.y - s + w.cellHeight / 2) / w.cellHeight) * w.cellHeight + s, l = c * w.cellHeight / (60 * E.Lb()), l = Math.max(l, w.cellHeight) } else { var u = e.event; l = u.part.height, d = u.part.top } var h = w.eventBorderRadius; "number" == typeof h && (h += "px"); var f = t(); f.setAttribute("unselectable", "on"), f.style.position = "absolute", f.style.width = "100%", f.style.height = l + "px", f.style.left = "0px", f.style.top = d + "px", f.style.zIndex = w.qa, f.exclude = !0, f.style.marginLeft = w.columnMarginLeft + "px", f.style.marginRight = w.columnMarginRight + "px"; var v = t(); return f.appendChild(v), f.className = w.da("_shadow"), v.className = this.da("_shadow_inner"), h && (v.style.borderRadius = h, f.style.borderRadius = h), o.events.appendChild(f), f }, this.Mb = function () { return this.Nb() / 36e5 }, this.Ob = function () { return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour }, this.Pb = function () { return "Resources" !== w.viewType || w.hours ? this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour : 24 * w.days }, this.Nb = function (e) { var t = 0; if ("BusinessHoursNoScroll" === this.heightSpec) t = this.Ob(); else if (this.hideFreeCells && !e) { var n = (this.Qb - 1) * E.Lb() / this.cellHeight, i = Math.ceil(n / 60), a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour; t = Math.max(this.dayBeginsHour + i, a) - this.Rb() } else t = this.Pb(); return 60 * t * 60 * 1e3 }, this.message = function (e, n) { if (null !== e && w.Aa) { var i, a = {}; "object" == typeof arguments[1] ? (a = arguments[1], i = a.delay) : i = n; var o = ""; o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e), i = i || this.messageHideAfter || 2e3; var s, l = this.Sb(), d = this.showHours ? this.hourWidth : 0, c = DayPilot.sw(w.Tb()); if (w.rtl) { var u = d; d = c, c = u } if (this.nav.message) s = w.nav.message, this.nav.message.style.top = l + "px"; else { s = t(), s.style.position = "absolute", s.style.left = d + "px", s.style.top = l + "px", s.style.right = "0px", s.style.display = "none", s.onmousemove = function () { s.messageTimeout && !s.status && clearTimeout(s.messageTimeout) }, s.onmouseout = function () { "none" !== w.nav.message.style.display && (s.messageTimeout = setTimeout(w.Ub, 500)) }; var h = t(); h.onclick = function () { w.nav.message.style.display = "none" }, h.className = this.da("_message"), s.appendChild(h); var f = t(); f.style.position = "absolute", f.className = this.da("_message_close"), f.onclick = function () { w.nav.message.style.display = "none" }, s.appendChild(f), this.nav.top.insertBefore(s, this.nav.loading), this.nav.message = s, this.nav.messageClose = f } this.nav.cornerRight ? this.nav.message.style.right = c + "px" : this.nav.message.style.right = "0px"; var v = function () { if (w.nav.message) { var e = w.nav.message.firstChild; e.className = w.da("_message"), a.cssClass && r(e, a.cssClass), e.innerHTML = o; var t = function () { s.messageTimeout = setTimeout(w.Ub, i) }; DayPilot.fade(w.nav.message, .2, t) } }; clearTimeout(s.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(w.nav.message, -.2, v) : v() } }, this.message.show = function (e) { w.message(e) }, this.message.hide = function () { w.Ub() }, this.Ub = function () { var e = function () { w.nav.message.style.display = "none" }; DayPilot.fade(w.nav.message, -.2, e) }, this.vb = function () { this.nav.message && (this.nav.message.style.top = this.Sb() + "px") }, this.Vb = function () { return this.Nb() / (6e4 * E.Lb()) }, this.eventClickPostBack = function (e, t) { this.Ka("EventClick", t, e) }, this.eventClickCallBack = function (e, t) { this.Ma("EventClick", e, t) }, this.Wb = function (e) { var t = this, e = e || window.event, n = e.ctrlKey, i = e.metaKey; if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === w.eventDoubleClickHandling) return void w.Xb(t, e); if (w.timeouts) { for (var a in w.timeouts) window.clearTimeout(w.timeouts[a]); w.timeouts = [] } else w.timeouts = []; var r = function (e, t, n, i) { return function () { w.Xb(e, i) } }; w.timeouts.push(window.setTimeout(r(this, n, i, e), w.doubleClickTimeout)) }, this.Xb = function (e, t) { var n = e.event; if (n.client.clickEnabled()) { var i = t.ctrlKey, a = t.metaKey, r = t.shiftKey; if (w.Hb()) { var o = {}; if (o.e = n, o.control = w, o.ctrl = i, o.meta = a, o.shift = r, o.originalEvent = t, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventClick && (w.onEventClick(o), o.preventDefault.value)) return; switch (w.eventClickHandling) { case "PostBack": w.eventClickPostBack(n); break; case "CallBack": w.eventClickCallBack(n); break; case "Edit": w.Yb(e); break; case "Select": w.Zb(e, n, i, a); break; case "Bubble": w.bubble && w.bubble.showEvent(n); break; case "ContextMenu": var s = n.client.contextMenu(); s ? s.show(n) : w.contextMenu && w.contextMenu.show(n) }"function" == typeof w.onEventClicked && w.onEventClicked(o) } else switch (w.eventClickHandling) { case "PostBack": w.eventClickPostBack(n); break; case "CallBack": w.eventClickCallBack(n); break; case "JavaScript": w.onEventClick(n); break; case "Edit": w.Yb(e); break; case "Select": w.Zb(e, n, i, a); break; case "Bubble": w.bubble && w.bubble.showEvent(n); break; case "ContextMenu": var s = n.client.contextMenu(); s ? s.show(n) : w.contextMenu && w.contextMenu.show(n) } } }, this.eventDoubleClickPostBack = function (e, t) { this.Ka("EventDoubleClick", t, e) }, this.eventDoubleClickCallBack = function (e, t) { this.Ma("EventDoubleClick", e, t) }, this.$b = function (e) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), w.timeouts) { for (var t in w.timeouts) window.clearTimeout(w.timeouts[t]); w.timeouts = null } var n = this.event, e = e || window.event; if (w.Hb()) { var i = {}; if (i.e = n, i.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventDoubleClick && (w.onEventDoubleClick(i), i.preventDefault.value)) return; switch (w.eventDoubleClickHandling) { case "PostBack": w.eventDoubleClickPostBack(n); break; case "CallBack": w.eventDoubleClickCallBack(n); break; case "Edit": n.allday() || w.Yb(this); break; case "Select": n.allday() || w.Zb(this, n, e.ctrlKey); break; case "Bubble": w.bubble && w.bubble.showEvent(n) }"function" == typeof w.onEventDoubleClicked && w.onEventDoubleClicked(i) } else switch (w.eventDoubleClickHandling) { case "PostBack": w.eventDoubleClickPostBack(n); break; case "CallBack": w.eventDoubleClickCallBack(n); break; case "JavaScript": w.onEventDoubleClick(n); break; case "Edit": n.allday() || w.Yb(this); break; case "Select": n.allday() || w.Zb(this, n, e.ctrlKey); break; case "Bubble": w.bubble && w.bubble.showEvent(n) } }, this.eventRightClickPostBack = function (e, t) { this.Ka("EventRightClick", t, e) }, this.eventRightClickCallBack = function (e, t) { this.Ma("EventRightClick", e, t) }, this._b = function (e) {
                var t = this.event; if (e.stopPropagation && e.stopPropagation(), !t.client.rightClickEnabled()) return !1; if (w.Hb()) { var n = {}; if (n.e = t, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventRightClick && (w.onEventRightClick(n), n.preventDefault.value)) return !1; switch (w.eventRightClickHandling) { case "PostBack": w.eventRightClickPostBack(t); break; case "CallBack": w.eventRightClickCallBack(t); break; case "ContextMenu": var i = t.client.contextMenu(); i ? i.show(t) : w.contextMenu && w.contextMenu.show(this.event); break; case "Bubble": w.bubble && w.bubble.showEvent(t) }"function" == typeof w.onEventRightClicked && w.onEventRightClicked(n) } else switch (w.eventRightClickHandling) { case "PostBack": w.eventRightClickPostBack(t); break; case "CallBack": w.eventRightClickCallBack(t); break; case "JavaScript": w.onEventRightClick(t); break; case "ContextMenu": var i = t.client.contextMenu(); i ? i.show(t) : w.contextMenu && w.contextMenu.show(this.event); break; case "Bubble": w.bubble && w.bubble.showEvent(t) }return e.preventDefault && e.preventDefault(), !1;
            }, this.bc = function (e) { return new DayPilot.Column(e, w) }, this.headerClickPostBack = function (e, t) { this.Ka("HeaderClick", t, e) }, this.headerClickCallBack = function (e, t) { this.Ma("HeaderClick", e, t) }, this.cc = function (e) { var t = this.data, n = w.bc(t, w); if (w.Hb()) { var i = {}; if (i.header = {}, i.header.id = t.id, i.header.name = t.name, i.header.start = t.start, i.column = n, i.originalEvent = e, i.shift = e.shiftKey, i.ctrl = e.ctrlKey, i.meta = e.metaKey, i.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onHeaderClick && (w.onHeaderClick(i), i.preventDefault.value)) return; switch (w.headerClickHandling) { case "PostBack": w.headerClickPostBack(n); break; case "CallBack": w.headerClickCallBack(n) }"function" == typeof w.onHeaderClicked && w.onHeaderClicked(i) } else switch (w.headerClickHandling) { case "PostBack": w.headerClickPostBack(n); break; case "CallBack": w.headerClickCallBack(n); break; case "JavaScript": w.onHeaderClick(n) } }, this.dc = function (e) { var t = this, n = t.firstChild; if ("undefined" != typeof DayPilot.Bubble && w.columnBubble) if ("Resources" === w.viewType) { var i = {}; i.calendar = w, i.start = this.data.start, i.name = this.data.name, i.id = this.data.id, i.toJSON = function () { var e = {}; return e.id = this.id, e.start = this.start, e.name = this.name, e }, w.columnBubble.showResource(i, !1, t) } else { var a = new DayPilot.Date(this.data.start), r = a.addDays(1), o = {}; o.calendar = w, o.start = a, o.end = r, o.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e }, w.columnBubble.showTime(o, !1, t) } if (!n.active) { var s = t.data, l = w.bc(s); l.areas = t.data.areas, DayPilot.Areas.showAreas(n, l) } "undefined" != typeof x && x.t && x.ec(e, t) }, this.fc = function (e) { "undefined" != typeof DayPilot.Bubble && w.columnBubble && w.columnBubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this.firstChild, e) }, this.eventDeletePostBack = function (e, t) { this.Ka("EventDelete", t, e) }, this.eventDeleteCallBack = function (e, t) { this.Ma("EventDelete", e, t) }, this.gc = function (e) { var t; if (t = e && e.isEvent ? e : e.parentNode.parentNode.event, "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), w.Hb()) { var n = {}; if (n.e = t, n.control = w, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventDelete && (w.onEventDelete(n), n.preventDefault.value)) return; switch (w.eventDeleteHandling) { case "PostBack": w.eventDeletePostBack(t); break; case "CallBack": w.eventDeleteCallBack(t); break; case "Update": w.events.remove(t) }"function" == typeof w.onEventDeleted && w.onEventDeleted(n) } else switch (w.eventDeleteHandling) { case "PostBack": w.eventDeletePostBack(t); break; case "CallBack": w.eventDeleteCallBack(t); break; case "JavaScript": w.onEventDelete(t) } }, this.eventResizePostBack = function (e, t, n, i) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.Ka("EventResize", i, a) }, this.eventResizeCallBack = function (e, t, n, i) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.Ma("EventResize", a, i) }, this.hc = function (e, t, n, i) { if ("PostBack" === e) w.postBack2(t, n, i); else if ("CallBack" === e) w.Ma(t, n, i, "CallBack"); else if ("Immediate" === e) w.Ma(t, n, i, "Notify"); else if ("Queue" === e) w.queue.add(new DayPilot.Action(this, t, n, i)); else { if ("Notify" !== e) throw new DayPilot.Exception("Invalid event invocation type"); "Notify" === E.ic() ? w.Ma(t, n, i, "Notify") : w.queue.add(new DayPilot.Action(w, t, n, i)) } }, this.Rb = function (e) { if ("Resources" === w.viewType && w.days > 1) return 0; if ("BusinessHoursNoScroll" === this.heightSpec) return this.businessBeginsHour; if (this.hideFreeCells && !e) { var t = this.jc * E.Lb() / this.cellHeight, n = Math.floor(t / 60); return n = Math.max(0, n), Math.min(this.dayBeginsHour + n, this.businessBeginsHour) } return this.dayBeginsHour }, this.visibleStart = function () { if ("Resources" === w.viewType) { if (w.Kb.isEmpty()) return DayPilot.Date.today(); var e = f(w.Kb).map(function (e) { return e.start.getTime() }), t = Math.min.apply(null, e); return new DayPilot.Date(t) } return this.Kb[0].start }, this.visibleEnd = function () { if ("Resources" === w.viewType) { if (w.Kb.isEmpty()) return DayPilot.Date.today().addDays(w.days); var e = f(w.Kb).map(function (e) { return e.start.getTime() }), t = Math.max.apply(null, e); return new DayPilot.Date(t).addDays(w.days) } var n = this.Kb, t = n.length - 1; return n[t].start.addDays(1) }, this.Hb = function () { return 2 === w.api }, this.kc = function (e, t) { var n = w.Kb[e.part.dayIndex].start, i = Math.floor(t / w.cellHeight); w.snapToGrid && w.snapToGridEventResizing || (i = t / w.cellHeight); var a = Math.floor(i * E.Lb()), r = 60 * a * 1e3, o = 60 * w.Rb() * 60 * 1e3; return n.addTime(r + o) }, this.lc = function (e, t) { var n = Math.floor(t / w.cellHeight); w.snapToGrid && w.snapToGridEventResizing || (n = t / w.cellHeight); var i = Math.floor(n * E.Lb()), a = 60 * i * 1e3, r = 60 * w.Rb() * 60 * 1e3; return w.Kb[e.part.dayIndex].start.addTime(a + r) }, this.nc = function (e, t, n, i) { if ("Disabled" !== this.eventResizeHandling) { var a, r; if ("top" === i ? (a = w.kc(e, n), r = e.end()) : "bottom" === i && (a = e.start(), r = w.lc(e, n + t)), w.va) { var o = w.oc; a = o.start, r = o.end } if (w.Hb()) { var s = {}, l = function () { if (s.loaded = function () { }, w.pc(), !s.preventDefault.value) { switch (w.eventResizeHandling) { case "PostBack": w.eventResizePostBack(e, a, r); break; case "CallBack": w.eventResizeCallBack(e, a, r); break; case "Notify": w.eventResizeNotify(e, a, r); break; case "Update": e.start(a), e.end(r), w.events.update(e) }"function" == typeof w.onEventResized && w.onEventResized(s) } }; if (s.e = e, s.control = w, s.newStart = a, s.newEnd = r, s.preventDefault = function () { this.preventDefault.value = !0 }, s.async = !1, s.hideShadow = function () { w.pc() }, s.loaded = function () { l() }, "function" == typeof w.onEventResize && (w.onEventResize(s), s.preventDefault.value)) return void w.pc(); s.async || l() } else switch (w.pc(), w.eventResizeHandling) { case "PostBack": w.eventResizePostBack(e, a, r); break; case "CallBack": w.eventResizeCallBack(e, a, r); break; case "JavaScript": w.onEventResize(e, a, r); break; case "Notify": w.eventResizeNotify(e, a, r) } } }, this.eventResizeNotify = function (e, t, n, i) { var a = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), w.update(), this.qc("Notify", a, t, n, i) }, this.qc = function (e, t, n, i, a) { var r = {}; r.e = t, r.newStart = n, r.newEnd = i, this.hc(e, "EventResize", r, a) }, this.eventMovePostBack = function (e, t, n, i, a) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.newResource = i, this.Ka("EventMove", a, r) }, this.eventMoveCallBack = function (e, t, n, i, a) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.newResource = i, this.Ma("EventMove", r, a) }, this.rc = function (e, t, n) { var i = w.Jb(t.x); i < 0 && (i = 0), i >= w.Kb.length && (i = w.Kb.length - 1); var a = w.Kb[i], r = a.start, o = a.id, s = w.snapToGrid && w.snapToGridEventMoving, l = 0; if (e.part.box) { var d = w.Kb[e.part.dayIndex], c = w.sc(e.start(), d.start); l = e.start().getTime() - c.boxStart.getTime() } var u = w.tc(t.x, t.y), h = u.addTime(-n); if (s) { var f = h.addTime(-l); h = w.uc(f, r).addTime(l) } return { "start": h, "end": h.addTime(e.end().getTime() - e.start().getTime()), "resource": o } }, this.vc = function (e, t, n) { var i = 0, a = Math.floor((n - i) / w.cellHeight), r = w.snapToGrid && w.snapToGridEventMoving; r || (a = n / w.cellHeight); var o = E.Lb(), s = a * o * 60 * 1e3, l = e.start(), d = e.end(), c = new Date; l instanceof DayPilot.Date && (l = l.toDate()), c.setTime(Date.UTC(l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate())); var u = "Never" !== w.useEventBoxes ? l.getTime() - (c.getTime() + 3600 * l.getUTCHours() * 1e3 + Math.floor(l.getUTCMinutes() / o) * o * 60 * 1e3) : 0; r || (u = 0); var h = d.getTime() - l.getTime(), f = 3600 * w.Rb() * 1e3; "undefined" == typeof t && (t = e.part.dayIndex); var v = this.Kb[t], p = v.start.getTime(), m = new Date; m.setTime(p + s + u + f); var g = new DayPilot.Date(m); return { "start": g, "end": g.addTime(h), "resource": v.id } }, this.wc = function (e, t, n, i, a) { if ("Disabled" !== w.eventMoveHandling) { var r; w.xc ? (r = w.xc, w.xc = null) : r = w.vc(e, t, n); var o = r.start, s = r.end, l = r.resource, d = !!a; if (w.Hb()) { var c = {}, u = function () { if (c.loaded = function () { }, w.yc(), !c.preventDefault.value) { switch (w.eventMoveHandling) { case "PostBack": w.eventMovePostBack(e, o, s, l); break; case "CallBack": w.eventMoveCallBack(e, o, s, l); break; case "Notify": w.eventMoveNotify(e, o, s, l); break; case "Update": e.start(o), e.end(s), e.resource(l), d ? (e.commit(), w.events.add(e)) : w.events.update(e), w.zc() }"function" == typeof w.onEventMoved && w.onEventMoved(c) } }; if (c.e = e, c.control = w, c.newStart = r.start, c.newEnd = r.end, c.newResource = r.resource, c.external = d, c.areaData = v.movingAreaData, c.ctrl = !1, i && (c.ctrl = i.ctrlKey), c.shift = !1, i && (c.shift = i.shiftKey), c.preventDefault = function () { this.preventDefault.value = !0 }, c.async = !1, c.hideShadow = function () { w.yc() }, c.loaded = function () { u() }, "function" == typeof w.onEventMove && (w.onEventMove(c), c.preventDefault.value)) return void w.yc(); c.async || u() } else switch (w.yc(), w.eventMoveHandling) { case "PostBack": w.eventMovePostBack(e, o, s, l); break; case "CallBack": w.eventMoveCallBack(e, o, s, l); break; case "JavaScript": w.onEventMove(e, o, s, l, d, !!i && i.ctrlKey, !!i && i.shiftKey); break; case "Notify": w.eventMoveNotify(e, o, s, l, null) } } }, this.eventMoveNotify = function (e, t, n, i, a) { var r = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.resource(i), e.commit(), w.update(), this.Ac("Notify", r, t, n, i, a) }, this.Ac = function (e, t, n, i, a, r) { var o = {}; o.e = t, o.newStart = n, o.newEnd = i, o.newResource = a, this.hc(e, "EventMove", o, r) }, this.zc = function () { if (w.todo && w.todo.del) { var e = w.todo.del; e.parentNode.removeChild(e), w.todo.del = null } }, this.Bc = function (e, t) { var n = w.Cc(t), i = {}; i.args = e, i.guid = n, w.Ma("Bubble", i) }, this.Cc = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ka("EventMenuClick", n, i) }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ma("EventMenuClick", i, n) }, this.Dc = function (e, t, n) { switch (n) { case "PostBack": w.eventMenuClickPostBack(t, e); break; case "CallBack": w.eventMenuClickCallBack(t, e) } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ka("TimeRangeMenuClick", n, i) }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ma("TimeRangeMenuClick", i, n) }, this.Ec = function (e, t, n) { switch (n) { case "PostBack": w.timeRangeMenuClickPostBack(t, e); break; case "CallBack": w.timeRangeMenuClickCallBack(t, e) } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ka("TimeRangeSelected", i, a) }, this.timeRangeSelectedCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ma("TimeRangeSelected", a, i) }, this.Fc = function (e, t, n, i) { e = new DayPilot.Date(e), t = new DayPilot.Date(t), i = i || "click"; var a = n; if (w.Hb()) { var r = {}; if (r.start = e, r.end = t, r.resource = a, r.control = w, r.origin = i, r.preventDefault = function () { this.preventDefault.value = !0 }, r.toJSON = function () { return l(r, {}, ["start", "end", "resource"]) }, "function" == typeof w.onTimeRangeSelect && (w.onTimeRangeSelect(r), r.preventDefault.value)) return; switch (w.timeRangeSelectedHandling) { case "PostBack": w.timeRangeSelectedPostBack(e, t, a); break; case "CallBack": w.timeRangeSelectedCallBack(e, t, a) }"function" == typeof w.onTimeRangeSelected && w.onTimeRangeSelected(r) } else switch (w.timeRangeSelectedHandling) { case "PostBack": w.timeRangeSelectedPostBack(e, t, n); break; case "CallBack": w.timeRangeSelectedCallBack(e, t, n); break; case "JavaScript": w.onTimeRangeSelected(e, t, n) } }, this.timeRangeDoubleClickPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ka("TimeRangeDoubleClick", i, a) }, this.timeRangeDoubleClickCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ma("TimeRangeDoubleClick", a, i) }, this.Gc = function (e, t, n) { if (w.Hb()) { var i = n, a = {}; a.start = e, a.end = t, a.resource = i, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onTimeRangeClick && (w.onTimeRangeClick(a), a.preventDefault.value) || "function" == typeof w.onTimeRangeClicked && w.onTimeRangeClicked(a) } }, this.Hc = function (e, t, n) { if (w.Hb()) { var i = n, a = {}; if (a.start = e, a.end = t, a.resource = i, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onTimeRangeDoubleClick && (w.onTimeRangeDoubleClick(a), a.preventDefault.value)) return; switch (w.timeRangeDoubleClickHandling) { case "PostBack": w.timeRangeDoubleClickPostBack(e, t, i); break; case "CallBack": w.timeRangeDoubleClickCallBack(e, t, i) }"function" == typeof w.onTimeRangeDoubleClicked && w.onTimeRangeDoubleClicked(a) } else switch (w.timeRangeDoubleClickHandling) { case "PostBack": w.timeRangeDoubleClickPostBack(e, t, n); break; case "CallBack": w.timeRangeDoubleClickCallBack(e, t, n); break; case "JavaScript": w.onTimeRangeDoubleClick(e, t, n) } }, this.eventEditPostBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.Ka("EventEdit", n, i) }, this.eventEditCallBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.Ma("EventEdit", i, n) }, this.Ic = function (e, t) { if (w.Hb()) { var n = {}; if (n.control = w, n.e = e, n.newText = t, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventEdit && (w.onEventEdit(n), n.preventDefault.value)) return; switch (w.eventEditHandling) { case "PostBack": w.eventEditPostBack(e, n.newText); break; case "CallBack": w.eventEditCallBack(e, n.newText); break; case "Update": e.text(n.newText), w.events.update(e) }if ("function" == typeof w.onEventEdited && (w.onEventEdited(n), n.preventDefault.value)) return } else switch (w.eventEditHandling) { case "PostBack": w.eventEditPostBack(e, t); break; case "CallBack": w.eventEditCallBack(e, t); break; case "JavaScript": w.onEventEdit(e, t) } }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ka("EventSelect", n, i) }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ma("EventSelect", i, n) }, this.Jc = function (e, t, n, i) { var a = w.multiselect, r = a.isSelected(t); if (n || i || !r || 1 !== a.Kc.length) if (w.Hb()) { a.previous = a.events(); var o = {}; if (o.e = t, o.selected = a.isSelected(t), o.ctrl = n, o.meta = i, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onEventSelect && (w.onEventSelect(o), o.preventDefault.value)) return; switch (w.eventSelectHandling) { case "PostBack": w.eventSelectPostBack(t, s); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), w.eventSelectCallBack(t, s); break; case "Update": a.Nc(e, n) }"function" == typeof w.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", o.selected = a.isSelected(t), w.onEventSelected(o)) } else { a.previous = a.events(), a.Nc(e, n); var s = a.isSelected(t) ? "selected" : "deselected"; switch (w.eventSelectHandling) { case "PostBack": w.eventSelectPostBack(t, s); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), w.eventSelectCallBack(t, s); break; case "JavaScript": w.onEventSelect(t, s) } } }, this.commandCallBack = function (e, t) { this.Ua(); var n = {}; n.command = e, this.Ma("Command", n, t) }, this.Oc = function (e) { if (!_.active && !_.using && (clearTimeout(m.selectedTimeout), !v.selecting)) { if (m.editing) return void m.editing.blur(); if (!(w.Ea && "Disabled" !== w.timeRangeDoubleClickHandling && w.Pc(w.coords) || "Disabled" === w.timeRangeSelectedHandling)) { if (DayPilot.Util.mouseButton(e).left) { v.selecting = { "calendar": w, "start": w.coords }; var t = v.selecting; t.start.time = w.tc(w.coords.x, w.coords.y), t.start.columnIndex = w.Jb(w.coords.x), t.start.column = w.Kb[t.start.columnIndex], w.Qc(), w.Rc() } } } }, this.Rc = function (e) { var n = e || v.selecting; n && !function () { var e = w.timeRangeSelectingStartEndFormat; "Auto" === e && (e = "Clock24Hours" === E.Sc() ? "H:mm" : "h:mm tt"); var i = n.start.column, a = n.start.columnIndex, o = {}; o.anchor = n.anchor, o.start = n.startTime, o.end = n.endTime, o.duration = new DayPilot.Duration(o.start, o.end), o.resource = i.id, o.allowed = !0, o.html = null, o.cssClass = null, o.top = {}, o.top.width = null, o.top.space = 5, o.top.html = o.start.toString(e, E.Tc()), o.top.enabled = w.timeRangeSelectingStartEndEnabled, o.bottom = {}, o.bottom.width = null, o.bottom.space = 5, o.bottom.html = o.end.toString(e, E.Tc()), o.bottom.enabled = w.timeRangeSelectingStartEndEnabled; var s = v.selecting && v.selecting.args; if (!s || s.start !== o.start || s.end !== o.end || s.resource != o.resource) { if (!w.allowEventOverlap) { var l = { "id": null, "start": o.start, "end": o.end, "resource": o.resource }; w.events.Uc(l) && (o.allowed = !1) } w.Vc(o.start, o.end, o.resource) && (o.allowed = !1), "function" == typeof w.onTimeRangeSelecting && o.allowed && w.onTimeRangeSelecting(o), v.selecting && (v.selecting.args = o); var d = w.sc(o.start, i.start), c = w.sc(o.end, i.start), u = d.boxTop - w.Wc(), h = c.boxBottom - w.Wc(); w.snapToGrid && w.snapToGridTimeRangeSelecting || (u = d.top - w.Wc(), h = c.top - w.Wc()); var f = t(), p = [{ "div": f, "columnIndex": a }]; if (w.va) { f.style.display = "none"; var m = { "start": o.start, "end": o.end, "resource": i.id }; w.Xc(null, m), p = w.Fa } w.Yc(), p.forEach(function (e) { var t = e.div, n = e.columnIndex; t.className = w.da("_shadow"), t.firstChild.innerHTML = ""; var i = t.firstChild; o.html && (i.innerHTML = o.html), o.cssClass && r(t, o.cssClass), o.allowed || r(t, w.da("_shadow_forbidden")), w.Zc(t, n, o) }) } }() }, this.yc = function () { w.$c(m.movingShadow), m.movingShadow = null; var e = (w.Fa || []).map(function (e) { return e.div }); DayPilot.de(e), w.Fa = [] }, this.pc = function () { w.$c(m.resizingShadow), m.resizingShadow = null; var e = (w.Fa || []).map(function (e) { return e.div }); DayPilot.de(e), w.Fa = [] }, this.$c = function (e) { p(e), p(w.nav.indicatorTop), p(w.nav.indicatorBottom) }, this.Yc = function () { p(w.nav.indicatorTop), p(w.nav.indicatorBottom), w.nav.indicatorTop = [], w.nav.indicatorBottom = [] }, this.Zc = function (e, n, i) { var a = w.nav.events.rows[0].cells, r = a[n].events, o = n === a.length - 1; if (i.top.enabled) { var s = t(); s.style.zIndex = w.qa, s.style.position = "absolute", s.style.top = e.offsetTop + "px", o ? s.style.right = "0px" : s.style.left = e.offsetWidth + i.top.space + "px", i.top.width ? s.style.width = i.top.width + "px" : s.style.whiteSpace = "nowrap", i.top.html && (s.innerHTML = i.top.html), s.className = w.da("_shadow_top"), r.appendChild(s), w.elements.selection.push(s), w.nav.indicatorTop.push(s) } if (i.bottom.enabled) { var l = t(); l.style.zIndex = w.qa, l.style.position = "absolute", l.style.top = e.offsetTop + e.offsetHeight + "px", o ? l.style.right = "0px" : l.style.left = e.offsetWidth + i.bottom.space + "px", i.bottom.width ? l.style.width = i.bottom.width + "px" : l.style.whiteSpace = "nowrap", i.bottom.html && (l.innerHTML = i.bottom.html), l.className = w.da("_shadow_bottom"), r.appendChild(l); var d = l.offsetHeight; l.style.top = e.offsetTop + e.offsetHeight - d + "px", w.elements.selection.push(l), w.nav.indicatorBottom.push(l) } }, this._c = function (e) { "undefined" != typeof DayPilot.Bubble && w.cellBubble && w.cellBubble.hideOnMouseOut() }, this.ad = function (e) { if ("undefined" != typeof m && !_.active && !_.using) { if ("undefined" != typeof DayPilot.Bubble && w.cellBubble) { var t = {}; t.calendar = w, t.start = this.start, t.end = this.end, t.resource = this.resource, t.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e.resource = this.resource, e }, w.cellBubble.showCell(t, this) } "undefined" != typeof k && k.t && k.bd(t, e) } }, this.getSelection = function () { if (!w.Ea) return null; var e = w.Ea; return new DayPilot.Selection(e.startTime, e.endTime, e.start.column.id, w) }, this.cd = function (e) { }, this.dd = function (e) { if ("Fixed" === E.ed() || w.ra) { if (!w.nav.bottomLeft) return; w.nav.bottomLeft.scrollTop = w.nav.bottomRight.scrollTop, w.nav.upperRight && (w.nav.upperRight.scrollLeft = w.nav.bottomRight.scrollLeft), w.nav.scrollLayer.scrollLeft = w.nav.bottomRight.scrollLeft } var t = w.fd(); w.scrollPos = t.scrollTop, w.gd = t.clientHeight, w.nav.scrollpos.value = w.scrollPos, w.Fb(), w.Ga(), "Progressive" === w.dynamicEventRendering && (clearTimeout(w.hd), 0 === w.scrollDelayEvents ? w.jd() : w.hd = setTimeout(function () { w.jd() }, w.scrollDelayEvents)), "Fixed" === E.ed() && (clearTimeout(w.kd), 0 === w.scrollDelayCells ? w.ld() : w.kd = setTimeout(function () { w.ld() }, w.scrollDelayCells)) }, this.Fb = function () { if (this.scrollLabelsVisible && this.md) { if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) { var e = this.Kb, t = this.showHours ? this.hourWidth : 0, n = (this.nav.scroll.clientWidth - t) / e.length; "Fixed" === E.ed() && (n = w.columnWidth); for (var i = 1, a = 0; a < this.nav.scrollUp.length; a++) { var r = this.nav.scrollUp[a], o = this.nav.scrollDown[a], s = Math.floor(t + a * n + n / 2 - 5 + i); s < 0 && (s = 0), s -= w.nav.bottomRight.scrollLeft, r && r.style && (r.style.left = s + "px"), o && o.style && (o.style.left = s + "px") } for (var l = this.Wc(), a = 0; a < this.nav.scrollUp.length; a++) { var d = this.nav.scrollUp[a], c = this.nav.scrollDown[a], u = this.md[a].minEnd - l, h = this.md[a].maxStart - l; d && c && (u <= w.scrollPos && parseInt(d.style.left) >= w.hourWidth ? (d.style.top = this.Sb() + "px", d.style.display = "") : d.style.display = "none", h >= w.scrollPos + w.gd && parseInt(c.style.left) >= w.hourWidth ? (c.style.top = this.Sb() + this.gd - 10 + "px", c.style.display = "") : c.style.display = "none") } } } }, this.nd = function (e) { var t = e.parentNode, n = 0, i = e.offsetTop, a = e.parentNode.offsetWidth, r = e.offsetHeight; e.event.allday() && (n = e.offsetLeft, a = e.offsetWidth); var o = document.createElement("textarea"); o.style.boxSizing = "border-box", o.style.position = "absolute", o.style.width = a + "px", o.style.height = r + "px"; var s = DayPilot.gs(e, "fontFamily"); s || (s = DayPilot.gs(e, "font-family")), o.style.fontFamily = s; var l = DayPilot.gs(e, "fontSize"); return l || (l = DayPilot.gs(e, "font-size")), o.style.fontSize = l, o.style.left = n + "px", o.style.top = i + "px", o.style.border = "1px solid black", o.style.padding = "0px", o.style.marginTop = "0px", o.style.backgroundColor = "white", o.value = (e.event.text() || "").trim(), o.event = e.event, t.appendChild(o), o }, this.Zb = function (e, t, n, i) { w.Jc(e, t, n, i) }, this.zoom = {}, this.zoom.active = -1, this.zoom.setActive = function (e) { var t; if ("number" == typeof e) t = w.zoomLevels[e]; else { if ("string" != typeof e) throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e); var n = w.zoom.od(e); t = w.zoomLevels[n] } if (!t) throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")"); if (e !== w.zoom.active) { var i = w.zoom.pd(); w.zoom.qd(e), w.Aa && w.update(), i && w.scrollToHour(i) } }, this.zoom.od = function (e) { return f(w.zoomLevels).findIndex(function (t) { return t.id === e }) }, this.zoom.pd = function () { var e = w.rd(); if (!e) return null; var t = e.pixels.top; return w.sd(t) }, this.zoom.qd = function (e) { var t = w.zoomLevels.length - 1; e > t && (e = t), e < 0 && (e = 0), w.zoom.active = e; var n = w.zoomLevels[e], i = {}; return i.level = n, DayPilot.Util.ownPropsAsArray(n.properties).forEach(function (e) { if (0 !== e.key.indexOf("on")) return "function" == typeof e.val ? void (w[e.key] = e.val(i)) : void (w[e.key] = e.val) }), i }, this.multiselect = {}, this.multiselect.mb = [], this.multiselect.Kc = [], this.multiselect.td = [], this.multiselect.ud = [], this.multiselect.vd = function () { var e = w.multiselect; return JSON.stringify(e.events()) }, this.multiselect.events = function () { var e = w.multiselect, t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.Kc.length; n++)t.push(e.Kc[n]); return t }, this.multiselect.xd = function () { w.nav.select.value = w.multiselect.vd() }, this.multiselect.Nc = function (e, t) { var n = w.multiselect; if (n.isSelected(e.event)) if (w.allowMultiSelect) if (t) n.remove(e.event, !0); else { var i = n.Kc.length; n.clear(!0), i > 1 && n.add(e.event, !0) } else n.clear(!0); else w.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0)); n.redraw(), n.xd() }, this.multiselect.yd = function (e) { var t = w.multiselect; return t.zd(e, t.mb) }, this.multiselect.Ad = function () { for (var e = w.multiselect, t = [], n = 0; n < e.Kc.length; n++) { var i = e.Kc[n]; t.push(i.value()) } alert(t.join("\n")) }, this.multiselect.add = function (e, t) { var n = w.multiselect; n.Bd(e) === -1 && n.Kc.push(e), n.xd(), t || n.redraw() }, this.multiselect.remove = function (e, t) { var n = w.multiselect, i = n.Bd(e); i !== -1 && n.Kc.splice(i, 1), n.xd(), t || n.redraw() }, this.multiselect.clear = function (e) { var t = w.multiselect; t.Kc = [], t.xd(), e || t.redraw() }, this.multiselect.redraw = function () { for (var e = w.multiselect, t = 0; t < w.elements.events.length; t++) { var n = w.elements.events[t]; e.isSelected(n.event) ? e.Cd(n) : e.Dd(n) } }, this.multiselect.Cd = function (e) { var t = w.multiselect, n = w.da("_selected"); r(t.Ed(e), n), t.td.push(e) }, this.multiselect.Ed = function (e) { return e }, this.multiselect.Fd = function () { for (var e = w.multiselect, t = 0; t < e.td.length; t++) { var n = e.td[t]; e.Dd(n, !0) } e.td = [] }, this.multiselect.Dd = function (e, t) { var n = w.multiselect, i = w.da("_selected"); if (o(n.Ed(e), i), !t) { var a = DayPilot.indexOf(n.td, e); a !== -1 && n.td.splice(a, 1) } }, this.multiselect.isSelected = function (e) { return w.multiselect.zd(e, w.multiselect.Kc) }, this.multiselect.Bd = function (e) { for (var t = e.data, n = 0; n < w.multiselect.Kc.length; n++) { var i = w.multiselect.Kc[n]; if (w.Gd(i.data, t)) return n } return -1 }, this.multiselect.zd = function (e, t) { if (!t) return !1; for (var n = 0; n < t.length; n++) { var i = t[n]; if (w.Gd(e, i)) return !0 } return !1 }, this.Yb = function (e) { if (m.editing) return void m.editing.blur(); var t = this.nd(e); m.editing = t, a(t, DayPilot.touch.start, function (e) { e.stopPropagation() }), t.onblur = function () { if (e.event) { var n = e.event.text(), i = t.value; m.editing = null, t.onblur = null, p(t), n !== i && (e.style.display = "none", w.Ic(e.event, i)) } }, t.onkeypress = function (e) { if (13 === (window.event ? event.keyCode : e.keyCode)) return this.onblur(), e.preventDefault(), !1 }, t.onkeyup = function (e) { return 27 === (window.event ? event.keyCode : e.keyCode) && (t.onblur = null, t.parentNode && t.parentNode.removeChild(t), m.editing = !1), !0 }, t.select(), t.focus() }, this.Hd = function () { return "Resources" !== w.viewType && (!w.nb() || !w.ka()) }, this.nb = function () { return DayPilot.isArray(w.columns) ? w.columns : w.columns.list }, this.columns = {}, this.columns.list = [], this.columns.filter = function (e) { w.Id.params = e, w.Aa && w.Jd() }, this.columns.find = function (e, t) { var n = "Resources" === w.viewType; e = new DayPilot.Date(e); var i = w.Kb.find(function (i) { var a = !n || i.id === t, r = "Resources" === w.viewType ? w.days : 1, o = i.start.addDays(r); return !!(a && i.start <= e && e < o) }); return i ? w.bc(i, w) : null }, this.columns.load = function (e, t, n) { if (!e) throw new DayPilot.Exception("columns.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, a = function (e) { var n, a = e.request; try { n = JSON.parse(a.responseText) } catch (e) { var r = {}; return r.exception = e, void i(r) } if (DayPilot.isArray(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; w.columns.list = n, w.Aa && w.update() } }; w.columnsLoadMethod && "POST" === w.columnsLoadMethod.toUpperCase() ? DayPilot.ajax({ "method": "POST", "url": e, "success": a, "error": i }) : DayPilot.ajax({ "method": "GET", "url": e, "success": a, "error": i }) }, this.ob = function () { var e = w.Hd(); if (w.Kd = 0, e) { var t = this.Ld(); this.Kb = this.Md(t) } else this.hb = this.Md(this.nb() || []), this.Kb = this.Nd(E.Od(), !0) }, this.Pd = function () { return w.Kb.find(function (e) { return "number" == typeof e.width }) }, this.Qd = function () { var e = this.startDate.getDatePart(), t = this.days; switch (this.viewType) { case "Day": t = 1; break; case "Week": t = 7, e = e.firstDayOfWeek(E.Rd()); break; case "WorkWeek": for (t = 5, e = e.firstDayOfWeek(E.Rd()); 1 !== e.dayOfWeek();)e = e.addDays(1) }var n = e.addDays(t), i = {}; return i.start = e, i.end = n, i.days = t, i }, this.Ld = function () { for (var e = [], t = this.Qd(), n = t.start, i = t.days, a = 0; a < i; a++) { var r = {}; r.start = n.addDays(a); var o = E.Tc().datePattern; w.headerDateFormat && (o = w.headerDateFormat), r.name = r.start.toString(o, E.Tc()), r.html = r.name, e.push(r) } return e }, this.Id = {}, this.Kd = 0, this.Sd = function () { if (!w.Hd()) { "function" == typeof w.onColumnFilter && (w.qb(null, { "preLoadOnly": !0 }), this.Td(w.Kb), this.Kb = this.Nd(E.Od(), !0)); w.Pd() && w.Ud() } }, this.Td = function (e) { e && e.forEach(function (e) { w.Vd(e) }) }, this.Vd = function (e) { var t = e.data, n = !t.children || 0 === t.children.length; if ("function" == typeof w.onColumnFilter && w.Id.params) if (n) { var i = e.parent, a = {}; a.visible = !0, a.column = w.bc(e, w), a.filter = w.Id.params, a.filterParam = a.filter, w.onColumnFilter(a), a.visible ? i && i.Wd() : e.hidden = !0 } else e.hidden = !0; w.Td(e.children) }, this.Xd = function (e, t) { var n = {}; n.id = e.id, n.start = new DayPilot.Date(e.start || w.startDate).getDatePart(), n.name = e.name, n.html = e.html || e.name, n.toolTip = e.toolTip, n.backColor = e.backColor, n.areas = e.areas, n.level = t ? t.level + 1 : 0, n.parent = t, n.data = e, n.width = e.width; !e.children || 0 === e.children.length; return w.Kd = Math.max(w.Kd, n.level), n.Wd = function () { n.hidden = !1, n.parent && n.parent.Wd() }, n.Yd = function (e, t) { var n = []; if (e <= 1) return this.hidden || n.push(this), n; if (!this.children || 0 === this.children.length) return t ? this.hidden || n.push(this) : n.push("empty"), n; for (var i = 0; i < this.children.length; i++)for (var a = this.children[i], r = a.Yd(e - 1, t), o = 0; o < r.length; o++)n.push(r[o]); return n }, n.Zd = function (e) { var t = 0; if (!this.children || this.children.length <= 0 || e <= 1) { return !this.hidden ? 1 : 0 } for (var n = 0; n < this.children.length; n++)t += this.children[n].Zd(e - 1); return t }, n.$d = function (e) { for (var t = 0; t < this.blocks.length; t++) { var n = this.blocks[t]; if (n._d(e.part.top, e.part.height)) return n.events.push(e), n.min = Math.min(n.min, e.part.top), n.max = Math.max(n.max, e.part.top + e.part.height), t } var n = []; return n.lines = [], n.events = [], n._d = function (e, t) { return !(e + t - 1 < this.min || e > this.max - 1) }, n.ae = function (e) { for (var t = 0; t < this.lines.length; t++) { var n = this.lines[t]; if (n.be(e.part.top, e.part.height)) return n.push(e), t } var n = []; return n.be = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) { var r = this[a]; if (!(n < r.part.top || e > r.part.top + r.part.height - 1)) return !1 } return !0 }, n.push(e), this.lines.push(n), this.lines.length - 1 }, n.events.push(e), n.min = e.part.top, n.max = e.part.top + e.part.height, this.blocks.push(n), this.blocks.length - 1 }, n.ae = function (e) { for (var t = 0; t < this.lines.length; t++) { var n = this.lines[t]; if (n.be(e.part.top, e.part.height)) return n.push(e), t } var n = []; return n.be = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) { var r = this[a]; if (!(n < r.part.top || e > r.part.top + r.part.height - 1)) return !1 } return !0 }, n.push(e), this.lines.push(n), this.lines.length - 1 }, n.Rb = function () { return n.start.addHours(w.Rb(!0)) }, n.ce = function () { var e = w.Nb(!0); return n.Rb().addTime(e) }, e.children && (n.children = this.Md(e.children, n)), n }, this.Md = function (e, t) { var n = f(); return f(e).forEach(function (e) { var i = w.Xd(e, t); n.push(i) }), n }, this.Nd = function (e, t) { for (var n = this.Hd() ? this.Kb : this.hb, i = f(), a = 0; a < n.length; a++)for (var r = n[a].Yd(e, t), o = 0; o < r.length; o++)i.push(r[o]); return i }, this.selectTimeRange = function (e, t, n, i) { if (e && t) { e = new DayPilot.Date(e), t = new DayPilot.Date(t); var a = w.ee(e, n, !0), r = w.ee(t, n); if (a && r && a.data.x === r.data.x) { var o = {}; o.start = {}, o.start.columnIndex = a.data.x, o.start.column = w.Kb[a.data.x], o.start.time = e, o.end = {}, o.end.time = t, w.Ea = o, w.fe(o), w.Rc(o), i || setTimeout(function () { w.Fc(e, t, n, "api") }, 0) } } }, w.ee = function (e, t, n) { var i = w.Kb, a = w.nav.main, r = "Resources" === w.viewType, o = i.find(function (n) { var i = !r || n.id === t, a = n.Rb() <= e && e < n.ce(); return i && a }); if (o) { var s = i.indexOf(o), l = function () { for (var t = 0; t < w.Vb(); t++) { var i = a.rows[t].cells[s]; if (i) { var r = i.data, o = r.start <= e && e <= r.end; if (n && (o = r.start <= e && e < r.end), o) return i } } return null }(); return l ? l : void 0 } }, this.ge = {}; var x = this.ge; x.ie = function (e) { var i = e.div.firstChild, a = t(), r = a.style; r.position = "absolute", r.left = "2px", r.top = "2px", r.bottom = "2px", r.width = "15px", r.opacity = "0.5", r.cursor = "move", r.display = "none", a.className = w.da("_colmove_handle"), n(i, "mouseenter", function (e) { x.t || k.t || (r.display = "") }), n(i, "mouseleave", function (e) { r.display = "none" }), a.onmousedown = function (t) { x.je(t, e) }, i.$ || (i.$ = {}), i.$.ke = function () { r.display = "none" }, i.$.le = function () { r.display = "" }, i.appendChild(a) }, x.je = function (e, t) { var n = w.nav.header, i = {}; i.me = t, i.ne = n.style.cursor; var a = t.div; x.t = i, v.colMoving = x, a.$ && a.$.oe && a.$.oe(), r(a, w.da("_colmove_source")), n.style.cursor = "move" }, x.pe = function (e) { var t = [], n = e.parent; return n && (t.push(n.data), t = t.concat(x.pe(n))), t }, x.qe = function () { function e() { o(x.t.me.div, w.da("_colmove_source")), t && (t.style.cursor = n.ne), a && a.remove(), x.t = null } if (!x.t.target) return void e(); var t = w.nav.header, n = x.t, i = n.position, a = n.div, r = x.t.me.column, s = r.data, l = r.parent, d = n.target, c = d.data, u = d.parent, h = u ? u.data.children : w.nb(), f = l ? l.data.children : w.nb(); if (x.pe(d).includes(s)) return void e(); if (c === s) return void e(); if ("forbidden" === i) return void e(); var v = {}; if (v.source = w.bc(r), v.target = w.bc(d), v.position = i, v.preventDefault = function () { v.preventDefault.value = !0 }, "function" == typeof w.onColumnMove && (w.onColumnMove(v), v.preventDefault.value)) return void e(); if (E.se("Update")) { DayPilot.rfa(f, s); var p = h.indexOf(c); if ("child" === i) { var m = c.children || []; m.push(s), c.children = m } else "before" === i ? h.splice(p, 0, s) : "after" === i && h.splice(p + 1, 0, s); w.Jd() } "function" == typeof w.onColumnMoved && w.onColumnMoved(v), e() }, x.ec = function (e, n) {
                var i, a = 12, r = 12, o = n.data, s = w.columnMoveSameLevelOnly, l = x.t.div, d = x.t.me.column; l ? i = l.style : (l = t(), i = l.style, i.position = "absolute", i.width = "12px", i.height = "12px", i.top = "0px", x.t.div = l); var c = n.getBoundingClientRect(), u = c.width, h = c.height, f = DayPilot.mo3(n, e), v = o.children || [], p = v.length, m = 0 === p ? .25 : .5, g = null, y = x.pe(n.data);
                l.className = ""; var b = !1; d === o && (b = !0), s && (m = .5), y.includes(d.data) ? g = "forbidden" : b ? g = "forbidden" : f.x < u * m ? g = "before" : f.x > u * (1 - m) ? g = "after" : 0 == p && (g = "child"), s && d.level !== o.level && (g = "forbidden"); var k = {}; k.position = g, k.source = w.bc(d), k.target = w.bc(n.data), "function" == typeof w.onColumnMoving && w.onColumnMoving(k), g = k.position, "forbidden" === g ? (i.left = .5 * u - 6 + "px", i.top = h / 2 - 2 + "px", l.className = w.da("_colmove_position_forbidden")) : "before" === g ? (i.left = "0px", i.top = .5 * h - 6 + "px", l.className = w.da("_colmove_position_before")) : "after" === g ? (i.left = u - a - 1 + "px", i.top = .5 * h - 6 + "px", l.className = w.da("_colmove_position_after")) : "child" === g && (i.left = .5 * u - 6 + "px", i.top = h - r - 1 + "px", l.className = w.da("_colmove_position_child")), l.parentNode !== n && (l.remove(), n.appendChild(l)), x.t.target = o, x.t.position = g
            }, this.te = {}; var k = this.te; k.ve = function (e) { var i = e.div.firstChild, a = t(), r = a.style; r.position = "absolute", r.right = "0px", r.top = "0px", r.bottom = "0px", r.width = "4px", r.cursor = "e-resize", r.display = "none", a.className = w.da("_colheader_splitter"), n(i, "mouseenter", function (e) { x.t || k.t || (r.display = "") }), n(i, "mouseleave", function (e) { k.t || (r.display = "none") }), a.onmousedown = function (t) { k.we(t, e) }, i.$ || (i.$ = {}), i.$.oe = function () { r.display = "none" }, i.appendChild(a) }, k.we = function (e, t) { var n = DayPilot.mo3(w.nav.header, e), i = t.column, a = t.div.firstChild, r = {}; if (r.xe = n.x, r.me = t, r.ye = t.x, r.ze = t.column, a.$ && a.$.ke && a.$.ke(), t.y !== E.Od() - 1) { var o = i.Yd(E.Od() - t.y, !0), s = o[o.length - 1]; s && (r.ye = w.Kb.indexOf(s)) } k.t = r, v.colResizing = k }, k.bd = function (e, t) { function n() { for (var e = 0, t = h + 1; t < a.length; t++)e += a[t].width || C; return e } function i() { for (var e = n(), t = 0, i = h + 1; i < a.length; i++) { var r = a[i], o = r.width || C, s = o / e; r.width = o - g * s, r.width < 1 && (t += 1 - r.width, r.width = 1) } b -= t, y += t, f = y * p } var a = w.Kb, r = DayPilot.mo3(w.nav.header, t), o = k.t.ze, s = r.x - k.t.xe, l = k.t.me.y, d = l !== E.Od() - 1, c = "Fixed" === E.ed(), u = w.columnWidthMin, h = k.t.ye, f = 0, v = w.nav.main.clientWidth, p = v / 100, m = u / p, g = s / p, y = 0, b = 0; if (d) { var x = o.Yd(E.Od() - l, !0), C = c ? w.columnWidth : 100 / a.length, _ = x.reduce(function (e, t) { return e + (t.width || C) }, 0), S = c ? _ + s : _ + g, T = S / _, D = 0; if (x.forEach(function (e, t) { var n = t === x.length - 1, i = e.width || C, a = i * T, r = Math.round(a); c && (D += a - r, a = r), a < u && (f += a - u, a = u), e.width = a, n && (e.width += D) }), !c) { i(); var A = b, H = x.reduce(function (e, t) { return e + t.width || C }, 0); x.forEach(function (e) { var t = e.width || C, n = t / H; e.width = t + A * n }) } } else { var M = w.Ae()[h].width, o = a[h]; c ? (b = M + s, b < u && (f = b - u, b = u)) : (b = o.width + g, b < m && (y = b - m, g = m - o.width, b = m), b = Math.max(b, 1), i()), o.width = b } k.t.xe = r.x - f, w.Ud(), w.Ga(), k.Be() }, k.Ce = function () { var e = w.Kb, t = k.t.me.div.firstChild, n = k.t.ze; t.$ && t.$.le && t.$.le(), k.t = null; var i = {}; return i.column = w.bc(n), i.newWidth = n.width, i.preventDefault = function () { i.preventDefault.value = !0 }, "function" == typeof w.onColumnResize && w.onColumnResize(i), i.preventDefault.value ? void w.update() : (E.De("Update") && e.forEach(function (e) { e.data.width = e.width }), void ("function" == typeof w.onColumnResized && w.onColumnResized(i))) }, k.Be = function () { var e = w.Ae(), t = "Fixed" === E.ed(), n = w.nav.header, i = w.nav.main, a = w.nav.events, r = w.nav.unifiedCornerRight; n.rows.forEach(function (e, t) { if (t !== E.Od() - 1) { var n = w.Ee(t); e.cells.forEach(function (e, t) { var i = n[t]; e.style.left = i.left + i.unit, e.style.width = i.width + i.unit }) } }); for (var o = E.Od() - 1, s = 0; s < w.Kb.length; s++) { var l = e[s], d = n.rows[o].cells[s]; d.style.left = l.left + l.unit, d.style.width = l.width + l.unit, t && (d.firstChild.style.width = l.width + l.unit) } if (i.rows.forEach(function (n) { n.cells.forEach(function (n, i) { var a = e[i].width + e[i].unit, r = e[i].left + e[i].unit; n.style.width !== a && (n.style.width = a, t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r) }) }), a.rows[0].cells.forEach(function (n, i) { var a = e[i].width + e[i].unit, r = e[i].left + e[i].unit; n.style.width !== a && (n.style.width = a, t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r) }), t) { var c = e[e.length - 1], u = c.left + c.width; r.style.left = u + "px", i.style.width = u + "px" } }, this.Ud = function () { if ("Fixed" !== E.ed()) { var e = w.Kb, t = 100 / e.length, n = e.reduce(function (e, n) { return e + (n.width || t) }, 0), i = n / 100; e.forEach(function (n, a) { var r = (e.length - 1, n.width || t); n.width = r / i }) } }, this.Db = function () { if (this.showAllDayEvents) { var e = this.nav.header; if (e) { e.style.display = "none"; for (var n = this.Kb.length, i = 0; i < this.Fe.lines.length; i++)for (var s = this.Fe.lines[i], l = 0; l < s.length; l++) { var h = s[l], f = h.cache || h.data, v = t(); v.style.position = "absolute", w.rtl ? v.style.right = 100 * h.part.colStart / n + "%" : v.style.left = 100 * h.part.colStart / n + "%", v.style.width = 100 * h.part.colWidth / n + "%", v.style.height = E.Ge() + "px", v.style.top = w.He() + i * E.Ge() + "px"; var p = t(); p.event = h, p.setAttribute("unselectable", "on"), p.style.position = "absolute", p.style.inset = "2px", p.className = this.da("_alldayevent"), w.allDayEventTextWrappingEnabled || (p.style.whiteSpace = "nowrap"), f.cssClass && r(p, f.cssClass), p.style.textAlign = "left", p.style.lineHeight = "1.2", h.client.clickEnabled() && (p.onclick = this.Wb), h.client.doubleClickEnabled() && (p.ondblclick = this.$b), h.client.clickEnabled() || h.client.doubleClickEnabled() ? p.style.cursor = "pointer" : p.style.cursor = "default", a(p, "contextmenu", this._b), p.onmousemove = function (e) { var t = this, n = t.event, i = n.cache || n.data; if (!t.active) { var a = []; n.client.deleteEnabled() && a.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 3, "right": 3, "css": w.da("_event_delete"), "js": function (e) { w.gc(e) } }); var o = i.areas; o && o.length > 0 && (a = a.concat(o)), DayPilot.Areas.showAreas(t, n, null, a), r(t, w.da("_alldayevent_hover")) } "undefined" != typeof DayPilot.Bubble && w.bubble && "Disabled" !== w.eventHoverHandling && w.bubble.showEvent(this.event) }, p.onmouseout = function (e) { o(this, w.da("_alldayevent_hover")), DayPilot.Areas.hideAreas(this, e), w.bubble && w.bubble.hideOnMouseOut() }, this.showToolTip && !this.bubble && p.setAttribute("title", h.client.toolTip()); var m = h.start().getTime() === h.part.start.getTime(), g = h.end().getTime() === h.part.end.getTime(), y = f.backColor, b = t(); if (b.setAttribute("unselectable", "on"), b.className = this.da("_alldayevent_inner"), y && (b.style.background = y), f.fontColor && (b.style.color = f.fontColor), "darker" === f.borderColor && f.backColor ? b.style.borderColor = DayPilot.ColorUtil.darker(f.backColor, 2) : b.style.borderColor = f.borderColor, w.rtl ? (m || r(p, this.da("_alldayevent_continueright")), g || r(p, this.da("_alldayevent_continueleft"))) : (m || r(p, this.da("_alldayevent_continueleft")), g || r(p, this.da("_alldayevent_continueright"))), p.appendChild(b), DayPilot.isArray(f.areas) && f.areas.filter(function (e) { return DayPilot.Areas.isVisible(e) }).forEach(function (e) { var t = DayPilot.Areas.createArea(p, h, e); p.appendChild(t) }), function () { var e = {}; if (e.control = w, e.e = h, e.element = null, p.domArgs = e, "function" == typeof w.onBeforeEventDomAdd && w.onBeforeEventDomAdd(e), e.element) { var t = b; if (t) { e.Ie = t; var n = d(e.element), i = c(e.element), a = u(e.element); if (n) w.X.Je(), w.X.W(e.element, t); else if (i) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z._(e.element, t, e.props), w.Z.Le = !1 } else if (a) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z.Me(e.element, t), w.Z.Le = !1 } else t.appendChild(e.element) } } else b.innerHTML = h.client.innerHTML() }(), w.Hb()) { if ("function" == typeof w.onAfterEventRender) { var x = {}; x.e = p.event, x.div = p, w.onAfterEventRender(x) } } else w.afterEventRender && w.afterEventRender(p.event, p); v.appendChild(p), this.nav.allday.appendChild(v), this.elements.events.push(p) } e.style.display = "" } } }, this.Va = function (e) { if (w.multiselect.Fd(), this.elements.events) for (var t = 0; t < this.elements.events.length; t++) { var n = this.elements.events[t], i = n.event; i && e && !i.allday() || w.Ne(n) } this.elements.events = [] }, this.Ne = function (e) { var t = e.event, n = e.domArgs; if (e.domArgs = null, n && "function" == typeof w.onBeforeEventDomRemove && w.onBeforeEventDomRemove(n), n && "function" == typeof w.onBeforeEventDomAdd) { var i = n && n.Ie; if (i) { var a = w.X.reactDOM && d(n.element), r = w.Z.Ke && (c(n.element) || u(n.element)); a ? w.X.la(i) : r && (w.Z.Le = !0, w.Z.ma(i), w.Z.Le = !1) } } if (t && (t.div = null, t.root = null, t.rendered = !1), e.onclick = null, e.onclickSave = null, e.ondblclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, e.firstChild && e.firstChild.firstChild && e.firstChild.firstChild.tagName && "IMG" === e.firstChild.firstChild.tagName.toUpperCase()) { var o = e.firstChild.firstChild; o.onmousedown = null, o.onmousemove = null, o.onclick = null } e !== v.moving && (e.helper = null, e.event = null), p(e) }, this.Oe = function (e) { if (e.isAllDay()) return !0; var t = w.Pe(e.part.dayIndex), n = this.rd(), i = n.pixels.left, a = n.pixels.right, r = n.pixels.top, o = n.pixels.bottom, s = e.part.width / 100 * t.width, l = t.width * e.part.left / 100 + t.left, d = l + s, c = e.part.top - this.Wc(), u = c + e.part.height, h = a <= l || i >= d, f = o <= c || r >= u; return !h && !f }, this.rd = function () { if (w.wa.xa) return w.wa.xa; var e = w.fd(); if (!e) return null; var t = {}, n = w.rtl ? -e.scrollLeft : e.scrollLeft, i = e.scrollTop, a = {}; a.left = n, a.right = n + e.clientWidth, a.top = i, a.bottom = i + e.clientHeight, a.width = e.scrollWidth; var r = w.dynamicEventRenderingMarginX; r && (a.left -= r, a.right += r, a.left < 0 && (a.left = 0), a.right > a.width && (a.right = a.width)); var o = w.dynamicEventRenderingMarginY; if (o) { a.top -= o, a.bottom += o; var s = w.Qe(); a.top < 0 && (a.top = 0), a.bottom > s && (a.bottom = s) } for (var l = w.Ae(), d = null, c = null, u = 0; u < l.length; u++) { var h = l[u], f = h.left + h.width; if (null === d && f > a.left && (d = u), null !== d && null === c && (f >= a.right || u === l.length - 1)) { c = u; break } } var v = Math.floor(a.top / w.cellHeight); v = DayPilot.Util.atLeast(0, v); var p = Math.ceil(a.bottom / w.cellHeight); return p = DayPilot.Util.atMost(w.Vb() - 1, p), t.xStart = d, t.xEnd = c, t.yStart = v, t.yEnd = p, t.pixels = a, w.wa.xa = t, t }, this.Pe = function (e) { return w.wa.ya || (w.wa.ya = w.Ae()), w.wa.ya[e] }, this.Re = function (e) { var o = this.nav.events, s = e.cache || e.data; if (!e.rendered) { var l = s.borderRadius || w.eventBorderRadius; "number" == typeof l && (l += "px"); var h = w.multiselect.yd(e), f = w.Oe(e), v = "Progressive" === w.dynamicEventRendering && "Fixed" === E.ed(); if (h || !v || f) { var p = t(); p.setAttribute("unselectable", "on"), p.style.MozUserSelect = "none", p.style.KhtmlUserSelect = "none", p.style.WebkitUserSelect = "none", p.style.position = "absolute", p.className = this.da("_event"), p.style.left = e.part.left + "%", p.style.top = e.part.top - this.Wc() + "px", p.style.width = e.part.width + "%", p.style.height = Math.max(e.part.height, 2) + "px", p.style.overflow = "hidden", p.isFirst = e.part.start.getTime() === e.start().getTime(), p.isLast = e.part.end.getTime() === e.end().getTime(), e.client.clickEnabled() && (p.onclick = this.Wb), e.client.doubleClickEnabled() && (p.ondblclick = this.$b), a(p, "contextmenu", this._b), p.onmousemove = this.Se, p.onmouseout = this.Te, p.onmousedown = this.Ue, i(p, DayPilot.touch.start, this.Ve.onEventTouchStart), n(p, DayPilot.touch.move, this.Ve.onEventTouchMove), i(p, DayPilot.touch.end, this.Ve.onEventTouchEnd), s.cssClass && r(p, s.cssClass), this.showToolTip && !this.bubble && p.setAttribute("title", e.client.toolTip()); var m = t(); if (m.setAttribute("unselectable", "on"), m.className = w.da("_event_inner"), s.fontColor && (m.style.color = s.fontColor), s.backColor && (m.style.background = s.backColor), s.borderColor && ("darker" === s.borderColor && s.backColor ? m.style.borderColor = DayPilot.ColorUtil.darker(s.backColor, 2) : m.style.borderColor = s.borderColor), s.backgroundImage && (m.style.backgroundImage = "url(" + s.backgroundImage + ")", s.backgroundRepeat && (m.style.backgroundRepeat = s.backgroundRepeat)), l && (p.style.borderRadius = l, m.style.borderRadius = l), p.appendChild(m), e.client.barVisible()) { var g = e.part.height - 2, y = 100 * e.part.barTop / g, b = Math.ceil(100 * e.part.barHeight / g), x = t(); x.setAttribute("unselectable", "on"), x.className = this.da("_event_bar"), x.style.position = "absolute", s.barBackColor && (x.style.backgroundColor = s.barBackColor); var k = t(); k.setAttribute("unselectable", "on"), k.className = this.da("_event_bar_inner"), k.style.top = y + "%", 0 < b && b <= 1 ? k.style.height = "1px" : k.style.height = b + "%", s.barColor && (k.style.backgroundColor = s.barColor), x.appendChild(k), p.appendChild(x) } var C = s.areas ? DayPilot.Areas.copy(s.areas) : [], _ = w.Kb[e.part.dayIndex]; if (C.forEach(function (t) { t.start && (t.top = w.sc(new DayPilot.Date(t.start), _.start).top - e.part.top - w.Wc()), t.end && (t.bottom = e.part.top + e.part.height - w.sc(new DayPilot.Date(t.end), _.start).top - w.Wc()) }), e.client.deleteEnabled() && (w.rtl ? C.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 2, "left": 2, "css": w.da("_event_delete"), "js": function (e) { w.gc(e) } }) : C.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 2, "right": 2, "css": w.da("_event_delete"), "js": function (e) { w.gc(e) } })), DayPilot.Areas.attach(p, e, { "areas": C }), function () { var t = {}; if (t.control = w, t.e = e, t.element = null, p.domArgs = t, "function" == typeof w.onBeforeEventDomAdd && w.onBeforeEventDomAdd(t), t.element) { var n = m; if (n) { t.Ie = n; var i = d(t.element), a = c(t.element), r = u(t.element); if (i) w.X.Je(), w.X.W(t.element, n); else if (a) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z._(t.element, n, t.props), w.Z.Le = !1 } else if (r) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z.Me(t.element, n), w.Z.Le = !1 } else n.appendChild(t.element) } } else m.innerHTML = e.client.innerHTML() }(), o.rows[0].cells[e.part.dayIndex]) { if (o.rows[0].cells[e.part.dayIndex].events.appendChild(p), w.We(p), p.event = e, w.multiselect.yd(e) && w.multiselect.add(p.event, !0), e.rendered = !0, w.Hb()) { if ("function" == typeof w.onAfterEventRender) { var S = {}; S.e = p.event, S.div = p, w.onAfterEventRender(S) } } else w.afterEventRender && w.afterEventRender(p.event, p); w.elements.events.push(p) } } } }, this.We = function (e) { for (var t = e && e.childNodes ? e.childNodes.length : 0, n = 0; n < t; n++)try { var i = e.childNodes[n]; 1 === i.nodeType && (i.setAttribute("unselectable", "on"), this.We(i)) } catch (e) { } }, this.Cb = function () { for (var e = new Date, t = 0; t < this.Kb.length; t++) { var n = this.Kb[t]; if (n.blocks) for (var i = 0; i < n.blocks.length; i++)for (var a = n.blocks[i], r = 0; r < a.lines.length; r++)for (var o = a.lines[r], s = 0; s < o.length; s++) { var l = o[s]; if (l.part.width = 100 / a.lines.length, l.part.left = l.part.width * r, "Cascade" === this.eventArrangement) { var d = r === a.lines.length - 1; d || (l.part.width = 1.5 * l.part.width) } "Full" === this.eventArrangement && (l.part.left = l.part.left / 2, l.part.width = 100 - l.part.left), l.allday() || this.Re(l) } } this.multiselect.redraw(); var c = new Date; c.getTime() - e.getTime() }, this.jd = function () { w.elements.events.forEach(function (e) { e.event && !w.Oe(e.event) && w.Ne(e) }), w.wa.Xe.forEach(function (e) { w.Re(e) }), w.elements.events = w.elements.events.filter(function (e) { return !!e.event }) }, this.ld = function () { if (w.Kb && 0 !== w.Kb.length) { for (var e = w.rd(), t = e.xStart; t <= e.xEnd; t++)for (var n = e.yStart; n <= e.yEnd; n++)w.Ye(t, n); w.Ze() } }, w.Ze = function () { for (var e = w.rd(), t = this.Vb(), n = w.Kb.length, i = 0; i < n; i++) { var a = !0; e.xStart <= i && i <= e.xEnd && (a = !1); for (var r = 0; r < t; r++) { var o = !0; e.yStart <= r && r <= e.yEnd && (o = !1); var s = w.elements.cells[i + "_" + r]; s && (o || a) && (s.remove(), w.elements.cells[i + "_" + r] = null) } } }, this.$e = function () { this.multiselect.Kc = []; for (var e = 0; e < this.Kb.length; e++)for (var t = this.Kb[e], n = 0; n < t.lines.length; n++)for (var i = t.lines[n], a = 0; a < i.length; a++) { var r = i[a]; r.part.width = 100 / t.lines.length, r.part.left = r.Width * n, r.allday() || this.Re(r) } }, this.da = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : "" }, this._e = function () { switch (w.Ca) { case "aspnet": if (!this.Ra()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"); break; case "netmvc": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"); break; case "javaxx": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/") } }, this.E = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible") }, this.af = function () { var e = this.Sb() + this.bf(); return w.debug.message("Getting totalHeight, headerHeight: " + this.Sb() + " scrollable: " + this.bf()), e < 0 ? 0 : e }, this.$a = function () { w.db() }, this.cf = function () { var e = this.nav.top; e.dp = this, e.innerHTML = "", e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.WebkitUserSelect = "none", e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", e.style.WebkitTouchCallout = "none", e.style.position = "relative", this.width && (e.style.width = this.width), this.rtl && (e.style.direction = "rtl"), "Parent100Pct" === this.heightSpec ? e.style.height = "100%" : e.style.height = this.af() + "px", this.hideUntilInit && (e.style.visibility = "hidden"), this.visible || (e.style.display = "none"), e.addEventListener("mouseleave", w.$a); var n = t(); if (this.nav.scroll = n, n.style.height = this.bf() + "px", n.style.position = "relative", this.showHeader) { var i = this.df(); e.appendChild(i) } n.style.zoom = 1, n.style.position = "absolute", n.style.left = "0px", n.style.right = "0px", n.style.top = this.Sb() + "px", n.className = w.da("_scroll"); var a = this.ef(); this.nav.scrollable = a.firstChild, n.appendChild(a), e.appendChild(this.nav.scroll), this.nav.vsph = t(), this.nav.vsph.style.display = "none", this.nav.top.appendChild(this.nav.vsph), this.nav.scrollpos = document.createElement("input"), this.nav.scrollpos.type = "hidden", this.nav.scrollpos.id = w.id + "_scrollpos", this.nav.scrollpos.name = this.nav.scrollpos.id, e.appendChild(this.nav.scrollpos), this.nav.select = document.createElement("input"), this.nav.select.type = "hidden", this.nav.select.id = w.id + "_select", this.nav.select.name = this.nav.select.id, this.nav.select.value = null, e.appendChild(this.nav.select), this.nav.scrollLayer = t(), this.nav.scrollLayer.style.position = "absolute", this.nav.scrollLayer.style.top = "0px", this.nav.scrollLayer.style.left = "0px", e.appendChild(this.nav.scrollLayer), this.nav.scrollUp = [], this.nav.scrollDown = []; var r = t(); r.style.position = "absolute", r.style.top = "0px", r.style.left = this.hourWidth + 5 + "px", r.className = w.da("_loading"), r.innerHTML = w.Ha(this.loadingLabelText, this.loadingLabelHtml), r.style.display = "none", this.nav.loading = r, e.appendChild(r) }, this.gf = function () { for (var e = "Fixed" === E.ed(), t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], n = this.nav.events.rows[0], i = 0; i < w.Kb.length; i++) { var a = t && t.cells[i], r = n.cells[i], o = a && a.firstChild, s = w.Kb[i]; if (e) { var l = s.width ? s.width : w.columnWidth; o && (o.style.width = l + "px"), r && (r.style.width = l + "px") } else w.sa || (o && (o.style.width = null), r && (r.style.width = null)) } }, this.Tb = function () { return this.ra ? w.nav.bottomRight : w.nav.scroll }, this.Ab = function () { var e = "Fixed" === E.ed(); if (!e) { var t = w.Tb(); "Fixed" === this.heightSpec ? t.style.overflowY = "scroll" : "BusinessHours" === this.heightSpec && this.Mb() <= this.businessEndsHour - this.businessBeginsHour ? t.style.overflow = "hidden" : "Full" !== this.heightSpec && "BusinessHoursNoScroll" !== this.heightSpec ? t.style.overflow = "auto" : t.style.overflow = "hidden" } if (e) { var n = 0, i = w.hf(); i > w.fd().clientWidth && (n = DayPilot.sw(w.nav.bottomRight)), w.nav.headerParent && (w.nav.headerParent.style.width = i + n + "px"), w.nav.main.style.width = i + "px", w.nav.events.style.width = i + "px", w.nav.crosshair.style.width = i + "px" } else w.nav.headerParent && (w.nav.headerParent.style.width = "100%"), w.nav.main.style.width = "100%", w.nav.events.style.width = "100%", w.nav.crosshair.style.width = "100%"; this.gf() }, this.xb = function () { this.Wa(), this.nav.hoursPlaceholder && (this.nav.hoursPlaceholder.innerHTML = "", this.nav.hourTable = this.if(), this.nav.hoursPlaceholder.appendChild(this.nav.hourTable)) }, this.Wa = function () { if (this.nav.hourTable) { w.elements.timeHeaders.forEach(function (e) { var t = e.domArgs; if (e.domArgs = null, "function" == typeof w.onBeforeTimeHeaderDomRemove && w.onBeforeTimeHeaderDomRemove(t), "function" == typeof w.onBeforeTimeHeaderDomAdd) { var n = t && t.Ie; if (n) { var i = w.X.reactDOM && d(t.element), a = w.Z.Ke && (c(t.element) || u(t.element)); i ? w.X.la(n) : a && (w.Z.Le = !0, w.Z.ma(n), w.Z.Le = !1) } } }); for (var e = 0; e < this.nav.hourTable.rows.length; e++) { var t = this.nav.hourTable.rows[e], n = t.cells[0].firstChild; n.data = null, n.onmousemove = null, n.onmouseout = null } w.elements.timeHeaders = [] } }, this.ef = function () { var e = t(); e.style.zoom = 1, e.style.position = "relative", e.onmousemove = this.jf, e.oncontextmenu = this.kf, i(e, DayPilot.touch.start, this.Ve.lf), i(e, DayPilot.touch.move, this.Ve.mf), i(e, DayPilot.touch.end, this.Ve.nf), a(e, "contextmenu", function (e) { var e = e || window.event; e.preventDefault ? e.preventDefault() : e.returnValue = !1 }), navigator.msPointerEnabled && (e.style.msTouchAction = "none", e.style.touchAction = "none"), e.daypilotMainD = !0, e.calendar = this; var n = null, r = null; if (this.showHours) { var o = t(); o.style.cssFloat = "left", w.rtl && (o.style.cssFloat = "right"), o.style.width = this.hourWidth + "px", o.style.height = this.bf() + "px", o.style.overflow = "hidden", o.style.position = "relative", e.appendChild(o), n = o; var s = 30, l = w.Qe() + s; r = t(), r.style.height = l + "px", o.appendChild(r) } var d = t(); d.style.height = this.bf() + "px", this.showHours && (w.rtl ? d.style.marginRight = this.hourWidth + "px" : d.style.marginLeft = this.hourWidth + "px"), d.style.position = "relative", d.style.overflow = "auto", e.appendChild(d), r && (this.nav.hourTable = this.if(), r.appendChild(this.nav.hourTable)); var c = t(); c.style.height = "0px", c.style.position = "relative", c.appendChild(this.of()); var u = t(); return u.style.position = "absolute", u.style.top = "0px", u.style.left = "0px", u.style.width = "100%", u.style.height = "0px", c.appendChild(u), this.nav.crosshair = u, c.appendChild(this.pf()), d.appendChild(c), this.nav.grid = c, this.nav.zoom = e, this.nav.bottomLeft = n, this.nav.bottomRight = d, this.nav.hoursPlaceholder = r, e }, this.qf = function () { var e = w.nav.bottomLeft; e && (e.style.width = w.hourWidth + "px"); var t = w.nav.bottomRight; w.showHours && (w.rtl ? t.style.marginRight = w.hourWidth + "px" : t.style.marginLeft = w.hourWidth + "px"); var n = w.nav.loading; n && (n.style.left = w.hourWidth + 5 + "px"); var i = w.nav.upperLeft; i && (i.style.width = w.hourWidth + "px"); var a = w.nav.corner; a && (a.style.width = w.hourWidth + "px") }, this.of = function () { if (w.sa) { var e = t(); return w.nav.main = e, e } var n = document.createElement("table"); return n.cellPadding = "0", n.cellSpacing = "0", n.border = "0", "Fixed" === E.ed() || (n.style.width = "100%"), n.style.border = "0px none", n.style.margin = "0px", n.style.tableLayout = "fixed", this.nav.main = n, n }, this.rf = function () { return "Fixed" === E.ed() ? w.hf() + "px" : "100%" }, this.hf = function () { for (var e = 0, t = 0; t < w.Kb.length; t++) { var n = w.Kb[t]; e += n.width ? n.width : w.columnWidth } return e }, this.pf = function () { if (w.sa) { var e = t(); return e.style.userSelect = "none", e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", e.style.height = "0px", w.nav.events = e, e } var n = document.createElement("table"); n.style.position = "absolute", n.style.top = "0px", n.cellPadding = "0", n.cellSpacing = "0", n.border = "0", n.style.width = w.rf(), n.style.border = "0px none", n.style.margin = "0px", n.style.tableLayout = "fixed", this.nav.events = n; for (var i = this.Kb, a = i.length, r = n.insertRow(-1), o = 0; o < a; o++) { var s = r.insertCell(-1); s.style.padding = "0px", s.style.border = "0px none", s.style.height = "0px", s.style.overflow = "visible", w.rtl || (s.style.textAlign = "left"), w.sf(s) } return n }, this.if = function () { var e = t(); e.style.width = this.hourWidth + "px", e.style.position = "relative", e.oncontextmenu = function () { return !1 }, e.onmousemove = function () { w.eb() }, e.rows = []; for (var n = w.tf(), i = 0; i < n; i++)this.uf(e, i); return e }, this.tf = function () { return this.hours ? this.hours.length : this.Nb() / (60 * E.vf() * 1e3) }, this.wf = function () { var e = E.Lb(); return 60 * this.cellHeight / e / (60 / E.vf()) }, this.xf = function () { return (this.Rb() - this.Rb(!0)) * (60 / E.Lb()) }, this.yf = function () { return this.Rb() - this.Rb(!0) }, this.Wc = function () { return this.xf() * this.cellHeight }, this.uf = function (e, n) { var i = w.wf(), a = t(); a.style.position = "absolute", a.style.top = n * i + "px", a.style.height = i + "px", e.rows[n] = a; var r = t(); a.appendChild(r), a.cells = [r]; var o = t(); o.className = this.da("_rowheader"), o.style.position = "relative", o.style.width = this.hourWidth + "px", o.style.height = i + "px", o.style.overflow = "hidden", o.setAttribute("unselectable", "on"), 60 !== E.vf() && o.classList.add(this.da("_rowheader_simple")); var s = t(); s.className = this.da("_rowheader_inner"), s.setAttribute("unselectable", "on"); var l = w.zf(n), h = l.html, f = l.data; f && (o.data = f, o.onmousemove = w.Af, o.onmouseout = w.Bf, f.cssClass && DayPilot.Util.addClass(o, f.cssClass)); var v = null, p = {}; if (p.header = f, "function" == typeof w.onBeforeTimeHeaderDomAdd && (p.element = null, w.onBeforeTimeHeaderDomAdd(p), v = p.element), o.domArgs = p, v) { var m = s; p.Ie = m; var g = d(v), y = c(p.element), b = u(p.element); if (g) w.X.Je(), w.X.W(v, m); else if (y) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z._(p.element, m, p.props), w.Z.Le = !1 } else if (b) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z.Me(p.element, m), w.Z.Le = !1 } else m.appendChild(v) } else s.innerHTML = h; if (o.appendChild(s), f && f.areas) { var x = {}; x.time = f.time, x.date = f.date, DayPilot.Areas.attach(o, x, { "areas": f.areas }) } w.elements.timeHeaders.push(o), r.appendChild(o), e.appendChild(a) }, this.zf = function (e) { var n, i; if (this.hours) { var a = e + this.yf(); i = this.hours[a], i && (n = i.html) } var r, o = E.vf(), s = this.startDate.addMinutes(o * e + 60 * this.Rb()), l = s.getHours(), d = l < 12; if (r = "Clock12Hours" === this.Ja.Sc() ? d ? "AM" : "PM" : "00", !n) { var c = t(); c.setAttribute("unselectable", "on"), "Clock12Hours" === this.Ja.Sc() && (l %= 12, 0 === l && (l = 12)); var u = E.vf(); if (60 !== u && (u <= 120 ? l += ":" + s.toString("mm") : l = u < 1440 ? s.toString("ddd M/d h:mm tt") : s.toString("ddd M/d")), c.innerHTML = l, 60 === u) { var h = document.createElement("span"); h.setAttribute("unselectable", "on"), h.className = this.da("_rowheader_minutes"), h.innerHTML = r, c.appendChild(h) } n = c.outerHTML } var f = {}; f.header = {}, f.header.hours = s.getHours(), f.header.minutes = s.getMinutes(), f.header.start = s.toString("HH:mm"), f.header.text = null, f.header.html = n, f.header.areas = i ? i.areas : null, f.header.time = new DayPilot.Duration(s.getTimePart()), f.header.cssClass = null, f.header.date = null, "Resources" === w.viewType && (f.header.date = s), "function" == typeof w.onBeforeTimeHeaderRender && (w.onBeforeTimeHeaderRender(f), null !== f.header.html && (n = f.header.html)), i = f.header; var v = {}; return v.start = s, v.hour = l, v.html = n, v.data = i, v.sup = r, f.header.text && (v.text = f.header.text), v }, this.Af = function (e) { w.eb(); var t = this; t.active || DayPilot.Areas.showAreas(t, t.data) }, this.Bf = function (e) { DayPilot.Areas.hideAreas(this, e) }, this.bf = function () { switch (this.heightSpec) { case "Fixed": return this.height; case "Parent100Pct": return this.height; case "Full": return this.Qe(); case "BusinessHours": case "BusinessHoursNoScroll": if ("Resources" === w.viewType && w.days > 1 && !w.hours) return w.Qe(); return this.Ob() * this.cellHeight * 60 / E.Lb(); default: throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.") } }, this.Qe = function () { return w.Nb() * this.cellHeight / (6e4 * E.Lb()) }, this.Sb = function () { if (!this.showHeader) return 0; var e = w.He(); return this.showAllDayEvents && E.Cf() ? e + E.Cf() : e }, this.He = function () { var e = E.Od(); return E.Df(e) }, this.tb = function () { if (this.headerHeightAutoFit) { for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)for (var n = this.nav.header.rows[t], i = 0; i < n.cells.length; i++) { var a = n.cells[i], r = a.firstChild, o = r.firstChild, s = r.style.height; r.style.height = "auto", o.style.position = "static"; var l = r.offsetHeight; r.style.height = s, o.style.position = "", e = Math.max(e, l) } e > this.headerHeight && (this.wa.headerHeight = e, this.rb(), this.sb()) } }, this.Ef = function () { var e = this.ra ? w.nav.bottomRight : w.nav.scroll; return DayPilot.sw(e) > 0 }, this.df = function () { var e = t(), n = "Fixed" === E.ed(); n || (e.style.overflow = "auto"), e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px"; var i = t(); i.style.position = "relative", i.style.zoom = "1"; var a = null, n = "Fixed" === E.ed(); if (n || this.ra) { var r = t(); if (r.style.cssFloat = "left", w.rtl && (r.style.cssFloat = "right"), r.style.width = this.hourWidth + "px", this.showHours) { var o = this.Ff(); this.nav.corner = o, r.appendChild(o), i.appendChild(r), this.nav.upperLeft = r } var s = t(); this.showHours && (w.rtl ? s.style.marginRight = this.hourWidth + "px" : s.style.marginLeft = this.hourWidth + "px"), s.style.position = "relative", s.style.overflow = "hidden", s.style.height = this.Sb() + "px", s.className = w.da("_colheader_back"), s.onmousemove = function (e) { var t = this; "undefined" != typeof k && k.t && k.bd(t, e) }, i.appendChild(s), this.nav.upperRight = s; var l = t(); l.className = w.da("_colheader_back_inner"), s.appendChild(l), a = t(), a.style.position = "relative", s.appendChild(a) } else { var d = document.createElement("table"); d.cellPadding = "0", d.cellSpacing = "0", d.border = "0", d.style.margin = "0px", d.style.width = "100%", d.style.borderCollapse = "separate", d.style.border = "0px none"; var c = d.insertRow(-1); if (this.nav.fullHeader = d, this.showHours) { var u = c.insertCell(-1); u.style.padding = "0px", u.style.border = "0px none"; var o = this.Ff(); u.appendChild(o), this.nav.corner = o } u = c.insertCell(-1), u.style.width = "100%", u.valign = "top", u.style.position = "relative", u.style.padding = "0px", u.style.border = "0px none", a = t(), a.style.position = "relative", a.style.height = this.Sb() + "px", a.style.overflow = "hidden", u.appendChild(a), this.nav.mid = a, i.appendChild(d) } this.nav.headerParent = a, this.nav.headerParent.onmousemove = function (e) { e.insideMainD = !0 }, this.Gf(); var h = this.Ef(), n = "Fixed" === E.ed(); return h && !n && this.Hf(), e.appendChild(i), e }, this.Gf = function () { if (this.nav.unifiedCornerRight = null, w.sa) this.nav.header = t(), this.nav.header.style.position = "relative"; else { this.nav.header = document.createElement("table"), this.nav.header.style.margin = "0px", this.nav.header.cellPadding = "0", this.nav.header.cellSpacing = "0"; "Fixed" === E.ed() || (this.nav.header.width = "100%"), this.nav.header.style.tableLayout = "fixed", this.nav.header.oncontextmenu = function () { return !1 } } this.nav.header.setAttribute("dp-id", "header"), this.nav.headerParent.appendChild(this.nav.header), this.nav.header.onmousemove = function () { w.eb() }, this.nav.allday && p(this.nav.allday); var e = t(); e.style.position = "absolute", e.style.top = "0px", e.style.height = "0px", e.setAttribute("dp-id", "allday"), "Fixed" === E.ed() ? e.style.width = this.Kb.length * this.columnWidth + "px" : (e.style.left = "0px", e.style.right = "0px"), this.nav.allday = e, this.nav.headerParent.appendChild(e) }, this.Hf = function () { if (this.nav.fullHeader) { var e = this.nav.fullHeader.rows[0], n = e.insertCell(-1); n.style.padding = "0px", n.style.verticalAlign = "top", n.setAttribute("unselectable", "on"); var i = t(); i.setAttribute("unselectable", "on"), i.className = this.da("_cornerright"), i.style.overflow = "hidden", i.style.position = "relative", i.style.width = "16px", i.style.height = this.Sb() + "px"; var a = t(); a.className = this.da("_cornerright_inner"), i.appendChild(a), n.appendChild(i), this.nav.cornerRight = i } }, this.Ff = function () { var e = t(); e.style.position = "relative", e.className = this.da("_corner"), e.style.width = this.hourWidth + "px", e.style.height = this.Sb() + "px", e.style.overflow = "hidden", e.oncontextmenu = function () { return !1 }; var n = t(); n.className = this.da("_corner_inner"), n.setAttribute("unselectable", "on"), e.appendChild(n); var i = t(); return i.style.position = "absolute", i.style.padding = "2px", i.style.top = "0px", i.style.left = "1px", i.style.backgroundColor = "#FF6600", i.style.color = "white", i.innerHTML = "\u0044\u0045" + "\u004D\u004F", i.setAttribute("unselectable", "on"), DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i), e }, this.Za = function () { if (w.nav.corner && w.nav.corner.firstChild) { var e = w.nav.corner.firstChild, t = e.domArgs; if (e.domArgs = null, t && ("function" == typeof w.onBeforeCornerDomRemove && w.onBeforeCornerDomRemove(t), "function" == typeof w.onBeforeCornerDomAdd && e)) { var n = w.X.reactDOM && d(t.element), i = w.Z.Ke && (c(t.element) || u(t.element)); n ? w.X.la(e) : i && (w.Z.Le = !0, w.Z.ma(e), w.Z.Le = !1) } } }, this.Xa = function () { var e = this.nav.main; e.root = null, e.onmouseup = null; for (var t = 0; t < e.rows.length; t++) { var n = e.rows[t]; if (n) for (var i = 0; i < n.cells.length; i++) { var a = n.cells[i]; w.If(a) } } this.ta || DayPilot.pu(e) }, this.If = function (e) { e && (!function () { var t = e, n = t.domArgs; if (t.domArgs = null, n && "function" == typeof w.onBeforeCellDomRemove && w.onBeforeCellDomRemove(n), n && "function" == typeof w.onBeforeCellDomAdd) { var i = n && n.Ie; if (i) { var a = w.X.reactDOM && d(n.element), r = w.Z.Ke && (c(n.element) || u(n.element)); a ? w.X.la(i) : r && (w.Z.Le = !0, w.Z.ma(i), w.Z.Le = !1) } } }(), e.root = null, e.onmousedown = null, e.onmousemove = null, e.onmouseout = null, e.onmouseup = null, e.onclick = null, e.ondblclick = null, e.oncontextmenu = null) }, this.ub = function () { for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]); for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]); this.nav.scrollUp = [], this.nav.scrollDown = [] }, this.sf = function (e) {
                var n = t(); n.style.marginRight = w.columnMarginRight + "px", n.style.marginLeft = w.columnMarginLeft + "px", n.style.position = "relative", n.style.height = "1px",
                    n.style.marginTop = "-1px", e.events = n; var i = t(); i.style.position = "relative", i.style.height = "1px", i.style.marginTop = "-1px", e.separators = i; var a = t(); a.style.position = "relative", a.style.height = "1px", a.style.marginTop = "-1px", e.selection = a, e.appendChild(i), e.appendChild(a), e.appendChild(n)
            }, this.wb = function () { w.sa ? w.Jf() : w.Kf() }, this.Lf = function () { if (this.scrollLabelsVisible) { var e = this.Kb, n = this.showHours ? this.hourWidth : 0, i = (this.nav.scroll.clientWidth - n) / e.length; "Fixed" === E.ed() && (i = w.columnWidth); for (var a = 0; a < e.length; a++) { var r = t(); r.style.position = "absolute", r.style.top = "0px", r.style.left = n + 2 + a * i + i / 2 + "px", r.style.display = "none"; var o = t(); o.style.height = "10px", o.style.width = "10px", o.className = this.da("_scroll_up"), r.appendChild(o), this.nav.scrollLayer.appendChild(r), this.nav.scrollUp.push(r); var s = t(); s.style.position = "absolute", s.style.top = "0px", s.style.left = n + 2 + a * i + i / 2 + "px", s.style.display = "none"; var o = t(); o.style.height = "10px", o.style.width = "10px", o.className = this.da("_scroll_down"), s.appendChild(o), this.nav.scrollLayer.appendChild(s), this.nav.scrollDown.push(s) } } }, this.Mf = function () { var e = this.nav.events; e.innerHTML = "", e.rows = [{ "cells": [] }], w.Ae().forEach(function (n, i) { var a = t(); a.style.height = "1px", a.style.overflow = "visible", a.style.position = "absolute", a.style.left = n.left + n.unit, a.style.right = n.left + n.unit, a.style.width = n.width + n.unit, w.sf(a), e.appendChild(a), e.rows[0].cells.push(a) }) }, this.Ae = function () { function e(e) { return DayPilot.browser.edge ? Math.floor(100 * e) / 100 : e } var t = w.Pd(), n = w.Kb, i = "Fixed" === E.ed(), a = 0; return DayPilot.list.for(n.length, function (r) { var o = {}, s = 0, l = ""; return i ? (l = "px", s = n[r].width ? n[r].width : w.columnWidth) : (l = "%", s = t ? n[r].width : e(100 / n.length)), o.left = a, o.width = s, o.unit = l, a += s, o }) }, this.Jf = function () { var e = this.nav.main, t = this.nav.scrollable, n = this.Vb(), i = w.Kb; !function () { w.elements.cells = {}, e.innerHTML = "", e.rows = [] }(), t.daypilotMainD = !0, t.calendar = this, w.Lf(), w.Mf(); for (var a = 0; a < n; a++) { e.rows.push({ "cells": [] }); for (var r = 0; r < i.length; r++)w.Ye(r, a) } e.style.height = n * w.cellHeight + "px" }, w.Nf = function (e, t) { var n = {}, i = w.Pe(e), a = t * w.cellHeight; return n.left = i.left, n.width = i.width, n.right = n.left + n.width, n.top = a, n.height = w.cellHeight, n.bottom = n.top + n.height, n }, w.Ye = function (e, n) { var i = "Fixed" === E.ed(); if (!w.elements.cells[e + "_" + n]) { if (i) { var o = w.Nf(e, n), s = w.rd(), h = s.pixels.right <= o.left || s.pixels.left >= o.right, p = s.pixels.bottom <= o.top || s.pixels.top >= o.bottom; if (!(!h && !p)) return } var m = w.Pe(e), g = 60 * E.Lb() * 1e3, y = n * w.cellHeight, b = w.Kb[e], x = t(); x.style.position = "absolute", x.style.left = m.left + m.unit, x.style.right = m.left + m.unit, x.style.width = m.width + m.unit, x.style.top = y + "px", x.start = b.start.addTime(n * g).addHours(w.Rb()), x.end = x.start.addTime(g), x.resource = b.id, x.data = {}, x.data.x = e, x.data.y = n, x.data.start = x.start, x.data.end = x.end, x.data.resource = x.resource, x.data.calendar = w, w.cellProperties || (w.cellProperties = {}); var k = {}; k.resource = x.resource, k.start = x.start, k.end = x.end, k.x = e, k.y = n; var C = e + "_" + n, _ = ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"]; if (k.properties = w.cellProperties[C], !w.cellProperties[C]) { var S = k.properties = {}; S.cssClass = null, S.html = null, S.text = null, S.backImage = null, S.backRepeat = null, S.backColor = null, S.business = w.Of(x.start, x.end), S.fontColor = null, w.cellProperties[C] = S } if ("function" == typeof w.onBeforeCellRender) { var T = {}; T.cell = k, w.onBeforeCellRender(T), l(T.cell, T.cell.properties, _) } var D, A = w.Pf(e, n); x.root = w, x.setAttribute("unselectable", "on"), D = t(), D.className = w.da("_cell"), D.style.position = "relative", D.style.height = w.cellHeight + "px", D.style.overflow = "hidden", D.setAttribute("unselectable", "on"); var H = t(); H.className = w.da("_cell_inner"), D.appendChild(H), x.appendChild(D), x.onmousedown = w.Oc, x.onmousemove = w.ad, x.onmouseout = w._c, a(x, DayPilot.touch.end, w.Ve.Qf), x.oncontextmenu = function () { if (!w.Pc(w.coords)) { var e = v.selecting = {}; e.start = w.coords, e.start.time = w.tc(w.coords.x, w.coords.y), e.start.columnIndex = w.Jb(w.coords.x), e.start.column = w.Kb[e.start.columnIndex], w.Qc(), w.Ea = e, v.selecting = null, w.Rc(e) } return "Disabled" === w.timeRangeRightClickHandling, !1 }; var M = w.Rf(e, n); D = x.firstChild; "Fixed" === E.ed() && (b.width ? D.style.width = b.width + "px" : D.style.width = w.columnWidth + "px"), M && (D.firstChild.style.background = M); (A ? A.business : w.Of(x.start, x.end)) && r(D, w.da("_cell_business")); var R = D.firstChild; if (R && (R.innerHTML = ""), D.style.backgroundImage = "", D.style.backgroundRepeat = "", A && (A.html ? R.innerHTML = A.html : A.text && (w.Ja.Ia() ? R.innerText = A.text : R.innerHTML = A.text), A.cssClass && r(D, A.cssClass), A.backImage && (D.style.backgroundImage = "url('" + A.backImage + "')"), A.backRepeat && (D.style.backgroundRepeat = A.backRepeat), A.fontColor && (D.style.color = A.fontColor), A.areas)) { var B = {}; B.start = x.start, B.end = x.end, B.resource = x.resource; var N = f(A.areas).filter(function (e) { return !(e.end && new DayPilot.Date(e.end) <= x.start) && !(e.start && new DayPilot.Date(e.start) >= x.end) }); N.forEach(function (e) { if (e.start || e.end) { if (e.start) { var t = new DayPilot.Date(e.start).getTime() - x.start.getTime(); e.top = w.Sf(t) } if (e.end) { var n = new DayPilot.Date(e.end).getTime() - x.start.getTime(); e.height = w.Sf(n) - e.top } } }), DayPilot.Areas.attach(D, B, { "areas": N }) } if (function () { if ("function" == typeof w.onBeforeCellDomAdd || "function" == typeof w.onBeforeCellDomRemove) { var e = {}; if (e.control = w, e.cell = k, e.element = null, x.domArgs = e, "function" == typeof w.onBeforeCellDomAdd && w.onBeforeCellDomAdd(e), e.element) { var t = H; if (t) { e.Ie = t; var n = d(e.element), i = c(e.element), a = u(e.element); if (n) { if (!w.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); w.X.W(e.element, t) } else if (i) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z._(e.element, t, e.props), w.Z.Le = !1 } else if (a) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z.Me(e.element, t), w.Z.Le = !1 } else t.appendChild(e.element) } } } }(), w.nav.main.appendChild(x), w.nav.main.rows[n].cells[e] = x, w.elements.cells[e + "_" + n] = x, "function" == typeof w.onAfterCellRender) { var T = {}; T.cell = l(k, {}, ["start", "end", "resource"]), T.div = D, w.onAfterCellRender(T) } } }, this.Kf = function () { var e = E.Lb(), n = this.nav.main, i = 60 * e * 1e3, o = this.Vb(), s = (this.yf() * (60 / e), w.Kb), d = 0; for (n && (d = w.fd().scrollTop, this.Xa()), this.nav.scrollable.daypilotMainD = !0, this.nav.scrollable.calendar = this; n && n.rows && n.rows.length > 0;)this.ta || DayPilot.pu(n.rows[0]), n.deleteRow(0); if (this.Tf = !0, this.scrollLabelsVisible) for (var s = this.Kb, c = this.showHours ? this.hourWidth : 0, u = (this.nav.scroll.clientWidth - c) / s.length, h = 0; h < s.length; h++) { var p = t(); p.style.position = "absolute", p.style.top = "0px", p.style.left = c + 2 + h * u + u / 2 + "px", p.style.display = "none"; var m = t(); m.style.height = "10px", m.style.width = "10px", m.className = this.da("_scroll_up"), p.appendChild(m), this.nav.scrollLayer.appendChild(p), this.nav.scrollUp.push(p); var g = t(); g.style.position = "absolute", g.style.top = "0px", g.style.left = c + 2 + h * u + u / 2 + "px", g.style.display = "none"; var m = t(); m.style.height = "10px", m.style.width = "10px", m.className = this.da("_scroll_down"), g.appendChild(m), this.nav.scrollLayer.appendChild(g), this.nav.scrollDown.push(g) } var y = s.length; if (this.pa) { for (var b = this.nav.events; b && b.rows && b.rows.length > 0;)this.ta || DayPilot.pu(b.rows[0]), b.deleteRow(0); for (var x = b.insertRow(-1), k = 0; k < y; k++) { var C = x.insertCell(-1); C.style.padding = "0px", C.style.border = "0px none", C.style.height = "1px", C.style.overflow = "visible"; var _ = "Fixed" === E.ed(); _ && (s[k].width ? C.style.width = s[k].width + "px" : C.style.width = this.columnWidth + "px"), w.rtl || (C.style.textAlign = "left"), w.sf(C) } } for (var h = 0; h < o; h++) { var x = n.insertRow(-1), S = h; x.style.MozUserSelect = "none", x.style.KhtmlUserSelect = "none", x.style.WebkitUserSelect = "none"; for (var k = 0; k < y; k++) { var T = this.Kb[k], C = x.insertCell(-1); C.start = T.start.addTime(S * i).addHours(this.Rb()), C.end = C.start.addTime(i), C.resource = T.id, this.cellProperties || (this.cellProperties = {}); var D = {}; D.resource = C.resource, D.start = C.start, D.end = C.end; var A = k + "_" + S; if (D.cssClass = null, D.html = null, D.backImage = null, D.backRepeat = null, D.backColor = null, D.business = this.Of(C.start, C.end), this.cellProperties[A] && l(this.cellProperties[A], D, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"]), "function" == typeof this.onBeforeCellRender) { var H = {}; H.cell = D, this.onBeforeCellRender(H) } this.cellProperties[A] = D; var M, R = w.Pf(k, S); C.root = this, C.setAttribute("unselectable", "on"), M = t(), M.className = w.da("_cell"), M.style.position = "relative", M.style.height = w.cellHeight + "px", M.style.overflow = "hidden", M.setAttribute("unselectable", "on"); var B = t(); B.className = w.da("_cell_inner"), M.appendChild(B), C.appendChild(M), C.onmousedown = this.Oc, C.onmousemove = this.ad, C.onmouseout = this._c, a(C, DayPilot.touch.end, this.Ve.Qf), C.oncontextmenu = function () { if (!w.Pc(w.coords)) { var e = v.selecting = {}; e.start = w.coords, e.start.time = w.tc(w.coords.x, w.coords.y), e.start.columnIndex = w.Jb(w.coords.x), e.start.column = w.Kb[e.start.columnIndex], w.Qc(), w.Ea = e, v.selecting = null, w.Rc(e) } return "Disabled" === w.timeRangeRightClickHandling, !1 }; var N = w.Rf(k, S); M = C.firstChild; var _ = "Fixed" === E.ed(); _ && (T.width ? M.style.width = T.width + "px" : M.style.width = this.columnWidth + "px"), N && (M.firstChild.style.background = N); (R ? R.business : this.Of(C.start, C.end)) && r(M, w.da("_cell_business")); var P = M.firstChild; if (P && (P.innerHTML = ""), M.style.backgroundImage = "", M.style.backgroundRepeat = "", R && (R.html && (P.innerHTML = R.html), R.cssClass && r(M, R.cssClass), R.backImage && (M.style.backgroundImage = "url('" + R.backImage + "')"), R.backRepeat && (M.style.backgroundRepeat = R.backRepeat), R.areas)) { var L = {}; L.start = C.start, L.end = C.end, L.resource = C.resource; var I = f(R.areas).filter(function (e) { return !(e.end && new DayPilot.Date(e.end) <= C.start) && !(e.start && new DayPilot.Date(e.start) >= C.end) }); I.forEach(function (e) { if (e.start || e.end) { if (e.start) { var t = new DayPilot.Date(e.start).getTime() - C.start.getTime(); e.top = w.Sf(t) } if (e.end) { var n = new DayPilot.Date(e.end).getTime() - C.start.getTime(); e.height = w.Sf(n) - e.top } } }), DayPilot.Areas.attach(M, L, { "areas": I }) } } } n.onmouseup = this.cd, n.root = this, n.style.height = o * w.cellHeight + "px", w.nav.scrollable.style.display = "", w.fd().scrollTop = d }, this.kf = function (e) { if (!_.detected) { var t = w.getSelection(); if (t) { var n = {}; if (n.start = t.start, n.end = t.end, n.resource = t.resource, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof w.onTimeRangeRightClick && (w.onTimeRangeRightClick(n), n.preventDefault.value)) return !1; "ContextMenu" === w.timeRangeRightClickHandling && w.contextMenuSelection && w.contextMenuSelection.show(w.getSelection()), "function" == typeof w.onTimeRangeRightClicked && w.onTimeRangeRightClicked(n) } } }, this.Of = function (e, t) { var n = E.Lb(); if (n <= 1440 && !w.businessWeekends && (0 === e.dayOfWeek() || 6 === e.dayOfWeek())) return !1; if (n < 720) { var i = e.getHours(); i += e.getMinutes() / 60, i += e.getSeconds() / 3600, i += e.getMilliseconds() / 36e5; var a = this.businessBeginsHour, r = this.businessEndsHour; if (0 === r && (r = 24), a === r) return !1; if (!(a < r)) return i < r || i >= a; if (i < a) return !1; if (r >= 24) return !0; if (i >= r) return !1 } return !0 }, this.jf = function (e) { e = e || window.event, e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0); for (var t = 0; t < m.Uf.length; t++) { var n = m.Uf[t]; n !== w && n.db && n.db() } m.activeCalendar = this; var i = w.nav.main; w.coords = DayPilot.mo3(i, e); var a = DayPilot.mc(e), s = w.crosshairType && "Disabled" !== w.crosshairType; if (v.moving || v.resizing || v.selecting ? w.eb() : s && w.Vf(), v.resizing) w.Wf(a); else if (v.moving) { if (!v.moving.helper) return p(m.movingShadow), void (m.movingShadow = null); if (!m.movingShadow) { var l = 3; if (!(DayPilot.distance(a, m.Xf) > l)) return; m.movingShadow = w.Ib(v.moving, !0), m.movingShadow.style.width = m.movingShadow.parentNode.offsetWidth + 1 + "px" } var d = m.movingShadow; if (!w.coords) return; r(v.moving, w.da("_event_moving_source")); var c = w.cellHeight, u = w.snapToGrid && w.snapToGridEventMoving, h = 0, f = m.moveOffsetY; f || (f = c / 2), "Top" === this.moveBy && (f = 0); var g = v.moving.event, y = Math.floor((w.coords.y - f - h + c / 2) / c) * c + h; u || (y = w.coords.y - f); var b = !w.va; y < h && b && (y = h); var x = w.nav.main, k = w.sa ? w.Vb() * w.cellHeight : x.clientHeight, C = parseInt(d.style.height); y + C > k && b && (y = k - C); var _ = w.Jb(w.coords.x); _ < 0 && (_ = 0), _ >= w.Kb.length && (_ = w.Kb.length - 1); var S = w.vc(g, _, y); if (w.va) { var T = v.moving.helper.Yf; S = w.rc(g, w.coords, T), m.movingShadow.style.display = "none" } var D = w.eventMovingStartEndFormat; "Auto" === D && (D = "Clock24Hours" === E.Sc() ? "H:mm" : "h:mm tt"); var A = {}; A.e = g, A.start = S.start, A.end = S.end, A.resource = S.resource, A.html = null, A.cssClass = null, A.allowed = !0, A.areaData = v.movingAreaData, A.top = {}, A.top.width = null, A.top.space = 5, A.top.html = A.start.toString(D, E.Tc()), A.top.enabled = w.eventMovingStartEndEnabled, A.bottom = {}, A.bottom.width = null, A.bottom.space = 5, A.bottom.html = A.end.toString(D, E.Tc()), A.bottom.enabled = w.eventMovingStartEndEnabled, A.external = !!m.drag, function () { var e = w.gb; if (!(e && e.start.getTime() === S.start.getTime() && e.end.getTime() === S.end.getTime() && e.resource === S.resource)) { if (w.gb = A, d.args = A, d.style.top = y + "px", !u) { var t = S.end.getTime() - S.start.getTime(), n = w.Sf(t); d.style.height = n + "px" } var i = w.nav.events; if (_ < i.rows[0].cells.length && _ >= 0 && d.column !== _ && (d.column = _, m.moveShadow(i.rows[0].cells[_])), !w.allowEventOverlap) { var a = { "id": g.id(), "start": A.start, "end": A.end, "resource": A.resource }; w.events.Uc(a) && (A.allowed = !1) } if (w.Vc(A.start, A.end, A.resource) && (A.allowed = !1), "function" == typeof w.onEventMoving && A.allowed && w.onEventMoving(A), v.moving) { var s = [{ "div": d, "columnIndex": _ }]; if (w.va) { var l = { "start": A.start, "end": A.end, "resource": A.resource }; w.Xc(g, l), w.xc = l, s = w.Fa, d.style.display = "none" } s.forEach(function (e) { o(e.div, w.da("_shadow_forbidden")) }), w.Yc(), s.forEach(function (e) { var t = e.div, n = e.columnIndex; t.className = w.da("_shadow"), t.firstChild.innerHTML = "", A.html && (t.firstChild.innerHTML = A.html), A.cssClass && r(t, A.cssClass), A.allowed || r(t, w.da("_shadow_forbidden")), w.Zc(t, n, A) }) } } }() } else if (v.selecting) { var H = v.selecting; if (H.origin = "drag", w.Qc(), H.last && H.last.startTime === H.startTime && H.last.endTime === H.endTime) return; H.last = { "startTime": H.startTime, "endTime": H.endTime }, w.Rc() } if (m.drag) { if (m.gShadow && document.body.removeChild(m.gShadow), m.gShadow = null, !m.movingShadow && w.coords) { var d = w.Ib(m.drag, !1); if (d) { m.drag.Zf = w, m.movingShadow = d; var M = DayPilot.Date.today(), R = { "id": m.drag.id, "start": M, "end": M.addSeconds(m.drag.duration), "text": m.drag.text }, B = m.drag.$f, N = m.drag._f, P = N || B; if (P) { var L = ["duration", "element", "remove", "id", "text"]; P === B && L.push("data"); for (var I in P) DayPilot.contains(L, I) || (R[I] = P[I]) } var z = new DayPilot.Event(R, w); z.external = !0, v.moving = {}, v.moving.event = z, v.moving.helper = {} } } e.cancelBubble = !0 } w.ag(w.coords) }, this.Xc = function (e, t) { var n = t.start, i = t.end, a = t.resource, r = w.Nb(!0), o = w.Kb.map(function (e, t) { var o = !e.id || a === e.id, s = e.start.addHours(w.Rb(!0)), l = s.addTime(r), d = DayPilot.Util.overlaps(n, i, s, l); return { "matches": o && d, "data": e, "start": s, "end": l, "index": t } }).filter(function (e) { return e.matches }), s = o.map(function (t) { var a = document.createElement("div"); a.className = w.da("_shadow"), a.style.position = "absolute"; a.style.left = w.columnMarginLeft + "px", a.style.right = w.columnMarginRight + "px"; var r = w.Rb(!0), o = t.start > n ? t.start : n, s = t.end < i ? t.end : i, l = w.sc(o, t.start.addHours(-r)).top, d = w.sc(s, t.start.addHours(-r)).top, c = d - l, u = w.snapToGrid && w.snapToGridTimeRangeSelecting; (e ? e.part.box : u) && (l = w.sc(o, t.start.addHours(-r)).boxTop, c = w.sc(s, t.start.addHours(-r)).boxBottom - l), a.style.top = l + "px", a.style.height = c + "px", a.onclick = function (e) { if ("Disabled" !== w.timeRangeClickHandling) { var t = w.getSelection(); t && w.Gc(t.start, t.end, t.resource) } }, a.ondblclick = function (e) { if ("Disabled" !== w.timeRangeDoubleClickHandling) { clearTimeout(w.bg); var t = w.getSelection(); t && w.Hc(t.start, t.end, t.resource) } }; var h = document.createElement("div"); h.className = w.da("_shadow_inner"), a.appendChild(h); var f = w.eventBorderRadius; return "number" == typeof f && (f += "px"), f && (h.style.borderRadius = f, a.style.borderRadius = f), { "div": a, "column": t, "columnIndex": t.index } }), l = (w.Fa || []).map(function (e) { return e.div }); DayPilot.de(l), w.Fa = s, s.forEach(function (e) { w.nav.events.rows[0].cells[e.column.index].appendChild(e.div) }) }, this.getCoords = function () { if (!w.coords) return null; var e = w.coords, t = {}; t.x = Math.floor(e.x), t.y = Math.floor(e.y); var n = w.Jb(e.x); n < 0 && (n = 0), n >= w.Kb.length && (n = w.Kb.length - 1); var i = w.Kb[n]; t.column = w.bc(i); var a = w.sd(t.y), r = i.start.addHours(a); return t.time = r, t }, this.cg = function (e) { m.movingShadow.offsetTop, v.moving.event, m.movingShadow.column }, this.Vc = function (e, t, n) { return w.dg(e, t, n).some(function (e) { return e.disabled }) }, this.Qc = function () { var e = v.selecting; e.end = w.coords, e.end.time = w.tc(e.start.x, e.end.y), e.end.column = w.Kb[w.Jb(e.end.x)], w.va && (e.end.time = w.tc(e.end.x, e.end.y)), w.fe(e) }, this.fe = function (e) { var t, n, i; w.snapToGrid && w.snapToGridTimeRangeSelecting ? e.end.time < e.start.time ? (t = w.uc(e.end.time, e.start.column.start), n = w.eg(e.start.time, e.start.column.start), i = e.endTime) : (t = w.uc(e.start.time, e.start.column.start), n = w.eg(e.end.time, e.start.column.start), i = e.startTime) : e.end.time < e.start.time ? (t = e.end.time, n = e.start.time, i = e.endTime) : (t = e.start.time, n = e.end.time, i = e.startTime), e.startTime = t, e.endTime = n, e.anchor = i }, this.Pc = function (e) { var t = w.Ea; if (!t) return !1; var n = t.start, i = t.end, a = w.tc(e.x, e.y), r = w.Kb[w.Jb(e.x)]; return a >= n.time && a < i.time && r === n.column }, this.dg = function (e, t, n) { for (var i = [], a = 60 * E.Lb() * 1e3, r = 0; r < w.Kb.length; r++)for (var o = w.Kb[r], s = 0; s < w.Vb(); s++) { var l = r + "_" + s, d = w.cellProperties[l], c = o.start.addTime(s * a).addHours(w.Rb()), u = c.addTime(a), f = !n || n === o.id; f && h(e, t, c, u) && d && i.push(d) } return i }, this.Wf = function (e) { if (!v.resizing.event) return v.resizing = null, p(m.resizingShadow), void (m.resizingShadow = null); m.resizingShadow || (m.resizingShadow = w.Ib(v.resizing, !1)); var t = v.resizing.event.calendar.cellHeight, n = 0, i = e.y - m.Xf.y, a = v.resizing.event, o = a.start(), s = a.end(), l = null, d = w.snapToGrid && w.snapToGridEventResizing; if ("bottom" === v.resizing.dpBorder) { var c = Math.floor((m.fg + m.gg + i + t / 2) / t) * t - m.gg + n; d || (c = m.fg + i), c < t && (c = t); var u = w.sa ? w.Vb() * w.cellHeight : w.nav.main.clientHeight; m.gg + c > u && (c = u - m.gg), m.resizingShadow.style.height = c + "px", s = w.lc(a, m.gg + c), l = o; var h = w.va; if (h) { m.resizingShadow.style.display = "none"; var f = w.coords, g = w.tc(f.x, f.y), y = this.Jb(f.x), b = this.Kb[y]; s = w.snapToGrid && w.snapToGridEventResizing ? w.sc(g, b.start).boxEnd : g; var x = o.addTime(60 * E.Lb() * 1e3); s.getTime() < x.getTime() && (s = x) } } else if ("top" === v.resizing.dpBorder) { var k = Math.floor((m.gg + i - n + t / 2) / t) * t + n; d || (k = m.gg + i), k < n && (k = n), k > m.gg + m.fg - t && (k = m.gg + m.fg - t); var c = m.fg - (k - m.gg); c < t ? c = t : m.resizingShadow.style.top = k + "px", m.resizingShadow.style.height = c + "px", o = w.kc(a, k), l = s; var h = w.va; if (h) { m.resizingShadow.style.display = "none"; var f = w.coords, g = w.tc(f.x, f.y), y = this.Jb(f.x), b = this.Kb[y]; o = w.snapToGrid && w.snapToGridEventResizing ? w.sc(g, b.start).boxStart : g; var C = s.addTime(60 * -E.Lb() * 1e3); o.getTime() > C.getTime() && (o = C) } } var _ = m.resizingShadow, S = w.eventResizingStartEndFormat; "Auto" === S && (S = "Clock24Hours" === E.Sc() ? "H:mm" : "h:mm tt"); var T = {}; if (T.e = a, T.start = o, T.end = s, T.resource = a.resource(), T.allowed = !0, T.html = null, T.cssClass = null, T.anchor = l, T.top = {}, T.top.width = null, T.top.space = 5, T.top.html = T.start.toString(S, E.Tc()), T.top.enabled = w.eventResizingStartEndEnabled, T.bottom = {}, T.bottom.width = null, T.bottom.space = 5, T.bottom.html = T.end.toString(S, E.Tc()), T.bottom.enabled = w.eventResizingStartEndEnabled, _.args = T, !w.allowEventOverlap) { var D = { "id": a.id(), "start": T.start, "end": T.end, "resource": T.resource }; w.events.Uc(D) && (T.allowed = !1) } w.Vc(T.start, T.end, T.resource) && (T.allowed = !1), "function" == typeof w.onEventResizing && T.allowed && w.onEventResizing(T); var A = { "start": T.start, "end": T.end, "resource": a.resource() }; w.Xc(a, A), w.oc = A; var H = w.va ? w.Fa : [{ "div": _, "columnIndex": a.part.dayIndex }]; w.Yc(), H.forEach(function (e) { var t = e.div, n = e.columnIndex; t.firstChild.innerHTML = "", t.className = w.da("_shadow"), T.html && (t.firstChild.innerHTML = T.html), T.cssClass && r(t, T.cssClass), T.allowed || r(t, w.da("_shadow_forbidden")), w.Zc(t, n, T) }) }, this.temp = {}, this.temp.getPosition = function () { var e = w.ig.hg(); if (!e) return null; var t = w.Kb[e.x], n = {}; return n.resource = t.id, n.start = new DayPilot.Date(t.start).addHours(w.Rb(!0)).addMinutes(e.y * E.Lb()), n.end = n.start.addMinutes(E.Lb()), n }, this.ig = {}, this.ig.hg = function () { var e = {}; if (e.x = 0, e.y = 0, !w.coords) return null; e.x = w.Jb(w.coords.x); var t = 0, n = Math.floor((w.coords.y - t) / w.cellHeight); return e.y = DayPilot.Util.atLeast(0, n), e.x < 0 ? null : e }, this.ig.col = function (e, t) { var n = {}; if (n.left = 0, n.width = 0, !e) return null; if (!e.rows) return null; if (0 === e.rows.length) return null; if (0 == e.rows[0].cells.length) return null; var i = e.rows[0].cells[t]; if (!i) return null; var a = DayPilot.abs(e), r = DayPilot.abs(i); return n.left = r.x - a.x, n.width = i.offsetWidth, n }, this.Vf = function () { var e = w.nav.hourTable; this.eb(), this.elements.crosshair || (this.elements.crosshair = []); var n = this.ig.hg(); if (n) { var i = n.x; if (null !== i) { var a = Math.floor(n.y / (60 / E.Lb()) * (60 / E.vf())); if (!(a < 0)) { if (e) { if (a >= e.rows.length) return; var r = t(); r.style.position = "absolute", r.style.left = "0px", r.style.right = "0px", r.style.top = "0px", r.style.bottom = "0px", r.className = w.da("_crosshair_left"), e.rows[a].cells[0].firstChild.appendChild(r), this.elements.crosshair.push(r) } if (this.nav.header) { var o = t(); o.style.position = "absolute", o.style.left = "0px", o.style.right = "0px", o.style.top = "0px", o.style.bottom = "0px", o.className = w.da("_crosshair_top"); var s = this.nav.header.rows[E.Od() - 1]; s.cells[i] && (s.cells[i].firstChild.appendChild(o), this.elements.crosshair.push(o)) } if ("Header" !== this.crosshairType) { var l = this.nav.crosshair, d = 0, c = Math.floor((w.coords.y - d) / w.cellHeight) * w.cellHeight + d, u = w.cellHeight, h = t(); h.style.position = "absolute", h.style.left = "0px", h.style.right = "0px", h.style.top = c + "px", h.style.height = u + "px", h.style.pointerEvents = "none", h.className = w.da("_crosshair_horizontal"), h.onmousedown = this.jg, l.appendChild(h), this.elements.crosshair.push(h); var f = i, v = this.ig.col(this.nav.main, f); if (u = w.Qe(), v) { var p = t(); p.style.position = "absolute", p.style.left = v.left + "px", p.style.width = v.width + "px", p.style.top = "0px", p.style.height = u + "px", p.style.pointerEvents = "none", p.className = w.da("_crosshair_vertical"), p.onmousedown = this.jg, l.appendChild(p), this.elements.crosshair.push(p) } } } } } }, this.jg = function (e) { var t = w.nav.main; w.eb(), w.coords = DayPilot.mo3(t, e); var n = w.ig.hg(), i = 0, a = n.x, r = t.rows[n.y + i].cells[a]; w.Oc.apply(r, [e]) }, this.eb = function () { if (this.elements.crosshair && 0 !== this.elements.crosshair.length) { for (var e = 0; e < this.elements.crosshair.length; e++) { var t = this.elements.crosshair[e]; t && t.parentNode && t.parentNode.removeChild(t) } this.elements.crosshair = [] } }, this.pb = function () { if (this.cellConfig) { var e = this.cellConfig; if (e.vertical) for (var t = 0; t < e.x; t++)for (var n = this.cellProperties[t + "_0"], i = 1; i < e.y; i++)this.cellProperties[t + "_" + i] = n; if (e.horizontal) for (var i = 0; i < e.y; i++)for (var n = this.cellProperties["0_" + i], t = 1; t < e.x; t++)this.cellProperties[t + "_" + i] = n; if (e["default"]) for (var n = e["default"], i = 0; i < e.y; i++)for (var t = 0; t < e.x; t++)this.cellProperties[t + "_" + i] || (this.cellProperties[t + "_" + i] = n) } }, this.Pf = function (e, t) { return this.cellProperties ? this.cellProperties[e + "_" + t] : null }, this.kg = function (e, t) { var n = e + "_" + t; return !(!this.cellProperties || !this.cellProperties[n]) && this.cellProperties[n].business }, this.Rf = function (e, t) { var n = e + "_" + t; return this.cellProperties && this.cellProperties[n] ? this.cellProperties[n].backColor : null }, this.Ya = function () { var e = this.nav.header; if (e && e.rows) for (var t = 0; t < e.rows.length; t++)for (var n = e.rows[t], i = 0; i < n.cells.length; i++) { var a = n.cells[i]; a.onclick = null, a.onmousemove = null, a.onmouseout = null; var r = a, o = r.domArgs; if (r.domArgs = null, "function" == typeof w.onBeforeHeaderDomRemove && w.onBeforeHeaderDomRemove(o), "function" == typeof w.onBeforeHeaderDomAdd) { var s = o && o.Ie; if (s) { var l = w.X.reactDOM && d(o.element), h = w.Z.Ke && (c(o.element) || u(o.element)); l ? w.X.la(s) : h && (w.Z.Le = !0, w.Z.ma(s), w.Z.Le = !1) } } } e && (this.ta || DayPilot.pu(e), e.innerHTML = "", e.rows = []) }, this.Ee = function (e) { var t = e + 1, n = t === E.Od(), i = this.Nd(t), a = 0, r = 0, o = w.Ae(), s = [], l = "Fixed" === E.ed(), d = l ? "px" : "%"; if (!n) for (var c = 0; c < i.length; c++) { var u = i[c], h = (o[c], !!u.Yd), f = h ? u.Zd(E.Od() - t + 1) : 1, v = 0; DayPilot.list.for(f, function () { v += o[a].width, a += 1 }), s.push({ "left": r, "width": v, "unit": d }), r += v } return s }, this.lg = function (e) { function n(n) { var i = a[n], o = h[n]; if (o) { var m = {}; m.header = {}, m.header.cssClass = null, m.column = w.bc(i, w); var g = null; w.Hb() && "function" == typeof w.onBeforeHeaderRender && (l(i, m.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), w.onBeforeHeaderRender(m), l(m.header, i, ["html", "backColor", "toolTip", "areas", "cssClass"])); var y = !!i.Yd, b = o.width, C = o.left; s || (C = p[n].left, b = p[n].width); var _ = t(); _.style.position = "absolute", _.style.top = f + "px", _.style.left = C + o.unit, _.style.right = C + o.unit, _.style.width = b + o.unit, _.data = i, v.push(_), y && (_.onclick = w.cc, _.onmousemove = w.dc, _.onmouseout = w.fc, i.toolTip && (_.title = i.toolTip)), _.style.overflow = "hidden", _.style.height = E.mg(e) + "px"; var S = t(); S.setAttribute("unselectable", "on"), S.style.userSelect = "none", S.style.position = "relative", S.style.height = E.mg(e) + "px", S.className = w.da("_colheader"), i.cssClass && DayPilot.Util.addClass(S, i.cssClass), w.headerTextWrappingEnabled || (S.style.whiteSpace = "nowrap"); var T = t(); if (T.className = w.da("_colheader_inner"), i.backColor && (T.style.background = i.backColor), S.appendChild(T), _.appendChild(S), E.te() && "undefined" != typeof k && k.ve && !function () { var t = {}; t.column = r[n], t.x = n, t.y = e, t.div = _, k.ve(t) }(), E.ge() && y && "undefined" != typeof x && x.ie && !function () { var t = {}; t.column = r[n], t.x = n, t.y = e, t.div = _, x.ie(t) }(), w.ng(S, i), "function" == typeof w.onBeforeHeaderDomAdd && (m.element = null, w.onBeforeHeaderDomAdd(m), g = m.element), _.domArgs = m, g) { var D = T; m.Ie = D; var A = d(g), H = c(m.element), M = u(m.element); if (A) w.X.Je(), w.X.W(g, D); else if (H) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z._(m.element, D, m.props), w.Z.Le = !1 } else if (M) { if (!w.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); w.Z.Le = !0, w.Z.Me(m.element, D), w.Z.Le = !1 } else D.appendChild(g) } else y && (S.firstChild.innerHTML = i.html || ""); w.nav.header.appendChild(_) } } var i = e + 1, a = this.Nd(i), r = this.Nd(i, !0), o = a.length, s = i === E.Od(), h = w.Ae(), f = E.Df(e), v = []; w.nav.header.rows.push({ "cells": v }); for (var p = w.Ee(e), m = 0; m < o; m++)n(m) }, this.og = function (e, n) { for (var i = n ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], a = this.Nd(e), r = a.length, o = e === E.Od(), s = 0; s < r; s++) { var d = a[s]; if (w.Hb() && "function" == typeof w.onBeforeHeaderRender) { var c = {}; c.header = {}, l(d, c.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), this.onBeforeHeaderRender(c), l(c.header, d, ["html", "backColor", "toolTip", "areas"]) } var u = !!d.Yd, h = n ? i.insertCell(-1) : i.cells[s]; if (h.data = d, o); else { var f = 1; u && (f = d.Zd(E.Od() - e + 1)), h.colSpan = f } u && (h.onclick = this.cc, h.onmousemove = this.dc, h.onmouseout = this.fc, d.toolTip && (h.title = d.toolTip)), h.style.overflow = "hidden", h.style.padding = "0px", h.style.border = "0px none", h.style.height = E.mg(e - 1) + "px"; var v = n ? t() : h.firstChild; if (n) { v.setAttribute("unselectable", "on"), v.style.MozUserSelect = "none", v.style.KhtmlUserSelect = "none", v.style.WebkitUserSelect = "none", v.style.position = "relative", v.style.height = E.mg(e - 1) + "px", v.className = w.da("_colheader"); var p = t(); p.className = w.da("_colheader_inner"), d.backColor && (p.style.background = d.backColor), v.appendChild(p), h.appendChild(v) } else v.style.height = E.mg(e - 1) + "px"; this.ng(v, d), u && (v.firstChild.innerHTML = d.html) } }, this.ng = function (e, t) { for (var n = [], i = 0; i < e.childNodes.length; i++) { var a = e.childNodes[i]; a.isActiveArea && n.push(a) } for (var i = 0; i < n.length; i++) { var a = n[i]; p(a) } if (t.areas) for (var r = t.areas, i = 0; i < r.length; i++) { var o = r[i]; if (DayPilot.Areas.isVisible(o)) { var s = w.bc(t), l = DayPilot.Areas.createArea(e, s, o); e.appendChild(l) } } }, this.sb = function () { w.sa ? w.pg() : w.qg() }, this.pg = function () { var e = w.nav.header; if (w.Ya(), this.showHeader) { var n = this.Nd(E.Od(), !0), i = n.length; this.rg = !0; var a = w.nav.corner; if (a) { this.ta || DayPilot.pu(a.firstChild); var r = {}; r.html = w.Ha(w.cornerText, w.cornerHtml); var o = null; if (w.Za(), "function" == typeof w.onBeforeCornerRender && w.onBeforeCornerRender(r), "function" == typeof w.onBeforeCornerDomAdd && (r.element = null, w.onBeforeCornerDomAdd(r), o = r.element), o) { var s = a.firstChild; s.domArgs = r; d(o) ? (w.X.Je(), w.X.W(o, s)) : s.appendChild(o) } else a.firstChild.innerHTML = r.html || "" } for (var l = 0; l < E.Od(); l++)this.lg(l); if (this.showAllDayEvents) { var c = []; w.nav.header.rows.push({ "cells": c }); for (var u = w.Ae(), h = w.He(), f = 0; f < i; f++) { var v = n[f], p = u[f], m = t(); m.data = v, m.style.overflow = "hidden", m.style.position = "absolute", m.style.left = p.left + p.unit, m.style.right = p.left + p.unit, m.style.width = p.width + p.unit, m.style.top = h + "px"; var g = t(); g.setAttribute("unselectable", "on"), g.style.userSelect = "none", g.style.overflow = "hidden", g.style.position = "relative", g.style.height = E.Cf() + "px", g.className = this.da("_alldayheader"); var y = t(); y.className = this.da("_alldayheader_inner"), g.appendChild(y), m.appendChild(g), g.style.height = E.Cf() + "px", c.push(m), e.appendChild(m) } } } }, this.qg = function () { if (this.showHeader) { var e = this.nav.header, n = !0, i = this.Nd(E.Od(), !0), a = i.length; for (p(this.nav.header), this.Gf(); this.rg && e && e.rows && e.rows.length > 0;)this.ta || DayPilot.pu(e.rows[0]), e.deleteRow(0); this.rg = !0; var r = w.nav.corner; if (r) { this.ta || DayPilot.pu(r.firstChild); var o = {}; o.html = w.Ha(w.cornerText, w.cornerHtml), "function" == typeof w.onBeforeCornerRender && w.onBeforeCornerRender(o), r.firstChild.innerHTML = o.html ? o.html : "" } for (var s = 0; s < E.Od(); s++)this.og(s + 1, n); if (this.showAllDayEvents) for (var l = this.nav.header.insertRow(-1), s = 0; s < a; s++) { var d = i[s], c = l.insertCell(-1); c.data = d, c.style.padding = "0px", c.style.border = "0px none", c.style.overflow = "hidden"; var u = t(); u.setAttribute("unselectable", "on"), u.style.MozUserSelect = "none", u.style.KhtmlUserSelect = "none", u.style.WebkitUserSelect = "none", u.style.overflow = "hidden", u.style.position = "relative", u.style.height = E.Cf() + "px", u.className = this.da("_alldayheader"); var h = t(); h.className = this.da("_alldayheader_inner"), u.appendChild(h), c.appendChild(u), u.style.height = E.Cf() + "px" } } }, this.loadingStart = function (e) { this.Na(e) }, this.loadingStop = function () { this.kb(!0) }, this.Na = function (e) { e = e || {}; var t = e.delay || 0, n = w.Ha(e.text || this.loadingLabelText, this.loadingLabelHtml), i = "undefined" != typeof e.block ? e.block : w.blockOnCallBack; this.callbackTimeout && window.clearTimeout(this.callbackTimeout); var a = function () { (w.loadingLabelVisible || e.text) && w.nav.loading && (w.nav.loading.innerHTML = n, w.nav.loading.style.top = w.Sb() + 5 + "px", w.nav.loading.style.display = ""), i && C.E() }; 0 === t ? a() : w.sg = window.setTimeout(a, t) }, this.kb = function (e) { this.callbackTimeout && window.clearTimeout(this.callbackTimeout), this.nav.loading.style.display = "none", (e || w.blockOnCallBack) && C.C() }, this.tg = function (e) { var t = w.Rb(!0); return e < t && (e += 24), (e - t) * (60 / E.Lb()) * w.cellHeight }, this.sd = function (e) { var t = w.Rb(!0); return e / (60 / E.Lb()) / w.cellHeight + t }, this.ug = function () { var e = this.fd(), t = this.initScrollPos; if (!t) { var n = this.businessBeginsHour; t = w.tg(n) } e.root = this, e.onscroll = this.dd, w.Ga(), 0 === e.scrollTop ? E.Lb() <= 720 && (e.scrollTop = t - this.Wc()) : this.dd() }, this.vg = function () { var e = w.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0) }, this.wg = function () { var e = w.vg; return e() ? void w.xg() : void (w.Sa || (w.Sa = setInterval(function () { e() && (clearInterval(w.Sa), w.ug(), w.zb(), w.xg()) }, 100))) }, this.scrollToY = function (e) { this.fd().scrollTop = e }, this.scrollToHour = function (e) { var t = w.tg(e); this.fd().scrollTop = t - this.Wc() }, this.fd = function () { return "Fixed" === E.ed() || this.ra ? this.nav.bottomRight : this.nav.scroll }, this.onCallbackError = function (e, t) { alert("Error!\r\nResult: " + e + "\r\nContext:" + t) }, this.zb = function () {
                if (w.showHeader) {
                    var e = this.Ef(), n = !!this.nav.cornerRight; if (this.ra) {
                        this.nav.unifiedCornerRight && p(this.nav.unifiedCornerRight); var i = (w.fd(), w.nav.main.getBoundingClientRect().width), a = w.rf(); if ("100%" !== a && parseInt(a) < i) return; var r, o = DayPilot.sw(this.nav.bottomRight), s = "calc(100% - " + o + "px)"; w.sa ? (r = t(), r.style.position = "absolute", r.style.left = s, r.style.right = s, r.style.height = w.Sb() + "px", w.nav.headerParent.appendChild(r), w.nav.unifiedCornerRight = r, w.nav.header.style.width = s, w.nav.allday && (w.nav.allday.style.width = s)) : (this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1), r = this.nav.unifiedCornerRight, r.rowSpan = this.nav.header.rows.length),
                            r.style.width = o + "px"; var l = t(); l.className = w.da("_cornerright"), l.setAttribute("unselectable", "on"), l.style.overflow = "hidden", l.style.height = this.Sb() + "px", l.style.position = "relative"; var d = t(); d.className = w.da("_cornerright_inner"), l.appendChild(d), r.appendChild(l); return void (!("Fixed" === E.ed()) && this.nav.allday && (w.rtl ? this.nav.allday.style.left = o + "px" : this.nav.allday.style.right = o + "px"))
                    } if (e !== n) if (e) this.Hf(); else { if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) { var r = this.nav.fullHeader.rows[0].cells[2]; r.parentNode && r.parentNode.removeChild(r) } this.nav.cornerRight = null } var c = this.nav.cornerRight; if (c) { var s = DayPilot.sw(w.Tb()); return c && (c.style.width = s + "px"), s }
                }
            }, this.Gb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) { this.Ua(); var t = this.autoRefreshInterval; if (!t || t < 10) throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds"); this.autoRefreshTimeout = window.setTimeout(function () { w.yg() }, 1e3 * this.autoRefreshInterval) } }, this.Ua = function () { this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout) }, this.yg = function () { if (!(v.resizing || v.moving || m.drag || v.selecting)) { var e = !1; if ("function" == typeof this.onAutoRefresh) { var t = {}; t.i = this.za, t.preventDefault = function () { this.preventDefault.value = !0 }, w.onAutoRefresh(t), t.preventDefault.value && (e = !0) } !e && this.ka() && this.commandCallBack(this.autoRefreshCommand), this.za++ } this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { w.yg() }, 1e3 * this.autoRefreshInterval)) }, this._a = function () { w.Eb() }, this.Eb = function () { w.nav.top && (w.yb(), "Parent100Pct" === w.heightSpec && w.setHeight(parseInt(w.nav.top.clientHeight, 10)), w.zb(), w.Fb(), w.Ga(), w.zg()) }, w.zg = function () { var e = DayPilot.sw(w.nav.bottomRight), t = w.nav.scroll.offsetWidth - w.hourWidth - e; if ("Auto" === w.columnWidthSpec) { var n = w.Kb.length, i = t / n, a = w.Ag; i < w.columnWidthMin ? (w.columnWidth = w.columnWidthMin, w.Ag = !0) : w.Ag = !1; var r = a !== w.Ag; w.Aa && (r || w.Bg) && (w.Bg = !1, w.Jd()), w.Aa || (w.Bg = !0) } }, this.Cg = null, this.Dg = null, w.Ta = null, this.xg = function () { var e = function () { w.watchWidthChanges && (w.Eb(), w.dd()) }; if (w.watchWidthChanges) { if ("function" == typeof ResizeObserver) { if (w.Ta) return; var t = new ResizeObserver(DayPilot.debounce(e, 50)); return t.observe(w.nav.top), void (w.Ta = t) } if (!w.Dg) { var n = function () { return w.nav && w.nav.top ? w.Cg ? (w.Cg.width !== w.nav.top.offsetWidth && (w.Cg.changed = !0, w.Cg.counter = 0, w.Cg.width = w.nav.top.offsetWidth), w.Cg.changed && (w.Cg.counter += 1), void (w.Cg.changed && w.Cg.counter > 0 && (w.Cg.changed = !1, e()))) : (w.Cg = {}, w.Cg.counter = 0, w.Cg.changed = !1, void (w.Cg.width = w.nav.top.offsetWidth)) : void clearInterval(w.Dg) }; this.Dg = setInterval(n, 200), n() } } }, this.Eg = function () { m.Fg || (m.Fg = !0, a(document, "mousemove", m.Gg), a(document, "mouseup", m.Hg), i(document, DayPilot.touch.move, m.Ig), a(document, DayPilot.touch.end, m.Jg)), a(window, "resize", this._a) }, this.Ue = function (e) { if (!_.active && !_.using) { e = e || window.event; var t = DayPilot.Util.mouseButton(e); if (m.editing) return void m.editing.blur(); if ("undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), w.coords = DayPilot.mo3(w.nav.main, e), "n-resize" !== this.style.cursor && "s-resize" !== this.style.cursor || !t.left) { if (("move" === this.style.cursor || "Full" === w.moveBy && this.event.client.moveEnabled()) && t.left) { v.moving = this; var n = v.moving.helper = {}, i = w.Kb[this.event.part.dayIndex]; n.oldColumn = i.id, m.Xf = DayPilot.mc(e), m.gg = this.offsetTop; var a = this.event, r = DayPilot.mo3(this, e); if (r) { m.moveOffsetY = r.y; var o = w.coords, s = w.tc(o.x, o.y); n.Yf = s.getTime() - a.start().getTime(); var l = w.snapToGrid && w.snapToGridEventMoving; if (!l && a.part.box) { var d = w.sc(a.part.start, i.start), c = d.top - d.boxTop; m.moveOffsetY = r.y - c } } else m.moveOffsetY = 0; w.nav.top.style.cursor = this.style.cursor } } else v.resizing = this, m.Xf = DayPilot.mc(e), m.fg = this.offsetHeight, m.gg = this.offsetTop, w.nav.top.style.cursor = this.style.cursor; return !1 } }, this.Kg = function (e) { var t = this.wa.events, n = this.events.list[e], i = {}; for (var a in n) i[a] = n[a]; if (i.start = new DayPilot.Date(n.start), i.end = new DayPilot.Date(n.end), w.showEventStartEnd) { var r = i.start.getDatePart().getTime() === i.end.getDatePart().getTime(), o = r ? E.Tc().timePattern : E.Tc().dateTimePattern, s = i.start.toString(o), l = i.end.toString(o); i.html = w.Ha(i.text) + " (" + s + " - " + l + ")" } if ("function" == typeof this.onBeforeEventRender) { var d = {}; d.e = i, d.data = i, d.control = w, this.onBeforeEventRender(d) } t[e] = i }, this.Lg = function () { return !!(v.moving || v.resizing || v.selecting || m.drag) }, this.dragInProgress = function () { return w.Lg() }, this.Mg = {}; var C = this.Mg; C.Ng = function () { if (!w.nav.overlay) { var e = document.createElement("div"); e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", e.style.bottom = "0px", e.className = w.da("_block"), w.nav.top.appendChild(e), w.nav.overlay = e } }, C.E = function () { C.Ng(), w.nav.overlay.style.display = "" }, C.C = function () { w.nav.overlay && (w.nav.overlay.style.display = "none") }, this.Og = null, this.ag = function (e) { function t(e, t) { return 1 - e / t } var n = w.Lg(), i = "Always" === w.autoScroll, a = "Drag" === w.autoScroll && n; if (i || a) { var r = w.nav.bottomRight; e.x -= r.scrollLeft, e.y -= r.scrollTop; var o = r.clientWidth, s = r.clientHeight, l = 30, d = e.x < l ? e.x : 0, c = o - e.x < l ? o - e.x : 0, u = e.y < l ? e.y : 0, h = s - e.y < l ? s - e.y : 0, f = 0, v = 0, p = 50; d && (f = -50 * t(d, l)), c && (f = p * t(c, l)), u && (v = -50 * t(u, l) / 2), h && (v = p * t(u, l) / 2), f || v ? w.Pg(f, v) : w.fb() } }, this.Pg = function (e, t) { this.fb(), this.Qg(e, t) }, this.Rg = function (e) { if (!e) return !1; var t = w.nav.bottomRight, n = t.scrollWidth, i = t.scrollLeft, a = t.clientWidth, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e, w.coords.x += e, w.Sg(), !0)) }, this.Tg = function (e) { if (!e) return !1; var t = w.nav.bottomRight, n = t.scrollHeight, i = t.scrollTop, a = t.clientHeight, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e, w.coords.y += e, w.Sg(), !0)) }, this.Sg = function () { }, this.Qg = function (e, t) { if (this.Rg(e) || this.Tg(t)) { var n = function (e, t) { return function () { w.Qg(e, t) } }; this.Ug = window.setTimeout(n(e, t), 200) } }, this.fb = function () { w.Ug && (window.clearTimeout(w.Ug), w.Ug = null) }, this.Ve = {}; var _ = w.Ve; _.active = !1, _.start = null, _.timeout = null, _.startcell = null, _.relativeCoords = function (e) { return _.Vg(e) }, _.startResizing = function (e, t, n) { _.we(e, t, n) }, _.startMoving = function (e, t) { _.je(e, t) }, this.Ve.hg = function (e) { var t, n; e.touches ? (t = e.touches[0].pageX, n = e.touches[0].pageY) : (t = e.pageX, n = e.pageY); var i = DayPilot.abs(w.nav.main), a = { x: t - i.x, y: n - i.y }, r = w.nav.main.clientWidth / w.Kb.length, o = Math.floor(a.y / w.cellHeight); return o = DayPilot.Util.atLeast(0, o), o = DayPilot.Util.atMost(w.Vb() - 1, o), { "pageX": t, "pageY": n, "x": Math.floor(a.x / r), "y": o, "toString": function () { return "x: " + this.x + " y:" + this.y } } }, this.Ve.Wg = function (e) { _.startcell = e, w.clearSelection(), w.coords = e, v.selecting = { "calendar": w, "start": e }; var t = v.selecting; t.start.time = w.tc(e.x, e.y), t.start.columnIndex = w.Jb(e.x), t.start.column = w.Kb[t.start.columnIndex], w.Qc(), w.Rc() }, this.Ve.Xg = function (e) { w.coords = e; var t = v.selecting, n = (w.Jb(t.start.x), Math.floor(w.coords.y / w.cellHeight)); n = DayPilot.Util.atLeast(0, n), t.origin = "drag", w.Qc(), t.last && t.last.startTime === t.startTime && t.last.endTime === t.endTime || (t.last = { "startTime": t.startTime, "endTime": t.endTime }, w.Rc()) }, this.Ve.detected = !1, this.Ve.lf = function (e) { if (!s(e) && !_.start) { var t = _.Vg(e); if (w.coords = t, !(t.x < 0 || (_.start = !0, _.detected = !0, _.active || e.touches.length > 1))) { _.using = !0, _.startCoords = t; var n = w.tapAndHoldTimeout; _.timeout = window.setTimeout(function () { switch (e.preventDefault(), _.active = !0, _.start = !1, w.timeRangeTapAndHoldHandling) { case "Select": _.Wg(t); break; case "ContextMenu": _.Wg(t), _.active = !1, w.contextMenuSelection && w.contextMenuSelection.show(w.getSelection()) } }, n) } } }, this.Ve.Yg = function (e) { }, this.Ve.Qf = function (e) { if (!_.active) return window.clearTimeout(_.timeout), void (_.start && !function (e) { if ("Disabled" !== w.timeRangeSelectedHandling) { if (!w.Pc(w.coords)) { var t = v.selecting = {}; t.start = w.coords, t.start.time = w.tc(w.coords.x, w.coords.y), t.start.columnIndex = w.Jb(w.coords.x), t.start.column = w.Kb[t.start.columnIndex], w.Qc(), w.Ea = t, v.selecting = null, w.Rc(t) } var n = w.getSelection(); n.toString = function () { return "start: " + this.start + "\nend: " + this.end }, setTimeout(function () { w.Fc(n.start, n.end, n.resource) }, 10) } }(this)); e.preventDefault(), e.stopPropagation(), _.startcell = null, _.start = !1; var t = v.selecting; v.selecting = null, w.Ea = t; var n = w.getSelection(); n.toString = function () { return "start: " + this.start + "\nend: " + this.end }, w.Fc(n.start, n.end, n.resource), window.setTimeout(function () { _.active = !1 }, 500) }, this.Ve.je = function (e, t) { v.moving = e; var n = v.moving.helper = {}; n.oldColumn = w.Kb[e.event.part.dayIndex].id, m.Xf = t, m.gg = this.offsetTop; var i = DayPilot.abs(e); if (m.moveOffsetY = t.y - i.y, function () { var t = w.coords, i = w.tc(t.x, t.y); n.Yf = i.getTime() - e.event.start().getTime() }(), m.movingShadow || (m.movingShadow = w.Ib(v.moving, !0), m.movingShadow.style.width = m.movingShadow.parentNode.offsetWidth + 1 + "px"), w.va) { m.movingShadow.style.display = "none"; var a = w.rc(e.event, w.coords, n.Yf); w.Xc(e.event, a) } }, this.Ve.we = function (e, t, n) { v.resizing = e, e.dpBorder = t, m.Xf = n, m.fg = e.offsetHeight, m.gg = e.offsetTop }, this.Ve.Zg = function (e) { w.Wf(e) }, this.Ve.$g = function () { var e = w.coords, t = w.cellHeight, n = 0, i = m.moveOffsetY; i || (i = t / 2); var a = Math.floor((e.y - i - n + t / 2) / t) * t + n; a < n && (a = n); var r = (w.nav.main, w.Qe()), o = parseInt(m.movingShadow.style.height); a + o > r && (a = r - o), m.movingShadow.style.top = a + "px", m.movingShadow.allowed = !0; var s = w.Jb(w.coords.x); s < 0 && (s = 0); var l = w.nav.events; if (s < l.rows[0].cells.length && s >= 0 && m.movingShadow.column !== s && (m.movingShadow.column = s, m.moveShadow(l.rows[0].cells[s])), w.va) { var d = v.moving.event, c = v.moving.helper.Yf, u = w.rc(d, w.coords, c); m.movingShadow.style.display = "none", w.Xc(d, u), w.xc = u } }, this.Ve.onEventTouchStart = function (e) { if (!_.active && !s(e)) { _.preventEventTap = !1, _.using = !0, _.start = !0, _.startCoords = _.hg(e); var t = this, n = e.touches ? e.touches[0].pageX : e.pageX, i = e.touches ? e.touches[0].pageY : e.pageY, a = { x: n, y: i, div: this }; w.coords = _.Vg(e); var r = w.tapAndHoldTimeout; _.timeout = window.setTimeout(function () { var n = t.event; switch (_.active = !0, _.start = !1, w.eventTapAndHoldHandling) { case "Move": n.client.moveEnabled() && _.je(t, a); break; case "ContextMenu": var i = n.client.contextMenu(); DayPilot.Menu && DayPilot.Menu.touchPosition(e), i ? i.show(n) : w.contextMenu && w.contextMenu.show(n) } }, r) } }, this.Ve.mf = function (e) { if (!s(e)) { if (_.start = !1, _.timeout) { var t = _.hg(e); t && _.startCoords && (t.pageX === _.startCoords.pageX && t.pageY === _.startCoords.pageY || window.clearTimeout(w.Ve.timeout)) } if (v.moving && m.movingShadow) return e.preventDefault(), w.coords = _.Vg(e), _.$g(), void w.ag(_.Vg(e)); if (v.resizing) { e.preventDefault(); var n = e.touches ? e.touches[0] : e, t = { x: n.pageX, y: n.pageY }; return _.Zg(t), void w.ag(_.Vg(e)) } if (_.startcell) { if (e.preventDefault(), !_.active) return void window.clearTimeout(_.timeout); var t = _.Vg(e); _.Xg(t), w.ag(_.Vg(e)) } _.preventEventTap = !0 } }, this.Ve.Vg = function (e) { var t = w.nav.main, n = e.touches ? e.touches[0].pageX : e.pageX, i = e.touches ? e.touches[0].pageY : e.pageY, a = DayPilot.abs(t); return { x: n - a.x, y: i - a.y, "toString": function () { return "x: " + this.x + ", y:" + this.y } } }, this.Ve.nf = function (e) { if (!s(e)) if (v.moving) { _.active = !1, e.preventDefault(), e.stopPropagation(); var t = m.movingShadow.offsetTop, n = v.moving.event, i = n.calendar; i.$c(m.movingShadow); var a = m.movingShadow.column, r = m.movingShadow; if (o(v.moving, i.da("_event_moving_source")), v.moving = null, m.movingShadow = null, !r.allowed) return void i.yc(); n.calendar.wc(n, a, t, e, m.drag) } else if (_.startcell) { if (!_.active) return void window.clearTimeout(_.timeout); e.preventDefault(), _.startcell = null; var l = i.getSelection(); l.toString = function () { return "start: " + this.start + "\nend: " + this.end }, i.Fc(l.start, l.end, l.resource), window.setTimeout(function () { _.active = !1 }, 500) } }, this.Ve.onEventTouchMove = function (e) { _.preventEventTap = !0 }, this.Ve.onEventTouchEnd = function (e) { if (!s(e)) { if (!_.active) { if (_.preventEventTap) return; return e.preventDefault(), window.clearTimeout(_.timeout), void w.Xb(this, e) } return _.active = !1, _.timeout ? void window.clearTimeout(_.timeout) : void 0 } }, this.Se = function (e) { var t = 5, n = 10, i = "Top" === w.moveBy; if ("undefined" != typeof m) { var a = DayPilot.mo3(this, e); if (a) { w.eventOffset = a; var o = this; if (o.active || r(o, w.da("_event_hover")), !v.resizing && !v.moving) { var s = this.isFirst, l = this.isLast; if ("Disabled" !== w.moveBy && "None" !== w.moveBy && (!i && a.x <= n && this.event.client.moveEnabled() ? s ? this.style.cursor = "move" : this.style.cursor = "not-allowed" : !i && a.y <= t && this.event.client.resizeEnabled() ? s ? (this.style.cursor = "n-resize", this.dpBorder = "top") : this.style.cursor = "not-allowed" : i && a.y <= n && this.event.client.moveEnabled() ? this.style.cursor = "move" : this.offsetHeight - a.y <= t && this.event.client.resizeEnabled() ? l ? (this.style.cursor = "s-resize", this.dpBorder = "bottom") : this.style.cursor = "not-allowed" : v.resizing || v.moving || (this.event.client.clickEnabled() ? this.style.cursor = "pointer" : this.style.cursor = "default"), "undefined" != typeof DayPilot.Bubble && w.bubble && "Disabled" !== w.eventHoverHandling && ("default" === this.style.cursor || "pointer" === this.style.cursor))) { this._g && a.x === this._g.x && a.y === this._g.y || (this._g = a, w.bubble.showEvent(this.event)) } } } } }, this.Te = function (e) { o(this, w.da("_event_hover")), w.bubble && w.bubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this, e) }, this.ah = function () { var e = w.nav; w.rtl ? (e.top.style.direction = "rtl", e.bottomLeft.style.cssFloat = "right", e.upperLeft.style.cssFloat = "right", this.showHours && (e.bottomRight.style.marginRight = w.hourWidth + "px", e.upperRight.style.marginRight = this.hourWidth + "px"), e.bottomRight.style.marginLeft = "0px", e.upperRight.style.marginLeft = "0px") : (e.top.style.direction = "", e.bottomLeft.style.cssFloat = "left", e.upperLeft.style.cssFloat = "left", this.showHours && (e.upperRight.style.marginLeft = this.hourWidth + "px", e.bottomRight.style.marginLeft = w.hourWidth + "px"), e.upperRight.style.marginRight = "0px", e.bottomRight.style.marginRight = "0px"); var t = w.nav.events, n = w.pf(); t.parentNode.replaceChild(n, t) }, this.bh = null, this.Bb = function () { if (this.showCurrentTime) { this.ch(); var e = (new DayPilot.Date).addMinutes(w.showCurrentTimeOffset); if ("Full" === w.showCurrentTimeMode) this.dh(e); else { if ("Day" !== w.showCurrentTimeMode) throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: " + w.showCurrentTimeMode); this.eh(e) } if (this.nav.events && !this.bh) { this.bh = setTimeout(function () { w.bh = null, w.Bb() }, 3e4) } } }, this.ch = function () { p(w.elements.separators), w.elements.separators = [] }, this.eh = function (e) { var n = e.getTime(), i = w.nav.events; if (i) for (var a = 0; a < w.Kb.length; a++) { var r = w.Kb[a], o = w.Nb(!0), s = new DayPilot.Date(r.start).addHours(this.Rb(!0)), l = s.getTime(), d = s.addTime(o), c = d.getTime(); if (l <= n && n <= c) { var u = this.sc(e, r.start).top - 1 - w.Wc(), h = i.rows[0].cells[a], f = h.separators, v = t(); v.style.position = "absolute", v.style.top = u + "px", v.style.height = "1px", v.style.left = "0px", v.style.right = "0px", v.className = w.da("_now"), f.insertBefore(v, f.firstChild), w.elements.separators.push(v) } } }, this.dh = function (e) { var n = e.getTime(); if (w.nav.events) { var i = w.Kb[0]; if (i) for (var a = i.start.getDatePart().addTime(e.getTimePart()), r = this.sc(a, i.start).top - 1, o = 0; o < w.Kb.length; o++) { var i = w.Kb[o], s = w.Nb(!0), l = new DayPilot.Date(i.start).addHours(this.Rb(!0)), d = l.getTime(), c = l.addTime(s), u = c.getTime(); if (d <= n && n <= u) { var h = t(); return h.style.position = "absolute", h.style.top = r + "px", h.style.height = "1px", h.style.left = "0px", h.style.right = "0px", h.className = w.da("_now"), w.nav.events.appendChild(h), void w.elements.separators.push(h) } } } }, this.qb = function (e, t) { if (e ? this.events.list = e : e = this.events.list, e) { var n = t && t.preloadOnly; this.Fe = {}, this.Fe.events = [], this.Fe.lines = []; var i = e.length, a = this.Nb(!0); this.wa.pixels = {}, this.wa.Xe = []; var r = []; this.md = [], this.jc = 1e4, this.Qb = 0, this.startDate = new DayPilot.Date(this.startDate); for (var o = 0; o < i; o++) { var s = e[o]; if ("object" != typeof s) throw new DayPilot.Exception("Event data item must be an object"); if (!s.start) throw new DayPilot.Exception("Event data item must specify 'start' property") } if (!n && ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd)) for (var o = 0; o < i; o++)this.Kg(o); for (var l = "Resources" === this.viewType, d = this.Qd(), c = d.start, u = d.end, o = 0; o < this.Kb.length; o++) { var h = {}; h.minEnd = 1e6, h.maxStart = -1, this.md.push(h); var f = this.Kb[o]; f.events = [], f.lines = [], f.blocks = []; var v = new DayPilot.Date(f.start).addHours(this.Rb(!0)), p = v.getTime(), m = v.addTime(a), g = m.getTime(); l && (c = v.getDatePart(), u = v.addDays(w.days)); for (var y = 0; y < i; y++)if (!r[y]) { var s = e[y], b = null; if (n || "function" != typeof w.onBeforeEventRender || (b = w.wa.events[y]), b) { if (b.hidden) continue } else if (s.hidden) continue; var x = new DayPilot.Date(s.start), k = new DayPilot.Date(s.end), C = x.getTime(), _ = k.getTime(); if (!(_ < C)) if (s.allday) { var S = !1; if (S = C === _ ? !(_ < c.getTime() || C >= u.getTime()) : "Date" === w.allDayEnd ? !(_ < c.getTime() || C >= u.getTime()) : !(_ <= c.getTime() || C >= u.getTime()), l && (S = S && (s.resource === f.id || "*" === f.id)), S) { var T = new DayPilot.Event(s, this); if (T.part.start = c.getTime() < C ? x : c, T.part.end = u.getTime() > _ ? k : u, T.part.colStart = DayPilot.DateUtil.daysDiff(c, T.part.start), T.part.colWidth = DayPilot.DateUtil.daysSpan(T.part.start, T.part.end) + 1, l && (T.part.colStart = o, T.part.colWidth = 1), "function" == typeof w.onEventFilter && w.events.fh) { var D = {}; if (D.filter = w.events.fh, D.filterParam = D.filter, D.visible = !0, D.e = T, w.onEventFilter(D), !D.visible) continue } this.Fe.events.push(T), n || ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd) && (T.cache = this.wa.events[y]), r[y] = !0, !l || T.part.start.getTime() === C && T.part.end.getTime() === _ || (r[y] = !1) } } else { var b = null; if (n || "function" != typeof w.onBeforeEventRender || (b = w.wa.events[y]), b) { if (b.hidden) continue } else if (s.hidden) continue; var S = !1; if (S = l ? f.id === s.resource && !(_ <= p || C >= g) : !(_ <= p || C >= g) || _ === C && C === p) { var T = new DayPilot.Event(s, w); T.part.dayIndex = o, T.part.start = p < C ? x : v, T.part.end = g > _ ? k : m; var A = this.sc(T.part.start, f.start), H = this.sc(T.part.end, f.start), M = A.top, R = H.top; if (M === R && (A.cut || H.cut)) continue; T.part.box = E.gh(_ - C); var B = 0; if (T.part.box) { var N = H.boxBottom; T.part.top = Math.floor(M / this.cellHeight) * this.cellHeight + B + 1, T.part.height = Math.max(Math.ceil(N / this.cellHeight) * this.cellHeight - T.part.top, this.cellHeight - 1) + 1, T.part.barTop = Math.max(M - T.part.top - 1, 0), T.part.barHeight = Math.max(R - M - 2, 1) } else T.part.top = M + B, T.part.height = Math.max(R - M, 0), T.part.barTop = 0, T.part.barHeight = Math.max(R - M - 2, 1); if ("function" == typeof w.onEventFilter && w.events.fh) { var D = {}; if (D.filter = w.events.fh, D.filterParam = D.filter, D.visible = !0, D.e = T, w.onEventFilter(D), !D.visible) continue } var x = T.part.top, k = T.part.top + T.part.height; x > h.maxStart && (h.maxStart = x), k < h.minEnd && (h.minEnd = k), x < this.jc && (this.jc = x), k > this.Qb && (this.Qb = k), f.events.push(T), n || ("function" == typeof this.onBeforeEventRender || w.showEventStartEnd) && (T.cache = this.wa.events[y]), T.part.start.getTime() === C && T.part.end.getTime() === _ && (r[y] = !0), l && (r[y] = !1), w.wa.Xe.push(T) } } } } for (var o = 0; o < this.Kb.length; o++) { var f = this.Kb[o]; f.events.sort(this.hh); for (var y = 0; y < f.events.length; y++) { var s = f.events[y]; f.$d(s) } for (var y = 0; y < f.blocks.length; y++) { var P = f.blocks[y]; P.events.sort(this.ih); for (var L = 0; L < P.events.length; L++) { var s = P.events[L]; P.ae(s) } } } this.Fe.events.sort(this.ih), this.Fe.ae = function (e) { for (var t = 0; t < this.lines.length; t++) { var n = this.lines[t]; if (n.be(e.part.colStart, e.part.colWidth)) return n.push(e), t } var n = []; return n.be = function (e, t) { for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) { var r = this[a]; if (!(n < r.part.colStart || e > r.part.colStart + r.part.colWidth - 1)) return !1 } return !0 }, n.push(e), this.lines.push(n), this.lines.length - 1 }; for (var o = 0; o < this.Fe.events.length; o++) { var s = this.Fe.events[o]; this.Fe.ae(s) } var I = Math.max(this.Fe.lines.length, 1); this.wa.allDayHeaderHeight = I * (E.Ge() + 2) + 2 } }, this.hh = function (e, t) { if (!(e && t && e.start && t.start)) return 0; var n = e.start().ticks - t.start().ticks; return 0 !== n ? n : t.end().ticks - e.end().ticks }, this.ih = function (e, t) { if (!e || !t) return 0; if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return w.hh(e, t); for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i];)n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : w.jh(e.data.sort[i], t.data.sort[i], w.sortDirections[i]), i++; return n }, this.jh = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t) return 0; if (null === t) return r; if (null === e) return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r }, this.kh = function (e) { for (var t = 0; t < w.elements.events.length; t++) { var n = w.elements.events[t]; if (n.event === e || n.event.data === e.data) return n } return null }, this.events.find = function (e) { if (!w.events.list || "undefined" == typeof w.events.list.length) return null; if ("function" == typeof e) { for (var t = e, n = 0; n < w.events.list.length; n++) { var i = new DayPilot.Event(w.events.list[n], w); if (t(i)) return i } return null } for (var a = w.events.list.length, n = 0; n < a; n++)if (w.events.list[n].id === e) return new DayPilot.Event(w.events.list[n], w); return null }, this.events.findRecurrent = function (e, t) { if (!w.events.list || "undefined" == typeof w.events.list.length) return null; for (var n = w.events.list.length, i = 0; i < n; i++)if (w.events.list[i].recurrentMasterId === e && w.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(w.events.list[i], w); return null }, this.events.all = function () { for (var e = [], t = 0; t < w.events.list.length; t++) { var n = new DayPilot.Event(w.events.list[t], w); e.push(n) } return f(e) }, this.events.edit = function (e) { function t() { var t = w.kh(e); t && w.Yb(t) } t() }, this.events.update = function (e, t) { if ("object" == typeof e && !(e instanceof DayPilot.Event)) { var n = w.events.find(e.id); if (!n) throw new DayPilot.Exception("The event to be updated was not found"); var i = DayPilot.indexOf(w.events.list, n.data); return w.events.list.splice(i, 1, e), n.data = e, void w.events.update(n) } var a = {}; a.oldEvent = new DayPilot.Event(e.copy(), w), a.newEvent = new DayPilot.Event(e.temp(), w); var r = new DayPilot.Action(w, "EventUpdate", a, t); return e.commit(), w.Aa && w.Jd({ "eventsOnly": !0 }), w.lh.notify(), r }, this.events.remove = function (e, t) { if ("string" == typeof e || "number" == typeof e) { var n = e, i = w.events.find(n); if (!i) throw new DayPilot.Exception("The event to be removed was not found"); return void w.events.remove(i) } var a = {}; a.e = new DayPilot.Event(e.data, w); var r = new DayPilot.Action(w, "EventRemove", a, t), o = DayPilot.indexOf(w.events.list, e.data); return w.events.list.splice(o, 1), w.Aa && w.Jd({ "eventsOnly": !0 }), w.lh.notify(), r }, this.events.add = function (e, t) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = w, w.events.list || (w.events.list = []), w.events.list.push(e.data); var n = {}; n.e = e; var i = new DayPilot.Action(w, "EventAdd", n, t); return w.Aa && w.Jd({ "eventsOnly": !0 }), w.lh.notify(), i }, this.events.filter = function (e) { w.events.fh = e, w.Jd({ "eventsOnly": !0 }) }, this.events.load = function (e, t, n) { var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, a = function (e) { var n, a = e.request; try { n = JSON.parse(a.responseText) } catch (e) { var r = {}; return r.exception = e, void i(r) } if (DayPilot.isArray(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; w.events.list = n, w.Aa && w.Jd({ "eventsOnly": !0 }) } }; if (w.eventsLoadMethod && "POST" === w.eventsLoadMethod.toUpperCase()) DayPilot.ajax({ "method": "POST", "data": { "start": w.visibleStart().toString(), "end": w.visibleEnd().toString() }, "url": e, "success": a, "error": i }); else { var r = e, o = "start=" + w.visibleStart().toString() + "&end=" + w.visibleEnd().toString(); r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({ "method": "GET", "url": r, "success": a, "error": i }) } }, this.events.forRange = function (e, t) { return e = new DayPilot.Date(e), t = new DayPilot.Date(t), f(w.events.list).filter(function (n) { return h(e, t, new DayPilot.Date(n.start), new DayPilot.Date(n.end)) }).map(function (e) { return new DayPilot.Event(e, w) }) }, this.events.Uc = function (e) { if (!e) throw new DayPilot.Exception("Error checking overlap for null (internal error)"); var t = e instanceof DayPilot.Event ? e.data : e, n = new DayPilot.Date(t.start), i = new DayPilot.Date(t.end); return !!f(w.events.list).find(function (e) { return !w.Gd(t, e) && (("Resources" != w.viewType || t.resource === e.resource) && (!e.allday && h(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end)))) }) }, this.Gd = function (e, t) { return DayPilot.Util.isSameEvent(e, t) }, this.X = {}, this.X.reactDOM = null, this.X.react = null, this.X.Je = function () { if (!w.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM") }, this.X.W = function (e, t) { var n = w.X.reactDOM; if ("function" == typeof n.createRoot) { var i = t.na; i || (i = n.createRoot(t), t.na = i), i.render(e) } else n.render(e, t) }, this.X.la = function (e) { var t = w.X.reactDOM; if ("function" == typeof t.createRoot) { var n = e.na; setTimeout(function () { n.unmount() }, 0) } else t.unmountComponentAtNode(e) }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) { if (!e.isAction) throw new DayPilot.Exception("DayPilot.Action object required for queue.add()"); w.queue.list.push(e) } }, this.queue.notify = function (e) { var t = {}; t.actions = w.queue.list, w.Ma("Notify", t, e, "Notify"), w.queue.list = [] }, this.queue.clear = function () { w.queue.list = [] }, this.queue.pop = function () { return w.queue.list.pop() }, this.Jd = function (e) { if (this.Aa && this.Kb) { var e = e || {}, t = !e.eventsOnly; w.Ga(), t ? (this.ka() || (w.cellProperties = {}), w.Ja.mh(), w.ah(), w.Va(), w.nh(), w.ob(), w.Sd(), w.qb(), w.sb(), w.tb(), w.rb(), w.ub(), w.vb(), w.Da(), w.wb(), w.Rc(), w.xb(), w.qf(), w.yb(), w.zb(), w.Ab(), w.oh(), w.Cb(), w.Db(), w.Bb(), w.Fb()) : (w.Va(), w.qb(), w.rb(), w.Cb(), w.Db(), w.Fb()), this.visible ? this.show() : this.hide() } }, this.update = function (e) { if (!w.Aa) throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet."); if (w.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed."); if (!w.Aa) return void w.ph(e); if (DayPilot.Util.isOnlyProperty(e, "events")) return w.events.list = e.events, void w.Jd({ "eventsOnly": !0 }); if (this.ph(e), this.Jd(), "function" == typeof w.onAfterRender) { var t = {}; t.isUpdate = !0, t.data = null, w.onAfterRender(t) } }, this.oh = function () { var e = w.da("_main"); if (w.cssClass && (e += " " + w.cssClass), w.rtl && (e += " " + w.da("_direction_rtl")), w.nav.top.className !== e) { w.nav.top.className = e; var t = w.nav.corner; t.className = w.da("_corner"), t.firstChild.className = w.da("_corner_inner"); var n = w.nav.unifiedCornerRight; n && (n.firstChild.className = w.da("_cornerright"), n.firstChild.firstChild.className = w.da("_cornerright_inner")) } }, this.show = function () { w.visible = !0, w.nav.top.style.display = "", w.Eb(), w.dd() }, this.hide = function () { w.visible = !1, w.nav.top.style.display = "none" }, this.lh = {}, this.lh.scope = null, this.lh.notify = function () { w.lh.scope && w.lh.scope["$apply"]() }, this.debug = new DayPilot.Debug(this), this.Jb = function (e) { if (e < 0) return 0; w.rtl && (e = w.nav.main.offsetWidth - e); for (var t = 0, n = w.nav.events.rows[0].cells, i = 0; i < n.length; i++) { if (t += n[i].offsetWidth, e < t) return i } return n.length - 1 }, this.tc = function (e, t) { e = DayPilot.Util.atLeast(e, 0); var n = this.Jb(e), i = t / (60 / E.Lb()) / w.cellHeight, a = 60 * i * 60 * 1e3, r = 6e4 * Math.floor(a / 6e4), o = r, s = this.Kb[n]; if (!s) return null; var l = s.start.addTime(o); return l = l.addHours(w.Rb()) }, this.uc = function (e, t) { var n = e.getTime(); t && (n -= t.getTime()); var i = 60 * E.Lb() * 1e3, a = n % i; return e.addTime(-a) }, this.eg = function (e, t) { var n = this.uc(e, t); return n.getTime() === e.getTime() ? n : n.addTime(60 * E.Lb() * 1e3) }, this.sc = function (e, t) { t || (t = this.startDate); var n = t.getTime(), i = e.getTime(), a = this.wa.pixels[i + "_" + n]; if (a) return a; var r = this.Rb(!0); n = t.addHours(r).getTime(); var o = 60 * E.Lb() * 1e3, s = i - n, l = s % o, d = s - l, c = d + o; 0 === l && (c = d); var u = {}; return u.cut = !1, u.top = this.Sf(s), u.boxTop = this.Sf(d), u.boxBottom = this.Sf(c), u.boxStart = t.addHours(r).addTime(d), u.boxEnd = t.addHours(r).addTime(c), this.wa.pixels[i + "_" + n] = u, u }, this.Sf = function (e) { return Math.floor(this.cellHeight * e / (6e4 * E.Lb())) }, this.nh = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.Cf = E.Ge() + 4 }, this.rb = function () { var e = this.Sb(), t = this.af(); if (this.nav.corner && (this.nav.corner.style.height = e + "px"), this.nav.cornerRight && (this.nav.cornerRight.style.height = e + "px"), this.nav.mid && (this.nav.mid.style.height = e + "px"), this.showAllDayEvents && this.nav.header) for (var n = this.nav.header.rows[this.nav.header.rows.length - 1], i = 0; i < n.cells.length; i++) { var a = n.cells[i]; a.firstChild.style.height = E.Cf() + "px" } this.nav.upperRight && (this.nav.upperRight.style.height = e + "px"), this.nav.scroll.style.top = e + "px", this.nav.top.style.height = t + "px" }, this.yb = function () { var e = this.bf(); this.nav.scroll && e > 0 && (this.nav.scroll.style.height = e + "px", this.gd = w.nav.scroll.clientHeight, this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + "px"), this.nav.bottomRight && (this.nav.bottomRight.style.height = e + "px")), this.nav.top && ("Parent100Pct" === this.heightSpec ? this.nav.top.style.height = "100%" : this.nav.top.style.height = this.af() + "px") }, this.setHeight = function (e) { "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - this.Sb(), this.yb() }, this.qh = function (e) { var n = t(); n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.className = this.da(e), document.body.appendChild(n); var i = n.offsetHeight, a = n.offsetWidth; document.body.removeChild(n); var r = {}; return r.height = i, r.width = a, r }, this.Ja = {}; var E = this.Ja; E.ed = function () { return w.Ag ? "Fixed" : w.columnWidthSpec }, E.te = function () { return "Disabled" !== w.columnResizeHandling }, E.ge = function () { return "Disabled" !== w.columnMoveHandling }, E.De = function (e) { return w.columnResizeHandling === e }, E.se = function (e) { return w.columnMoveHandling === e }, E.Ia = function () { return "Disabled" !== w.xssProtection }, E.Tc = function () { return DayPilot.Locale.find(w.locale) }, E.Rd = function () { return "number" == typeof w.weekStarts ? w.weekStarts : E.Tc().weekStarts }, E.Sc = function () { return "Auto" !== w.timeFormat ? w.timeFormat : E.Tc().timeFormat }, E.gh = function (e) { return "Always" === w.useEventBoxes || "Never" !== w.useEventBoxes && e < 60 * E.Lb() * 1e3 }, E.ic = function () { var e; if ("Immediate" === w.notifyCommit) e = "Notify"; else { if ("Queue" !== w.notifyCommit) throw new DayPilot.Exception("Invalid notifyCommit value: " + w.notifyCommit); e = "Queue" } return e }, E.Od = function () { return "Auto" === w.headerLevels ? w.Kd + 1 : w.headerLevels }, E.mh = function () { delete w.wa.allDayEventHeight, delete w.wa.allDayHeaderHeight, delete w.wa.headerHeight }, E.Ge = function () { if (w.wa.allDayEventHeight) return w.wa.allDayEventHeight; var e = w.allDayEventHeight; return w.wa.allDayEventHeight = e, e }, E.Cf = function () { if (w.wa.allDayHeaderHeight) return w.wa.allDayHeaderHeight; var e = w.Cf; return w.wa.allDayHeaderHeight = e, e }, E.mg = function (e) { var t = w.headerLevelHeights; if (t && "number" == typeof t[e]) return t[e]; if (w.wa.headerHeight) return w.wa.headerHeight; var n = w.headerHeight; return w.wa.headerHeight = n, n }, E.Df = function (e) { for (var t = 0, n = 0; n < e; n++)t += E.mg(n); return t }, E.vf = function () { if ("Auto" === w.timeHeaderCellDuration) return E.Lb() <= 60 ? 60 : E.Lb(); if ("number" == typeof w.timeHeaderCellDuration) return w.timeHeaderCellDuration; throw new DayPilot.Exception("Invalid timeHeaderCellDuration value: " + w.timeHeaderCellDuration) }, E.Lb = function () { switch (w.scale) { case "CellDuration": return w.cellDuration; case "Minute": return 1; case "Hour": return 60; case "Day": return 1440; case "Week": return "Resources" !== w.viewType ? w.cellDuration : 10080; default: throw new DayPilot.Exception("Invalid scale value: " + w.scale) } }, this.exportAs = function (e, t) { if (!w.vg()) throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export."); var n = S.rh(e, t); return new DayPilot.Export(n) }, this.uh = {}; var S = this.uh; S.B = null, S.vh = null, S.rh = function (e, t) {
                "object" == typeof e && (t = e, e = null); var t = t || {}, e = e || t.format || "svg", n = t.scale || 1; if ("config" !== e) {
                    "jpg" === e.toLowerCase() && (e = "jpeg"); var i = t.area || "viewport"; S.B = t, S.vh = i; var a, o = S.wh(), s = S.xh(); switch (e.toLowerCase()) { case "svg": a = new DayPilot.Svg(o, s); break; case "png": a = new DayPilot.Canvas(o, s, "image/png", n); break; case "jpeg": a = new DayPilot.Canvas(o, s, "image/jpeg", n, t.quality); break; default: throw new DayPilot.Exception("Export format not supported: " + e) }var d = S.yh(), c = new DayPilot.StyleReader(w.nav.top).getBackColor(), u = new DayPilot.StyleReader(w.nav.top).get("border-top-color"); "0px" !== new DayPilot.StyleReader(w.nav.top).get("border-top-width") || (u = "white");
                    var h = new DayPilot.StyleReader(w.nav.corner.firstChild).getBackColor(c), v = w.nav.hourTable.rows[0].cells[0].firstChild.firstChild, m = v.getElementsByClassName(w.da("_rowheader_minutes"))[0], g = new DayPilot.StyleReader(v).get("border-right-color"), y = new DayPilot.StyleReader(v).getBackColor(c), b = new DayPilot.StyleReader(v).getFont(), x = b, k = 0; m && (x = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getFont() || x, k = new DayPilot.StyleReader(v.firstChild.childNodes[1]).getPx("padding-right") || k); var C = new DayPilot.StyleReader(v).get("color"), _ = w.nav.header.rows[0].cells[0].firstChild.firstChild, T = new DayPilot.StyleReader(_).getBackColor(c), D = new DayPilot.StyleReader(_).getFont(), A = new DayPilot.StyleReader(_).get("color"), H = new DayPilot.StyleReader(_).get("border-right-color"), M = w.nav.header.rows[w.nav.header.rows.length - 1].cells[0].firstChild, R = M.firstChild, B = new DayPilot.StyleReader(M).getBackColor(c), N = new DayPilot.StyleReader(R).getBackColor(B), P = w.nav.main.rows[0].cells[0].firstChild.firstChild, L = new DayPilot.StyleReader(P).get("border-right-color"), P = S.zh(), I = new DayPilot.StyleReader(P.firstChild).getBackColor(); r(P, w.da("_cell_business")); var z = new DayPilot.StyleReader(P.firstChild).getBackColor(); p(P); var U = S.Ah(), O = 0; O = "Fixed" === E.ed() ? w.columnWidth : d.gridContent.w / w.Kb.length, a.fillRect(d.main, "white"), a.fillRect(d.main, c); var j = d.corner.h - U; DayPilot.list.for(w.tf(), function (e) { return w.zf(e) }).forEach(function (e) { var t = w.wf(), n = e.hour, i = e.sup, r = e.text ? e.text : n, o = 0; m && (o = 20); var s = { "x": 0, "y": j, "w": d.grid.x + 1, "h": t + 1 }, l = { "x": 0, "y": j, "w": d.grid.x + 1 - o, "h": t + 1 }, c = { "x": l.w, "y": j, "w": o - k - 1, "h": t + 1 }, u = y; a.fillRect(s, u), a.text(l, r, b, C, "right"), m && a.text(c, i, x, C, "right"), a.rect(s, g), j += t }); var W = 60 * E.Lb() * 1e3, q = d.grid.x; f(w.Kb).forEach(function (e, t) { var n = O, i = d.grid.y - U; DayPilot.list.for(w.Vb()).forEach(function (o, s) { var d = w.Pf(t, s) || {}, c = null; if (d.cssClass) { var u = S.zh(); r(u, d.cssClass), c = new DayPilot.StyleReader(u.firstChild).getBackColor(), p(u) } var h = w.cellHeight, f = { "x": q, "y": i, "w": n + 1, "h": h + 1 }, v = d.business, m = {}; m.cell = {}, m.cell.start = e.start.addTime(s * W).addHours(w.Rb()), m.cell.end = m.cell.start.addTime(W), m.cell.resource = e.id, l(d, m.cell, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business"]), m.backColor = c || (v ? z : I), "function" == typeof w.onBeforeCellExport && w.onBeforeCellExport(m), a.fillRect(f, m.backColor), a.rect(f, L), i += h }), q += n }); var F = d.grid.x; f(w.Kb).forEach(function (e) { f(e.events).forEach(function (e) { var t = e.cache || e.data, n = S.Bh(); n.className += " " + t.cssClass; var i = n.firstChild, r = n.childNodes[1], o = new DayPilot.StyleReader(i).getBackColor(), s = new DayPilot.StyleReader(i.firstChild).getBackColor(), c = new DayPilot.StyleReader(i.firstChild).getPx("width"), u = new DayPilot.StyleReader(r).get("border-right-color"), h = new DayPilot.StyleReader(r).getFont(), v = new DayPilot.StyleReader(r).get("color"), m = new DayPilot.StyleReader(r).getBackColor(), g = {}; g.left = new DayPilot.StyleReader(r).getPx("padding-left"), g.right = new DayPilot.StyleReader(r).getPx("padding-right"), g.top = new DayPilot.StyleReader(r).getPx("padding-top"), g.bottom = new DayPilot.StyleReader(r).getPx("padding-bottom"), p(n); var y = F + O * e.part.left / 100, b = (O - w.columnMarginRight - w.columnMarginLeft) * e.part.width / 100, x = e.part.top + d.grid.y - w.Wc() - U, k = e.part.height, C = t.backColor || m, _ = t.barColor || s, E = t.barBackColor || o, T = t.borderColor || u, D = {}; D.e = e, D.text = e.text ? e.text() : e.client.html(), D.fontSize = h.size, D.fontFamily = h.family, D.fontStyle = h.style, D.fontColor = v, D.backColor = C, D.borderColor = T, D.horizontalAlignment = "left", D.barWidth = c, D.barColor = _, D.barBackColor = E, "function" == typeof w.onBeforeEventExport && w.onBeforeEventExport(D); var A = { "x": y, "y": x, "w": b + 1, "h": k + 1 }, H = l(A), M = l(H); if (M.x += g.left, M.w -= g.left + g.right, M.y += g.top, M.h -= g.top + g.bottom, a.fillRect(A, D.backColor), e.client.barVisible()) { var R = { "x": A.x, "y": A.y, "w": D.barWidth, "h": A.h }, B = { "x": A.x, "y": A.y + 1 + e.part.barTop, "w": D.barWidth, "h": e.part.barHeight + 1 }; a.fillRect(R, D.barBackColor), a.fillRect(B, D.barColor) } a.text(M, D.text, { "size": D.fontSize, "family": D.fontFamily, "style": D.fontStyle }, D.fontColor, D.horizontalAlignment), a.rect(A, D.borderColor); var y = A.x, N = A.x + A.w - 2, x = A.y; f(t.areas).forEach(function (t) { if (DayPilot.Areas.isVisible(t)) { var n = t.left; t.start && (n = w.getPixels(new DayPilot.Date(t.start)).left - e.part.left); var i = t.width || t.w, r = t.height || t.h; n || (n = N - i - y), t.right ? i = e.part.width - t.right - n : t.end && (i = w.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1); var o = t.top; "number" == typeof t.bottom && (r = e.part.height - t.bottom - o); var s = { "x": y + n, "y": x + o, "w": i, "h": r }; if (t.backColor && a.fillRect(s, t.backColor), t.image) { var l = new Image; l.src = t.image, a.image(s, l) } else t.html && a.text(s, t.html, { "size": D.fontSize, "family": D.fontFamily, "style": D.fontStyle }, t.fontColor || D.fontColor, null, t.padding) } }) }), F += O }), a.fillRect(d.corner, h); var X = 1; return "Fixed" !== E.ed() && (X = d.gridContent.w / 100), DayPilot.list.for(E.Od()).forEach(function (e) { var t = d.gridContent.x, n = E.mg(e), i = w.Nd(e + 1), r = w.Ee(e); f(i).forEach(function (i, o) { var s = {}; s.text = DayPilot.Util.stripTags(i.html), s.horizontalAlignment = "center", s.verticalAlignment = "center", s.backColor = i.backColor || T, s.fontSize = D.size, s.fontFamily = D.family, s.fontStyle = D.style, s.fontColor = A, s.header = {}, s.header.level = e, l(i, s.header, ["id", "start", "name", "html", "backColor"]), "function" == typeof w.onBeforeHeaderExport && w.onBeforeHeaderExport(s); var d = 0 === r.length, c = d ? O : r[o].width * X, u = d ? t : t + r[o].left * X, h = E.mg(e), f = { "x": u, "y": n, "w": c + 1, "h": h + 1 }; a.fillRect(f, s.backColor), a.rect(f, H), a.text(f, s.text, { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment), d && (t += O) }) }), function () { if (w.showAllDayEvents) { var e = w.He(), t = d.gridContent.x; f(w.Kb).forEach(function (n) { var i = O, r = E.Cf(), o = { "x": t, "y": e, "w": i + 1, "h": r + 1 }; a.fillRect(o, N), a.rect(o, H), t += O }), f(w.Fe.lines).forEach(function (e, t) { f(e).forEach(function (e) { var n = S.Bh("alldayevent"); n.className += " " + e.data.cssClass; var i = n.firstChild, r = new DayPilot.StyleReader(i).get("border-right-color"), o = new DayPilot.StyleReader(i).getFont(), s = new DayPilot.StyleReader(i).get("color"), c = new DayPilot.StyleReader(i).getBackColor(), u = {}; u.left = new DayPilot.StyleReader(i).getPx("padding-left"), u.right = new DayPilot.StyleReader(i).getPx("padding-right"), u.top = new DayPilot.StyleReader(i).getPx("padding-top"), u.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"), p(n); var h = e.cache || e.data, v = h.backColor || c, m = h.borderColor || r, g = h.fontColor || s, y = {}; y.e = e, y.text = e.text ? e.text() : e.client.html(), y.fontSize = o.size, y.fontFamily = o.family, y.fontStyle = o.style, y.fontColor = g, y.backColor = v, y.borderColor = m, y.horizontalAlignment = "left", "function" == typeof w.onBeforeEventExport && w.onBeforeEventExport(y); var b = e.part.colStart * O + d.gridContent.x + 2, x = e.part.colWidth * O - 4, k = E.Ge() - 1, C = w.He() + t * E.Ge() + 2, _ = { "x": b, "y": C, "w": x, "h": k }, T = l(_); T.x += u.left, T.w -= u.left + u.right, T.y += u.top, T.h -= u.top + u.bottom, a.fillRect(_, y.backColor), a.text(T, y.text, { "size": y.fontSize, "family": y.fontFamily, "style": y.fontStyle }, y.fontColor, y.horizontalAlignment), a.rect(_, y.borderColor); var D = _.x + _.w - 2, A = x, H = k; f(h.areas).forEach(function (e) { if (DayPilot.Areas.isVisible(e)) { var t = e.left, n = e.width || e.w, i = e.height || e.h; t || (t = D - n - b), e.right && (n = A - e.right - t); var r = e.top; "number" == typeof e.bottom && (i = H - e.bottom - r); var o = { "x": b + t, "y": C + r, "w": n, "h": i }; if (e.backColor && a.fillRect(o, e.backColor), e.image) { var s = new Image; s.src = e.image, a.image(o, s) } else e.html && a.text(o, e.html, { "size": y.fontSize, "family": y.fontFamily, "style": y.fontStyle }, e.fontColor || y.fontColor, null, e.padding) } }) }) }) } }(), a.rect(d.main, u), a.line(d.grid.x, 0, d.grid.x, d.main.h, g), a.line(0, d.grid.y, d.main.w, d.grid.y, g), a
                }
            }, S.zh = function () { var e = t(); e.style.display = "none", e.className = w.da("_cell"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var n = t(); return n.className = w.da("_cell_inner"), e.appendChild(n), w.nav.bottomRight.appendChild(e), e }, S.Bh = function (e) { e = e || "event"; var n = t(); if (n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.style.display = "none", n.className = w.da("_" + e), "event" === e) { var i = t(); i.className = w.da("_event_bar"); var a = t(); a.className = w.da("_event_bar_inner"), i.appendChild(a), n.appendChild(i) } var r = t(); r.className = w.da("_" + e + "_inner"), n.appendChild(r); var o = w.nav.events.rows[0].cells[0].events; return "alldayevent" === e && (o = w.nav.allday), o.appendChild(n), n }, S.Ah = function () { switch (S.vh) { case "full": return 0; case "viewport": var e = w.fd(); return e.scrollTop; case "range": var e = w.fd(); return e.scrollTop } }, S.wh = function () { var e = S.vh, t = w.nav.top.clientWidth, n = t - w.hourWidth, i = w.Kb.length, a = Math.floor(n / i) * i + w.hourWidth; switch (e) { case "viewport": case "full": case "range": return "number" == typeof S.B.width ? S.B.width : a; default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, S.xh = function () { var e = S.vh; switch (e) { case "full": return w.Qe() + w.Sb(); case "viewport": return w.nav.top.offsetHeight - DayPilot.sh(w.nav.scroll) - 1; default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, S.yh = function () { var e = S.Ch(), t = w.Sb(), n = {}; n.main = { "x": 0, "y": 0, "w": S.wh(), "h": S.xh() }, n.corner = { "x": 0, "y": 0, "w": e, "h": t }, n.grid = { "x": e, "y": t, "w": S.wh() - e, "h": S.xh() - t }; var i = S.Dh(), a = w.Qe(); return n.gridContent = { "x": e, "y": t, "w": i, "h": a }, n }, S.Ch = function () { return w.hourWidth }, S.Dh = function () { var e = w.fd().offsetWidth, t = w.Kb.length; return Math.floor(e / t) * t }, this.Eh = function () { return !!this.backendUrl }, this.Fh = function () { if (this.id && this.id.tagName) this.nav.top = this.id; else { if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter"); if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '" + g + "'.") } (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) { r.push(s.charCodeAt(i) - 1); } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.Gh = function () { this.Fh(), this.nh(), this.ob(), this.cf(), this.sb(), this.tb(), this.wb(), this.oh(), this.zb(), this.ug(), this.Eg(), this.bb(), this.Ab(), m.Hh(this), this.Eb(), this.Bb(), this.wg(), this.Gb(), this.Ma("Init") }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fh(), this.nav.top.dp) { if (this.nav.top.dp === w) return w; if (this.Ra()) return w; throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.") } return this._e(), this.Eh() ? (this.Gh(), this.Aa = !0, this) : (this.nh(), this.ob(), this.pb(), this.events.list || (this.events.list = []), this.qb(), this.cf(), this.sb(), this.tb(), this.wb(), this.oh(), this.E(), this.Ab(), this.zb(), this.ug(), this.Eg(), this.bb(), m.Hh(this), this.rb(), this.Cb(), this.Db(), this.Eb(), this.messageHTML && window.setTimeout(function () { w.message(w.messageHTML) }, 0), this.Bb(), this.lb(null, !1), w.initEventEnabled && setTimeout(function () { w.Ma("Init") }), this.wg(), this.Gb(), this.Aa = !0, this.Ih(), this) }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? w.events.list = e.list : w.events.list = e) } }, "columns": { "preInit": function () { w.nb() === w.columns ? w.columns = this.data : w.columns.list = this.data } }, "scrollToHour": { "postInit": function () { "undefined" != typeof this.data && w.scrollToHour(this.data) } }, "zoom": { "preInit": function () { var e = this.data; if ("string" == typeof e) { var t = e; e = w.zoom.od(t) } var n = e !== w.zoom.active, i = w.zoom.pd(); w.zoom.qd(e); n ? this.hour = i : this.hour = null }, "postInit": function () { this.hour && w.scrollToHour(this.hour) } } }; this.Jh = t; for (var n in e) if (t[n]) { var i = t[n]; i.data = e[n], i.preInit && i.preInit() } else w[n] = e[n] } }, this.Ih = function () { var e = this.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } }, this.Z = {}, this.Z.Ke = null, this.Z._ = function (e, t, n) { var i = w.Z.Ke; if ("function" == typeof i.createVNode && "function" == typeof i.render) { var a = i.createVNode(e, n); i.render(a, t) } }, this.Z.Me = function (e, t) { var n = w.Z.Ke; if ("function" == typeof n.render) { var i = e; DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t) } }, this.Z.ma = function (e) { var t = w.Z.Ke; "function" == typeof t.render && t.render(null, e) }, this.internal = {}, this.internal.initialized = function () { return w.Aa }, this.internal.invokeEvent = this.hc, this.internal.eventMenuClick = this.Dc, this.internal.timeRangeMenuClick = this.Ec, this.internal.bubbleCallBack = this.Bc, this.internal.findEventDiv = this.kh, this.internal.eventDeleteDispatch = this.gc, this.internal.xssTextHtml = w.Ha, this.internal.touch = this.Ve, this.internal.enableReact = function (e, t) { w.X.react = e, w.X.reactDOM = t }, this.internal.reactRefs = function () { return l(w.X, {}, ["react", "reactDOM"]) }, this.internal.loadOptions = w.ph, this.internal.enableVue = function (e) { w.Z.Ke = e }, this.internal.vueRef = function () { return w.Z.Ke }, this.internal.vueRendering = function () { return w.Z.Le }, this.Init = this.init, this.ph(y)
        }; var m = {}; m.Xf = null, m.fg = null, m.gg = null, m.Fg = !1, m.editing = !1, m.originalText = null, m.Hh = function (e) { m.Uf || (m.Uf = []); for (var t = m.Uf, n = 0; n < t.length; n++)if (t[n] === e) return; t.push(e) }, m.ab = function (e) { var t = m.Uf; if (t) { var n = DayPilot.indexOf(t, e); n !== -1 && t.splice(n, 1), 0 === t.length && (t = null) } t || (DayPilot.ue(document, "mousemove", m.Gg), DayPilot.ue(document, "mouseup", m.Hg), DayPilot.ue(document, "touchmove", m.Ig), DayPilot.ue(document, "touchend", m.Jg), m.Fg = !1) }, m.Kh = function (e) { if (e.data && e.data.calendar.sa) { for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = m.Lh.data.y, o = i; o >= r; o--)n.push(t.nav.main.rows[o].cells[a]); return n } for (var n = [], s = m.Mh(e), l = e.parentNode, d = null; l && d !== m.Lh;)for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.previousSibling; l && "TR" !== l.tagName;)l = l.previousSibling; return n }, m.Nh = function (e) { if (e.data && e.data.calendar.sa) { for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = m.Lh.data.y, o = i; o <= r; o++)n.push(t.nav.main.rows[o].cells[a]); return n } for (var n = [], s = m.Mh(e), l = e.parentNode, d = null; l && d !== m.Lh;)for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.nextSibling; l && "TR" !== l.tagName;)l = l.nextSibling; return n }, m.Mh = function (e) { var t = 0; if (!e) return null; for (; e.previousSibling;)e = e.previousSibling, "TD" === e.tagName && t++; return t }, m.Ig = function (e) { if (!s(e) && m.drag) { e.preventDefault(); var t = e.touches ? e.touches[0].pageX : e.pageX, n = e.touches ? e.touches[0].pageY : e.pageY, i = {}; i.x = t, i.y = n; var a = function () { for (var t = e.touches ? e.touches[0].clientX : e.clientX, n = e.touches ? e.touches[0].clientY : e.clientY, i = document.elementFromPoint(t, n); i && i.parentNode;)if (i = i.parentNode, i.daypilotMainD) return i.calendar; return !1 }(); if (a) { if (m.gShadow && document.body.removeChild(m.gShadow), m.gShadow = null, a.coords = a.Ve.Vg(e), !m.movingShadow && a.coords) { var r = a.Ib(m.drag, !1); if (r) { m.movingShadow = r; var l = DayPilot.Date.today(), e = { "value": m.drag.id, "start": l, "end": l.addSeconds(m.drag.duration), "text": m.drag.text }, d = new DayPilot.Event(e, a); d.external = !0, v.moving = {}, v.moving.event = d, v.moving.helper = {} } } v.moving && a.Ve.$g() } else { p(m.movingShadow); var c = v.moving && v.moving.event && v.moving.event.calendar; c && o(v.moving, c.da("_event_moving_source")), v.moving = null, m.movingShadow = null, m.gShadow || (m.gShadow = m.createGShadow(m.drag.shadowType)); var r = m.gShadow; r.style.left = i.x + "px", r.style.top = i.y + "px" } } }, m.Jg = function (e) { s(e) || m.Hg(e) }, m.Gg = function (e) { if ("undefined" != typeof m && !(e.insideMainD || e.srcElement && e.srcElement.inside)) { var t = DayPilot.mc(e); if (m.drag) { var n = m.drag.$f || {}; if (!m.drag.Oh) { var i = n.onDragStart, a = !1; if ("function" == typeof i) { var o = {}; o.options = n, o.preventDefault = function () { o.preventDefault.value = !0 }, i(o), a = o.preventDefault.value } if (m.drag.Oh = !0, a) return m.Ph(), void (m.drag = null) } m.drag.Zf && m.drag.Zf.yc(); var s = "move"; "string" == typeof n.externalCursor && (s = n.externalCursor), document.body.style.cursor = s, m.gShadow || (m.gShadow = m.createGShadow(m.drag.shadowType)); var l = m.gShadow, d = 5, c = t.x - d, u = t.y - d; l.style.left = c + "px", l.style.top = u + "px", l.style.cursor = s, n.externalHtml && (l.innerHTML = n.externalHtml), n.externalCssClass && r(l, n.externalCssClass), v.moving = null, p(m.movingShadow), m.movingShadow = null } for (var h = 0; h < m.Uf.length; h++)m.Uf[h].db && m.Uf[h].db() } }, m.Ph = function () { var e = m.drag; if (e) { var t = e && e.$f, n = t && t.onDrop; if ("function" == typeof n) { var i = {}; i.options = t, n(i) } } }, m.Qh = function (e) { if (m.Uf) for (var t = m.Uf, n = 0; n < t.length; n++) { var i = t[n]; m.ab(i) } }, m.Hg = function (e) { var e = e || window.event; if (v.resizing) { if (!m.resizingShadow) return v.resizing.style.cursor = "default", v.resizing.event.calendar.nav.top.style.cursor = "", void (v.resizing = null); var t = v.resizing.event, n = v.resizing.dpBorder, i = m.resizingShadow.clientHeight, a = m.resizingShadow.offsetTop, r = m.resizingShadow.args, s = t.calendar; if (v.resizing.style.cursor = "default", s.nav.top.style.cursor = "", v.resizing.onclick = null, v.resizing = null, !r.allowed) return void s.pc(); t.calendar.nc(t, i, a, n) } else if (v.moving) { var l = function () { v.movingAreaData = null; var e = v.moving && v.moving.event && v.moving.event.calendar; e && o(v.moving, e.da("_event_moving_source")), v.moving = null, p(m.movingShadow), m.movingShadow = null }; if (!v.moving.helper) return void l(); if (!m.movingShadow) return v.moving.event.calendar.nav.top.style.cursor = "", void l(); var a = m.movingShadow.offsetTop, t = v.moving.event, s = t.calendar; s.gb = r; var d = m.movingShadow.column, c = m.drag; v.moving.event.calendar.nav.top.style.cursor = ""; var r = m.movingShadow.args; if (c && (t.calendar.todo || (t.calendar.todo = {}), t.calendar.todo.del = c.element), r && !r.allowed) return s.yc(), void l(); var u = e || window.event; t.calendar.wc(t, d, a, u, c), l() } else if (v.selecting) { var s = v.selecting.calendar, h = function () { var e = v.selecting, t = v.selecting.origin; if (v.selecting = null, s.Ea = e, !e.args.allowed) return void s.clearSelection(); if ("Disabled" === s.timeRangeDoubleClickHandling) { var n = s.getSelection(); if (!n) return; s.Fc(n.start, n.end, n.resource, t) } else s.bg = setTimeout(function () { var e = s.getSelection(); e && s.Fc(e.start, e.end, e.resource, t) }, s.doubleClickTimeout) }; m.selectedTimeout = setTimeout(h, 100) } else if (v.colResizing) { var f = v.colResizing; v.colResizing = null, f.Ce() } else if (v.colMoving) { var g = v.colMoving; v.colMoving = null, g.qe() } m.drag && (m.Ph(), m.drag = null, document.body.style.cursor = ""), m.gShadow && (document.body.removeChild(m.gShadow), m.gShadow = null), m.moveOffsetY = null }, m.dragStart = function (e, t, n, i, a) { DayPilot.us(e); var r = m.drag = {}; return r.element = e, r.duration = t, r.text = i, r.id = n, r.shadowType = a ? a : "Fill", r.$f = { "id": n, "text": i, "duration": t, "externalHtml": i }, !1 }, DayPilot.Calendar.def = {}, DayPilot.Calendar.makeDraggable = function (e) { function t() { var t = m.drag = {}; t.element = r, t.id = l, t.duration = c, t.text = d, t.shadowType = "Fill", t.$f = e, t._f = e.data } var n = e.element, r = e.keepElement ? null : e.remove || n, o = e.data || {}, l = "undefined" != typeof e.id ? e.id : o.id, d = "string" == typeof e.text ? e.text : o.text || "", c = e.duration || o.duration; c instanceof DayPilot.Duration && (c = c.totalSeconds()), c || (c = o.start && o.end ? new DayPilot.Duration(o.start, o.end).totalSeconds() : 60), navigator.msPointerEnabled && (n.style.msTouchAction = "none", n.style.touchAction = "none"); var u = function (e) { t(); var n = e.target || e.srcElement; if (n.tagName) { var i = n.tagName.toLowerCase(); if ("textarea" === i || "select" === i || "input" === i) return !1 } return e.preventDefault && e.preventDefault(), !1 }, h = function (e) { if (!s(e)) { window.setTimeout(function () { t(), m.Ig(e), e.preventDefault() }, 0), e.preventDefault() } }; DayPilot.us(n), a(n, "mousedown", u), i(n, DayPilot.touch.start, h), n.cancelDraggable = function () { DayPilot.ue(n, "mousedown", u), DayPilot.ue(n, DayPilot.touch.start, h), delete n.cancelDraggable } }, DayPilot.Calendar.stopDragging = function () { if (m.drag && (m.drag = null, document.body.style.cursor = ""), m.gShadow && (document.body.removeChild(m.gShadow), m.gShadow = null), v.resizing) { var e = v.resizing.event.calendar; v.resizing.style.cursor = "default", v.resizing.onclick = null, v.resizing = null, e.nav.top.style.cursor = "", e.pc() } if (v.moving) { var e = v.moving && v.moving.event && v.moving.event.calendar; e && (e.gb = null, o(v.moving, e.da("_event_moving_source")), e.yc()), v.movingAreaData = null, v.moving = null } if (v.selecting) { var e = v.selecting.calendar; v.selecting = null, e && e.clearSelection() } }, DayPilot.Calendar.registerDropTarget = function (e) { e = e || {}; var t = e.element, n = e.onDragOver, i = "function" == typeof n, a = e.onDrop, r = "function" == typeof a, o = e.onDragLeave, s = "function" == typeof o; if (!t) throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified"); t.addEventListener("mousemove", function (e) { var t = m.drag; if (t) { var a = t._f; if (a && i) { var r = {}; r.data = a, n(r) } } }), t.addEventListener("mouseleave", function (e) { var t = m.drag; if (t) { var n = t._f; if (n && s) { var i = {}; i.data = n, o(i) } } }), t.addEventListener("mouseup", function (e) { var t = m.drag; if (t) { var n = t._f; if (n && r) { var i = {}; i.data = n, a(i), t.element && p(t.element) } } }) }, m.createGShadow = function (n) { var i = t(); return i.setAttribute("unselectable", "on"), i.style.position = "absolute", i.style.width = "100px", i.style.height = "20px", i.style.border = "2px dotted #666666", i.style.zIndex = e, i.style.pointerEvents = "none", "Fill" === n && (i.style.backgroundColor = "#aaaaaa", i.style.opacity = .5, i.style.filter = "alpha(opacity=50)", i.style.border = "2px solid #aaaaaa"), document.body.appendChild(i), i }, m.moveShadow = function (e) { var t = m.movingShadow; t.parentNode && t.parentNode.removeChild(t), e.firstChild.appendChild(t), t.style.left = "0px", t.style.width = "", t.style.right = "0px" }, DayPilot.Column = function (e, t) { var n = this; n.id = e.id, n.name = e.name, n.data = e.data, n.date = new DayPilot.Date(e.start), n.start = n.date, n.calendar = t, n.events = {}, n.events.all = function () { for (var t = f(), n = 0; n < e.events.length; n++)t.push(e.events[n]); return t }, n.events.isEmpty = function () { return 0 === e.events.length }, n.events.forRange = function (t, i) { t = new DayPilot.Date(t), i = i ? new DayPilot.Date(i) : e.ce(); for (var a = f(), r = 0; r < n.events.length; r++) { var o = n.events[r]; h(o.start(), o.end(), t, i) && a.push(o) } return a }, n.events.totalDuration = function () { var e = 0; return n.events.all().forEach(function (t) { e += t.part.end.getTime() - t.part.start.getTime() }), new DayPilot.Duration(e) }, n.value = e.id, n.toJSON = function () { var e = {}; return e.id = this.id, this.date && (e.date = this.date.toString()), e.name = this.name, e.value = this.value, e } }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotCalendar = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) { var n = new DayPilot.Calendar(this.id, e); n.init(), this.daypilot = n, t || (t = n) } }); return 1 === this.length ? t : n } }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotCalendar", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Calendar(n[0]); a.lh.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e) a[n] = e[n]; a.update() }, !0), d.call(t, u, function (e) { a.events.list = e, a.Jd({ "eventsOnly": !0 }) }, !0) } } } }]) }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { "undefined" == typeof DayPilot.DatePicker && (DayPilot.DatePicker = function (e) { this.v = "2024.4.6294"; var t = "navigator_" + (new Date).getTime(), n = this; this.onShow = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.prepare = function () { if (this.locale = "en-us", this.target = null, this.targetAlignment = "left", this.resetTarget = !0, this.pattern = this.Ja.locale().datePattern, this.theme = "navigator_default", this.patterns = [], this.zIndex = null, e) for (var t in e) this[t] = e[t] }, this.init = function () { this.date = new DayPilot.Date(this.date); var e = this.Rh(); this.resetTarget && !e ? this.Sh(this.date) : this.resetTarget || (n.date = e); var t = this.J(); return t && t.addEventListener("input", function () { n.date = n.Rh(), n.date && n.navigator.select(n.date, { dontNotify: !0 }) }), document.addEventListener("mousedown", function () { n.close() }), this }, this.close = function () { this.vg && (this.vg = !1, this.navigator && this.navigator.dispose(), this.div.innerHTML = "", this.div && this.div.parentNode === document.body && document.body.removeChild(this.div)) }, this.setDate = function (e) { this.date = new DayPilot.Date(e), this.Sh(this.date) }, this.Rh = function () { var e = this.J(); if (!e) return this.date; var t = null; if (t = "INPUT" === e.tagName ? e.value : e.innerText, !t) return null; for (var i = DayPilot.Date.parse(t, n.pattern), a = 0; a < n.patterns.length; a++) { if (i) return i; i = DayPilot.Date.parse(t, n.patterns[a]) } return i }, this.Sh = function (e) { var t = this.J(); if (t) { var i = e.toString(n.pattern, n.locale); "INPUT" === t.tagName ? t.value = i : t.innerHTML = i } }, this.Ja = {}, this.Ja.locale = function () { return DayPilot.Locale.find(n.locale) }, this.J = function () { var e = this.target; return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e) }, Object.defineProperty(this, "visible", { get: function () { return n.vg } }), this.show = function () { if (!this.vg) { var e = this.J(), i = this.navigator, i = new DayPilot.Navigator(t); i.api = 2, i.cssOnly = !0, i.theme = n.theme, i.weekStarts = "Auto", i.locale = n.locale, i.onTimeRangeSelected = function (e) { n.date = e.start; var t = e.start.addTime(i.Th), a = t.toString(n.pattern, n.locale), e = {}; e.start = t, e.date = t, e.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(e), e.preventDefault.value) || (n.Sh(a), n.close(), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(e)) }, this.navigator = i; var a = DayPilot.abs(e), r = e.offsetHeight, o = n.targetAlignment, s = document.createElement("div"); s.style.position = "absolute", "left" === o && (s.style.left = a.x + "px"), s.style.top = a.y + r + "px", n.zIndex && (s.style.zIndex = n.zIndex); var l = document.createElement("div"); l.id = t, s.appendChild(l), s.addEventListener("mousedown", function (e) { var e = e || window.event; e.cancelBubble = !0, e.stopPropagation && e.stopPropagation() }), document.body.appendChild(s), this.div = s; var d = n.Rh() || (new DayPilot.Date).getDatePart(); if (i.startDate = d, i.Th = d.getTimePart(), i.selectionDay = d.getDatePart(), i.init(), "right" === o) { var c = a.x + e.offsetWidth - i.nav.top.offsetWidth; s.style.left = c + "px" } this.vg = !0, this.onShow && this.onShow() } }, this.prepare(), this.init() }) }(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
        var e = function () { }; DayPilot.Gantt = function (t, n) {
            this.v = "2024.4.6294"; var i = this; this.id = t, this.isGantt = !0; var a = new DayPilot.Scheduler(t); this.scheduler = a, a.viewType = "Resources", a.onCallBackHeader = function (e) { e.header.taskGroupMode = i.taskGroupMode, e.header.rowHeaderColumns = i.columns, e.header.clientState = i.clientState }, a.onGetNodeState = function (e) { var t = function (e) { var t = {}; if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n]; return t }, n = function (e) { var n = e.task, i = {}; return i.start = n.start, i.end = n.end, i.id = n.id, i.complete = n.complete, i.text = n.text, i.type = n.type, i.expanded = e.expanded, i.loaded = e.loaded, i.tags = t(n), i.versions = n.versions, i.children = a.internal.getNodeChildren(e.children), i }; e.result = n(e.row), e.preventDefault() }, a.Uh = function (e) { }, a.onCallBackResult = function (e) { var t = e.result; e.preventDefault(); var n = function () { t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId) }; if ("None" === t.updateType) return void n(); var r = function (e) { for (var n = 0; n < e.length; n++) { var a = e[n]; "undefined" != typeof t[a] && (i[a] = t[a]) } }; i.links.list = t.links, i.tasks.list = t.tasks, i.startDate = new DayPilot.Date(t.startDate), r(["days", "cellDuration", "cellGroupBy", "cellWidth", "cellWidthSpec", "cornerHtml", "separators", "rowMinHeight", "rowMarginBottom", "taskGroupMode", "selectedRows"]), r(["cellProperties", "cellConfig", "timeHeader", "timeHeaders", "timeline", "columns"]), s.translate(), s.Vh(), s.Wh(), a.update(), a.show(), n() }, this.taskGroupMode = "Auto", this.allowMultiMove = !1, this.allowMultiSelect = !1, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", "function" == typeof DayPilot.Bubble ? (this.bubbleTask = new DayPilot.Bubble, this.bubbleCell = new DayPilot.Bubble, this.bubbleRow = new DayPilot.Bubble) : (this.bubbleTask = null, this.bubbleCell = null, this.bubbleRow = null), this.cellDuration = 1440, this.cellGroupBy = "Month", this.cellWidth = 40, this.cellWidthSpec = "Fixed", this.completeBarVisible = !0, this.completeBarHeight = 3, this.contextMenuTask = null, this.contextMenuRow = null, this.contextMenuLink = null, this.cornerText = "", this.cornerHtml = null, this.crosshairType = "Header", this.doubleClickTimeout = 300, this.progressiveTaskRendering = "Progressive", this.progressiveTaskRenderingMargin = 500, this.progressiveTaskRenderingCacheSweeping = !1, this.progressiveTaskRenderingCacheSize = 200, this.floatingTasks = !0, this.floatingTimeHeaders = !0, this.headerHeight = 30, this.height = 300, this.heightSpec = "Max", this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !1, this.linkBottomMargin = 17, this.linkPointSize = 10, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.locale = "en-us", this.messageBarPosition = "Top", this.messageHideAfter = 5e3, this.moveGroupChildren = !0, this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rowHeaderColumnsMergeParents = !1, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderHideIconEnabled = !0, this.rowHeaderWidth = 80, this.rowHeaderWidthAutoFit = !0, this.rowMarginBottom = 4, this.rowMinHeight = 0, this.rowMoveSameLevelOnly = !1, this.scrollDelayTasks = 200, this.scrollDelayCells = 20, this.scrollDelayFloats = 0, this.scale = "Day", this.selectedRows = [], this.snapToGrid = !0, this.syncTasks = !0, this.syncLinks = !0, this.tapAndHoldTimeout = 300, this.taskHeight = 34, this.taskHtmlLeftMargin = 20, this.taskHtmlRightMargin = 20, this.taskResizeMargin = 5, this.taskMovingStartEndEnabled = !1, this.taskMovingStartEndFormat = "MMMM d, yyyy", this.taskResizingStartEndEnabled = !1, this.taskResizingStartEndFormat = "MMMM d, yyyy", this.theme = "gantt_default", this.treeAnimation = !0, this.treeAutoExpand = !0, this.treeIndent = 20, this.treeImageMarginLeft = 0, this.treeImageMarginTop = 3, this.treeImageMarginRight = 5, this.treeImageWidth = 10, this.treeImageHeight = 10, this.timeline = null, this.timeHeaders = [{ "groupBy": "Month", "format": "MMMM yyyy" }, { "groupBy": "Day", "format": "d" }], this.useEventBoxes = "Never", this.visible = !0, this.weekStarts = "Auto", this.xssProtection = "Enabled", this.taskVersionsEnabled = !1, this.taskVersionHeight = 24, this.taskVersionMargin = 2, this.taskVersionPosition = "Above", this.taskMoveHandling = "Update", this.taskClickHandling = "Enabled", this.taskResizeHandling = "Update", this.linkCreateHandling = "Update", this.taskRightClickHandling = "ContextMenu", this.taskDoubleClickHandling = "Disabled", this.tasksLoadMethod = "GET", this.rowCreateHandling = "Disabled", this.rowMoveHandling = "Update", this.rowClickHandling = "Disabled", this.rowDoubleClickHandling = "Disabled", this.rowEditHandling = "Update", this.rowSelectHandling = "Update", this.clientState = {}, this.separators = [], this.members = {}, this.members.obsolete = [], this.members.ignore = ["members", "scheduler", "internal", "cellProperties"], this.members.noCssOnly = [], this.links = {}, this.links.list = [], this.links.add = function (e) { if (e) { var t = e.isLink ? e.data : e; i.links.list.push(t), i.Aa && (s.Wh(), a.update()), i.lh.notify() } }, this.links.remove = function (e) { if (e) { var t; t = e.isLink ? e.data : e; var n = DayPilot.indexOf(i.links.list, t); n !== -1 && (i.links.list.splice(n, 1), i.Aa && (s.Wh(), a.update()), i.lh.notify()) } }, this.links.find = function (e) { if (!DayPilot.isArray(i.links.list)) return null; for (var t = 0; t < i.links.list.length; t++) { var n = i.links.list[t]; if (n.id === e) return new DayPilot.Link(n, i) } return null }, this.links.findByFromTo = function (e, t) { if (!DayPilot.isArray(i.links.list)) return null; for (var n = 0; n < i.links.list.length; n++) { var a = i.links.list[n]; if (a.from === e && a.to === t) return new DayPilot.Link(a, i) } return null }, this.links.load = function (e, t, n) { a.links.load(e, function (e) { "function" == typeof t && (t(e), e.preventDefault.value) || (i.links.list = e.data) }, n, { "dontAddStartEnd": !0 }) }, this.Xh = {}; var r = this.Xh; r.timeout = null, r.update = function () { i.Aa && (window.clearTimeout(r.timeout), r.timeout = setTimeout(function () { s.Vh(), a.update() }, 0)) }, this.multiselect = {}, this.multiselect.tasks = function () {
                return a.multiselect.events().map(function (e) { return new DayPilot.Task(e, i) })
            }, this.multiselect.add = function (e, t) { a.multiselect.add(e, t) }, this.multiselect.clear = function (e) { a.multiselect.clear(e) }, this.multiselect.remove = function (e, t) { a.multiselect.remove(e, t) }, this.tasks = {}, this.tasks.list = [], this.tasks.add = function (e) { if (e) { if (e instanceof DayPilot.Event) throw "DayPilot.Task object required. You have supplied DayPilot.Event."; var t = e.isTask ? e.data : e; i.tasks.list.push(t), r.update(), i.lh.notify() } }, this.tasks.find = function (e) { var t = o.findInCache(e); return t ? new DayPilot.Task(t, i) : null }, this.tasks.update = function (e) { if (e) { var t = null; if (e.isTask) e.commit(), t = e.data; else { if ("object" != typeof e) throw "DayPilot.Task or task data object expected"; t = e } var n = i.tasks.find(t.id); if (n) { var a = o.findParentArray(n.data), s = a.indexOf(n.data); a.splice(s, 1, t), r.update(), i.lh.notify() } } }, this.tasks.remove = function (e) { if (e) { if (!e.isTask) throw "DayPilot.Task object expected"; var t = o.findParentArray(e.data); if (t) { var n = DayPilot.indexOf(t, e.data); t.splice(n, 1), r.update(), i.lh.notify() } } }, this.tasks.load = function (e, t, n) { if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required"); var a = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, r = function (e) { var n, r = e.request; try { n = JSON.parse(r.responseText) } catch (e) { var o = {}; return o.exception = e, void a(o) } if (DayPilot.isArray(n)) { var s = {}; if (s.preventDefault = function () { this.preventDefault.value = !0 }, s.data = n, "function" == typeof t && t(s), s.preventDefault.value) return; i.tasks.list = n, i.Aa && i.update() } }; if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase()) DayPilot.ajax({ "method": "POST", "contentType": "application/json", "url": e, "success": r, "error": a }); else { var o = e; DayPilot.ajax({ "method": "GET", "url": o, "success": r, "error": a }) } }, this.visibleStart = function () { return a.visibleStart() }, this.visibleEnd = function () { return a.visibleEnd() }, this.onAfterRender = null, this.onAfterUpdate = null, this.onBeforeRowHeaderRender = null, this.onBeforeRowHeaderExport = null, this.onBeforeTaskRender = null, this.onBeforeTaskExport = null, this.onBeforeTimeHeaderRender = null, this.onBeforeTimeHeaderExport = null, this.onBeforeCellRender = null, this.onBeforeCellExport = null, this.onBeforeCornerRender = null, this.onBeforeCornerExport = null, this.onTaskClick = null, this.onTaskClicked = null, this.onTaskDoubleClick = null, this.onTaskDoubleClicked = null, this.onTaskRightClick = null, this.onTaskRightClicked = null, this.onRowCreate = null, this.onRowCreated = null, this.onRowMove = null, this.onRowMoved = null, this.onRowMoving = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowEdit = null, this.onRowEdited = null, this.onRowFilter = null, this.onRowSelect = null, this.onRowSelected = null, this.onTaskMove = null, this.onTaskMoved = null, this.onTaskMoving = null, this.onTaskResize = null, this.onTaskResized = null, this.onTaskResizing = null, this.onLinkCreate = null, this.onLinkCreated = null, this.ka = function () { return !!this.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID) }, this.Yh = function () { function e(i) { for (var a = 0; a < i.length; a++) { var s = i[a]; t = new DayPilot.Date(s.start), n = new DayPilot.Date(s.end), (null === r || t.getTime() < r) && (r = t.getTime()), (null === o || n.getTime() > o) && (o = n.getTime()), s.children && s.children.length > 0 && e(s.children) } } if ("string" == typeof i.startDate && (i.startDate = new DayPilot.Date(i.startDate)), !i.startDate || !i.days) { var t = DayPilot.Date.today(), n = t.addDays(1), r = null, o = null; e(i.tasks.list), r && o ? (t = new DayPilot.Date(r).getDatePart(), n = new DayPilot.Date(o).getDatePart().addDays(1), a.startDate = i.startDate || t, a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)) : (a.startDate = t, a.days = 30) } }, this.Zh = function (e, t, n) { }, this.commandCallBack = function (e, t) { s.translate(), a.commandCallBack(e, t) }, this.message = function (e, t, n, i) { a.message(e, t, n, i) }, this.setHeight = function (e) { a.setHeight(e) }, this.getCoords = function () { var e = a.getCoords(); return e ? (e.task = new DayPilot.Task(e.row.$.row.task, i), e.eventOffset && (e.taskOffset = e.eventOffset), delete e.event, delete e.row, delete e.eventOffset, delete e.grid, e) : null }, this.Eh = function () { return !!this.backendUrl }, this.setScrollY = function (e) { a.setScrollY(e) }, this.setScrollX = function (e) { a.setScrollX(e) }, this.getScrollY = function () { return a.getScrollY() }, this.getScrollX = function () { return a.getScrollX() }, this.scrollToRow = function (e) { a.scrollToResource(e) }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); return s.translate(), s.Vh(), s.Wh(), this.Yh(), a.init(), this.Aa = !0, this.Ih(), this }, this.Ba = !1, this.dispose = function () { a.dispose(), i.Ba = !0 }, this.update = function (e) { if (!i.Aa) throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet."); if (i.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed."); i.ph(e), s.translate(), s.Vh(), s.Wh(), i.Yh(), a.update() }, this.scrollTo = function (e) { a.scrollTo(e) }, this.scrollToTask = function (e) { a.scrollToResource(e) }, this.$h = {}; var o = this.$h; o.cache = {}, o.clearCache = function () { o.cache = {} }, o.addToCache = function (e, t) { var n = e.id; if (n) { var i = {}; if (i.isTaskWrapper = !0, i.data = e, i.parent = t, o.cache[n]) throw "Duplicate task id detected"; o.cache[n] = i } }, o.findInCache = function (e) { return e ? o.cache[e.toString()] : null }, o.getProperty = function (e, t) { return e.tags && e.tags[t] ? e.tags[t] : e[t] }, o.findParentArray = function (e) { return o.findInArray(i.tasks.list, e) }, o.findInArray = function (e, t) { if (DayPilot.indexOf(e, t) !== -1) return e; for (var n = 0; n < e.length; n++) { var i = e[n]; if (i.children && i.children.length > 0) { var a = o.findInArray(i.children, t); if (a) return a } } return null }, this._h = {}; var s = this._h; s.translate = function () { if (a.internal.gantt = i, a.durationBarMode = "PercentComplete", a.timeRangeSelectedHandling = "Disabled", a.treeEnabled = !0, a.rowCreateHtml = "", a.rowHeaderColumnsMode = "Legacy", a.allowMultiMove = i.allowMultiMove, a.allowMultiSelect = i.allowMultiSelect, a.autoRefreshCommand = i.autoRefreshCommand, a.autoRefreshEnabled = i.autoRefreshEnabled, a.autoRefreshInterval = i.autoRefreshInterval, a.autoRefreshMaxCount = i.autoRefreshMaxCount, a.autoScroll = i.autoScroll, a.backendUrl = i.backendUrl, a.crosshairType = i.crosshairType, a.doubleClickTimeout = i.doubleClickTimeout, a.durationBarVisible = i.completeBarVisible, a.durationBarHeight = i.completeBarHeight, a.dynamicEventRendering = i.progressiveTaskRendering, a.dynamicEventRenderingMargin = i.progressiveTaskRenderingMargin, a.dynamicEventRenderingCacheSweeping = i.progressiveTaskRenderingCacheSweeping, a.dynamicEventRenderingCacheSize = i.progressiveTaskRenderingCacheSize, a.startDate = new DayPilot.Date(i.startDate), a.days = i.days, a.cellDuration = i.cellDuration, a.cellGroupBy = i.cellGroupBy, a.cellWidth = i.cellWidth, a.cellWidthSpec = i.cellWidthSpec, a.cornerHtml = i.cornerHtml, a.cornerText = i.cornerText, a.eventHeight = i.taskHeight, a.eventResizeMargin = i.taskResizeMargin, a.floatingEvents = i.floatingTasks, a.floatingTimeHeaders = i.floatingTimeHeaders, a.headerHeight = i.headerHeight, a.heightSpec = i.heightSpec, a.height = i.height, a.linkBottomMargin = i.linkBottomMargin, a.linkPointSize = i.linkPointSize, a.loadingLabelVisible = i.loadingLabelVisible, a.loadingLabelText = i.loadingLabelText, a.loadingLabelHtml = i.loadingLabelHtml, a.locale = i.locale, a.messageBarPosition = i.messageBarPosition, a.messageHideAfter = i.messageHideAfter, a.rowCreateHandling = i.rowCreateHandling, a.rowMoveSameLevelOnly = i.rowMoveSameLevelOnly, a.progressiveRowRendering = i.progressiveRowRendering, a.progressiveRowRenderingPreload = i.progressiveRowRenderingPreload, a.scale = i.scale, a.scrollDelayEvents = i.scrollDelayTasks, a.scrollDelayCells = i.scrollDelayCells, a.scrollDelayFloats = i.scrollDelayFloats, a.scrollX = i.scrollX, a.scrollY = i.scrollY, i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId), a.separators = i.separators, a.tapAndHoldTimeout = i.tapAndHoldTimeout, a.eventHtmlLeftMargin = i.taskHtmlLeftMargin, a.eventHtmlRightMargin = i.taskHtmlRightMargin, a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled, a.eventMovingStartEndFormat = i.taskMovingStartEndFormat, a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled, a.eventResizingStartEndFormat = i.taskResizingStartEndFormat, a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight, a.hideUntilInit = i.hideUntilInit, a.treeIndent = i.treeIndent, a.treeAnimation = i.treeAnimation, a.treeAutoExpand = i.treeAutoExpand, a.treeImageMarginLeft = i.treeImageMarginLeft, a.treeImageMarginTop = i.treeImageMarginTop, a.treeImageMarginRight = i.treeImageMarginRight, a.treeImageWidth = i.treeImageWidth, a.treeImageHeight = i.treeImageHeight, a.timeHeaders = i.timeHeaders, a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled, a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents, a.rowHeaderScrolling = i.rowHeaderScrolling, a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth, a.rowHeaderWidth = i.rowHeaderWidth, a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit, a.rowMarginBottom = i.rowMarginBottom, a.rowMinHeight = i.rowMinHeight, a.selectedRows = i.selectedRows, a.theme = i.theme, a.useEventBoxes = i.useEventBoxes, a.snapToGrid = i.snapToGrid, a.uniqueID = i.uniqueID, a.bubble = i.bubbleTask, a.cellBubble = i.bubbleCell, a.resourceBubble = i.bubbleRow, a.contextMenu = i.contextMenuTask, a.contextMenuResource = i.contextMenuRow, a.contextMenuLink = i.contextMenuLink, a.syncResourceTree = i.syncTasks, a.syncLinks = i.syncLinks, a.timeline = i.timeline, a.visible = i.visible, a.devsb = i.devsb, a.weekStarts = i.weekStarts, a.xssProtection = i.xssProtection, a.eventMoveHandling = i.taskMoveHandling, a.eventClickHandling = i.taskClickHandling, a.eventResizeHandling = i.taskResizeHandling, a.linkCreateHandling = i.linkCreateHandling, a.eventRightClickHandling = i.taskRightClickHandling, a.eventDoubleClickHandling = i.taskDoubleClickHandling, a.rowMoveHandling = i.rowMoveHandling, a.rowClickHandling = i.rowClickHandling, a.rowDoubleClickHandling = i.rowDoubleClickHandling, a.rowEditHandling = i.rowEditHandling, a.rowSelectHandling = i.rowSelectHandling, a.eventVersionsEnabled = i.taskVersionsEnabled, a.eventVersionHeight = i.taskVersionHeight, a.eventVersionMargin = i.taskVersionMargin, a.eventVersionPosition = i.taskVersionPosition, DayPilot.isArray(i.columns)) { a.rowHeaderColumns = []; for (var e = 0; e < i.columns.length; e++) { var t = i.columns[e], n = {}; DayPilot.Util.copyProps(t, n, ["html", "text", "name", "title", "width", "hidden", "maxAutoWidth"]), n.display = t.display || t.property, a.rowHeaderColumns.push(n) } } i.ka() && (a.timeHeader = i.timeHeader, a.cellProperties = i.cellProperties, a.cellConfig = i.cellConfig), a.onRowCreate = function (e) { e.control = i, "function" == typeof i.onRowCreate && i.onRowCreate(e) }, a.onRowCreated = function (e) { "function" == typeof i.onRowCreated && i.onRowCreated(e) }, a.onAfterRender = function (e) { "function" == typeof i.onAfterRender && i.onAfterRender(e) }, a.onAfterUpdate = function (e) { "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e) }, a.onRowHeaderResized = function (e) { i.rowHeaderWidth = a.rowHeaderWidth }, a.onRowFilter = function (e) { "function" == typeof i.onRowFilter && (e.task = new DayPilot.Task(e.row.$.row.task, i), e.control = i, i.onRowFilter(e)) }, a.onAjaxError = function (e) { "function" == typeof i.onAjaxError && i.onAjaxError(e) }, a.onRowHeaderColumnResized = function (e) { for (var t = e.column, n = DayPilot.indexOf(a.rowHeaderColumns, t), r = 0; r < i.columns.length; r++) { var o = a.rowHeaderColumns[r]; i.columns[r].width = o.width } if ("function" == typeof i.onColumnResized) { var s = {}; s.column = i.columns[n], i.onColumnResized(s) } }, a.internalUseStandardColumns = DayPilot.isArray(i.columns), a.onBeforeRowHeaderRender = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i); var t = e.row.$.row.events[0]; t && "Auto" === i.taskGroupMode && "Group" === t.data.type && (e.task.data.start = t.data.start, e.task.data.end = t.data.end); var n = []; if (DayPilot.isArray(i.columns)) for (var r = 0; r < i.columns.length; r++) { var s = i.columns[r], l = s.display || s.property, d = {}; d.value = a.internal.xssTextHtml(o.getProperty(e.task.data, l)), e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[r] ? d.html = e.task.data.row.columns[r].html : d.html = d.value, n.push(d) } e.row.columns = n, "function" == typeof i.onBeforeRowHeaderRender && i.onBeforeRowHeaderRender(e) }, a.onBeforeRowHeaderExport = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i), "function" == typeof i.onBeforeRowHeaderExport && i.onBeforeRowHeaderExport(e) }, a.onBeforeEventExport = function (e) { "function" == typeof i.onBeforeTaskExport && (e.task = new DayPilot.Task(e.e, i), i.onBeforeTaskExport(e)) }, a.onBeforeCellRender = function (e) { e.task = i.tasks.find(e.cell.resource), delete e.cell.resource, "function" == typeof i.onBeforeCellRender && (e.control = i, i.onBeforeCellRender(e)) }, a.onBeforeCellExport = function (e) { e.task = i.tasks.find(e.cell.resource), delete e.cell.resource, "function" == typeof i.onBeforeCellExport && (e.control = i, i.onBeforeCellExport(e)) }, a.onBeforeCornerRender = function (e) { "function" == typeof i.onBeforeCornerRender && (e.control = i, i.onBeforeCornerRender(e)) }, a.onBeforeCornerExport = function (e) { "function" == typeof i.onBeforeCornerExport && (e.control = i, i.onBeforeCornerExport(e)) }, a.onBeforeTimeHeaderRender = function (e) { "function" == typeof i.onBeforeTimeHeaderRender && (e.control = i, i.onBeforeTimeHeaderRender(e)) }, a.onBeforeTimeHeaderExport = function (e) { "function" == typeof i.onBeforeTimeHeaderExport && (e.control = i, i.onBeforeTimeHeaderExport(e)) }, a.onEventClick = function (e) { e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskClick && i.onTaskClick(e) }, a.onEventClicked = function (e) { "function" == typeof i.onTaskClicked && i.onTaskClicked(e) }, a.onEventDelete = function (e) { "function" == typeof i.onTaskDelete && i.onTaskDelete(e) }, a.onEventDeleted = function (e) { "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e) }, a.onEventDoubleClick = function (e) { e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskDoubleClick && i.onTaskDoubleClick(e) }, a.onEventDoubleClicked = function (e) { "function" == typeof i.onTaskDoubleClicked && i.onTaskDoubleClicked(e) }, a.onEventRightClick = function (e) { e.task = new DayPilot.Task(e.e, i), "function" == typeof i.onTaskRightClick && i.onTaskRightClick(e) }, a.onEventRightClicked = function (e) { "function" == typeof i.onTaskRightClicked && i.onTaskRightClicked(e) }, a.onRowMoving = function (e) { e.ai = e.source, e.bi = e.target; var t = e.ai.calendar && e.ai.calendar.internal.gantt; e.source = new DayPilot.Task(e.ai.$.row.task, t), e.target = new DayPilot.Task(e.bi.$.row.task, i), "function" == typeof i.onRowMoving && i.onRowMoving(e) }, a.onRowMove = function (e) { e.ai = e.source, e.bi = e.target; var t = e.ai.calendar && e.ai.calendar.internal.gantt; e.source = new DayPilot.Task(e.ai.$.row.task, t), e.target = new DayPilot.Task(e.bi.$.row.task, i), e.control = i, "function" == typeof i.onRowMove && i.onRowMove(e), e.source = e.ai, e.target = e.bi, e.preventDefault.value }, a.onRowMoved = function (e) { var t = e.ai.calendar && e.ai.calendar.internal.gantt; !function () { if ("Update" === i.rowMoveHandling || "Notify" === i.rowMoveHandling) { var n = e.ai.$.row.task, r = e.bi.$.row.task, s = e.position, l = e.source.data.ci; if ("forbidden" !== s) { if (t) { var d = t.$h.findParentArray(n); if (!d) throw "Cannot find source node parent"; var c = DayPilot.indexOf(d, n); d.splice(c, 1) } var u = o.findParentArray(r); if (!u) throw "Cannot find target node parent"; var h = DayPilot.indexOf(u, r); switch (s) { case "before": u.splice(h, 0, n); break; case "after": u.splice(h + 1, 0, n); break; case "child": r.children || (r.children = [], r.expanded = !0), r.children.push(n) }l && (l.start || (l.start = new DayPilot.Date(r.start)), l.end || (n.duration ? l.end = new DayPilot.Date(l.start).addTime(n.duration) : l.end = new DayPilot.Date(r.end)), a.events.add(l), e.source.data.task.start = l.start, e.source.data.task.end = l.end, e.source.data.ci = null), i.update(), t && t !== i && t.update() } } }(), e.source = new DayPilot.Task(e.ai.$.row.task, t), e.target = new DayPilot.Task(e.bi.$.row.task, i), "function" == typeof i.onRowMoved && i.onRowMoved(e) }, a.onRowClick = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowClick && i.onRowClick(e) }, a.onRowClicked = function (e) { "function" == typeof i.onRowClicked && i.onRowClicked(e) }, a.onRowDoubleClick = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowDoubleClick && i.onRowDoubleClick(e) }, a.onRowDoubleClicked = function (e) { "function" == typeof i.onRowDoubleClicked && i.onRowDoubleClicked(e) }, a.onRowEdit = function (e) { e.task = new DayPilot.Task(e.resource.$.row.task, i), "function" == typeof i.onRowEdit && i.onRowEdit(e) }, a.onRowEdited = function (e) { "function" == typeof i.onRowEdited && i.onRowEdited(e) }, a.onRowSelect = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i), "function" == typeof i.onRowSelect && i.onRowSelect(e) }, a.onRowSelected = function (e) { "function" == typeof i.onRowSelected && i.onRowSelected(e) }, a.onEventMove = function (e) { var t = { "task": new DayPilot.Task(e.e, i), "control": i, "newStart": e.newStart, "newEnd": e.newEnd, "ctrl": e.ctrl, "shift": e.shift, "preventDefault": function () { e.preventDefault() }, "multimove": e.multimove.map(function (e) { return { "task": new DayPilot.Task(e.event, i), "start": e.start, "end": e.end } }) }; e.di = t, "function" == typeof i.onTaskMove && i.onTaskMove(t) }, a.onEventMoved = function (e) { if ("Auto" === i.taskGroupMode) { var t = e.e, n = t.data.task; for (n.start = t.start(), n.end = t.end(); t.data.parent;) { var r = a.events.find(t.data.parent.id), o = s.ei(t.data.parent); r.start(o.start), r.end(o.end), a.events.update(r), t = r } } i.lh.notify(); var l = e.di; "function" == typeof i.onTaskMoved && i.onTaskMoved(l) }, a.onEventMoving = function (e) { var t = new DayPilot.Task(e.e, i), n = e.start.getTime() - e.e.start().getTime(); if ("Group" === e.e.data.type && i.moveGroupChildren) { var r = s.fi(t); e.multimove = r.map(function (e) { var t = a.internal.f(e.data); return { "event": t, "start": e.start().addTime(n), "end": e.end().addTime(n), "resource": t.resource() } }), e.multimove.splice(0, 0, { "event": e.e, "start": t.start().addTime(n), "end": t.end().addTime(n), "resource": e.e.resource() }) } var o = { "allowed": e.allowed, "ctrl": e.ctrl, "shift": e.shift, "meta": e.meta, "alt": e.alt, "cssClass": null, "duration": e.duration, "html": e.html, "task": t, "control": i, "start": e.start, "end": e.end, "left": e.left, "right": e.right, "multimove": e.multimove.map(function (e) { return { "task": new DayPilot.Task(e.event, i), "start": e.start, "end": e.end } }) }; "function" == typeof i.onTaskMoving && i.onTaskMoving(o); var l = new DayPilot.Date(o.start), d = new DayPilot.Date(o.end); e.start = l, e.end = d, e.allowed = o.allowed, e.cssClass = o.cssClass, e.html = o.html, e.multimove = o.multimove.map(function (t, n) { var i = new DayPilot.Date(t.start), a = new DayPilot.Date(t.end); return { "event": e.multimove[n].event, "start": i, "end": a, "resource": t.task.id() } }) }, a.onEventResize = function (e) { e.gi = e.e, e.task = new DayPilot.Task(e.e, i), e.control = i, "function" == typeof i.onTaskResize && i.onTaskResize(e) }, a.onEventResized = function (e) { if ("Auto" === i.taskGroupMode) { var t = e.gi, n = t.data.task; for (n.start = t.start(), n.end = t.end(); t.data.parent;) { var r = a.events.find(t.data.parent.id), o = s.ei(t.data.parent); r.start(o.start), r.end(o.end), a.events.update(r), t = r } } i.lh.notify(), "function" == typeof i.onTaskResized && i.onTaskResized(e) }, a.onEventResizing = function (e) { e.task = new DayPilot.Task(e.e, i), e.gi = e.e, e.control = i, "function" == typeof i.onTaskResizing && i.onTaskResizing(e) }, a.onLinkCreate = function (e) { e.source = i.tasks.find(e.from), e.target = i.tasks.find(e.to), e.control = i, "function" == typeof i.onLinkCreate && i.onLinkCreate(e) }, a.onLinkCreated = function (e) { "function" == typeof i.onLinkCreated && i.onLinkCreated(e) }, a.onResourceExpand = function (e) { var t = e.resource.$.row.task; t.row || (t.row = {}), t.row.collapsed = !1 }, a.onResourceCollapse = function (e) { var t = e.resource.$.row.task; t.row || (t.row = {}), t.row.collapsed = !0 }, a.onBeforeRowHeaderDomAdd = function (e) { e.task = new DayPilot.Task(e.row.$.row.task, i), "function" == typeof i.onBeforeRowHeaderDomAdd && i.onBeforeRowHeaderDomAdd(e) }, a.onExternalRowEnter = function (e) { var t = e.data, n = s.hi(t, null, { "dontAddToCache": !0 }); e.data = n.row, e.data.ci = n.event } }, s.ii = function (e) { for (var t = 0; t < a.rowlist.length; t++) { var n = a.rowlist[t]; if (n.task === e) return a.internal.createRowObject(n) } return null }, s.Wh = function () { a.links.list = i.links.list ? i.links.list : [] }, s.Vh = function () { a.resources = [], a.events.list = [], o.clearCache(), s.ji(i.tasks.list, a.resources, null), l.sheet && (l.sheet.commit(), l.sheet = null) }, s.ki = function (e) { var t = e.type || "Task"; e.children && e.children.length && (t = "Group"); var n = {}; for (var r in e) "children" !== r && (n[r] = e[r]); var o = {}; if (o.data = n, o.type = t, n.box || (n.box = {}), "undefined" == typeof n.box.html) if ("Task" === o.type) { var s = n.complete || 0; n.box.text = s + "%" } else n.box.text = ""; return "undefined" == typeof n.box.htmlRight && (n.box.htmlRight = a.internal.xssTextHtml(n.text)), "function" == typeof i.onBeforeTaskRender && i.onBeforeTaskRender(o), o.type = t, o }; var l = {}; l.keys = {}, l.sheet = null, s.li = function (e) { if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && "Task" !== e.type) { var t = DayPilot.Util.normalizeColor(e.data.box.backColor), n = e.type + "_" + t.replace("#", ""), a = i.theme, r = i.theme + "_" + n; return l.keys[n] || (l.keys[n] = !0, l.sheet || (l.sheet = DayPilot.sheet()), "Group" === e.type ? (l.sheet.add("." + r + "." + a + "_task_group ." + a + "_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + t + "; filter: none; border: 0px none;"), l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:before", "content:''; border-color: transparent transparent transparent " + t + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"), l.sheet.add("." + r + "." + a + "_task_group." + a + "_event:after", "content:''; border-color: transparent " + t + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")) : "Milestone" === e.type && (l.sheet.add("." + r + "." + a + "_task_milestone ." + a + "_event_inner", "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " + t + "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"), l.sheet.add("." + r + "." + a + "_browser_ie8 ." + a + "_task_milestone ." + a + "_event_inner", "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))), r } }, s.hi = function (t, n, a) { var r = {}; a = a || {}, a.dontAddToCache || o.addToCache(t, n); var l = s.ki(t), d = l.data, c = l.type, u = {}; if (DayPilot.Util.copyProps(d, u, ["id", "start", "end", "text", "complete", "tags", "versions"]), DayPilot.Util.copyProps(d.box, u), u.parent = n, u.task = t, u.resource = d.id, u.commitCallback = function (e) { return function () { e.task.start = e.start, e.task.end = e.end } }(u), "Group" === c) { u.type = "Group", u.html = d.box && d.box.html || ""; var h = s.li(l); if (h && (u.cssClass = (u.cssClass || "") + " " + h), "Auto" === i.taskGroupMode) { var f = s.ei(t); u.start = f.start, u.end = f.end, u.resizeDisabled = !0, u.moveDisabled = !0, i.moveGroupChildren && (u.moveDisabled = !1) } } else if ("Milestone" === c) { u.html = "", t.end = t.start; var h = s.li(l); h && (u.cssClass = (u.cssClass || "") + " " + h), d.end = d.start, u.end = d.start, u.barHidden = !0, u.resizeDisabled = !0, u.type = "Milestone", u.width = i.taskHeight, delete u.backColor } else "Task" === c && e(); u.moveVDisabled = !0, u.htmlRight = d.box.htmlRight, u.htmlLeft = d.box.htmlLeft, r.event = u; var v = {}; return v.task = t, DayPilot.Util.copyProps(d.row, v), v.name = d.text, v.id = d.id, v.children = [], v.expanded = !d.row || !d.row.collapsed, t.children && t.children.length && s.ji(t.children, v.children, t), r.row = v, r }, s.ji = function (e, t, n) { if (DayPilot.isArray(e)) for (var i = 0; i < e.length; i++) { var r = e[i], o = s.hi(r, n); a.events.list.push(o.event), t.push(o.row) } }, s.fi = function (e) { var t = [], n = e.children(); if (!n) return t; for (var i = 0; i < n.length; i++) { var a = n[i]; t.push(a), t = t.concat(s.fi(a)) } return t }, s.ei = function (e) { if (!e.children || !e.children.length) { var t = e.start, n = e.end; return "Milestone" === e.type && (n = t), { "start": new DayPilot.Date(t), "end": new DayPilot.Date(n) } } for (var t = null, n = null, i = 0; i < e.children.length; i++) { var a = s.ei(e.children[i]); (!t || a.start.getTime() < t.getTime()) && (t = a.start), (!n || a.end.getTime() > n.getTime()) && (n = a.end) } return { "start": t, "end": n } }, this.rows = {}, this.rows.expand = function (e) { a.rows.expand(e) }, this.rows.expandAll = function () { a.rows.expandAll() }, this.rows.collapseAll = function () { a.rows.collapseAll() }, this.rows.filter = function (e) { a.rows.filter(e) }, this.rows.selection = {}, this.rows.selection.add = function (e) { a.rows.find(e.data.id) }, this.rows.selection.clear = function () { a.rows.selection.clear() }, this.rows.selection.get = function () { return a.rows.selection.get().map(function (e) { return new DayPilot.Task(e.$.row.task, i) }) }, this.exportAs = function (e, t) { return a.exportAs(e, t) }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "tasks": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.tasks.list = e.list : i.tasks.list = e) } }, "links": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.links.list = e.list : i.links.list = e) } }, "scrollTo": { "postInit": function () { this.data && i.scrollTo(this.data) } }, "scrollToTask": { "postInit": function () { this.data && i.scrollToTask(this.data) } } }; this.Jh = t; for (var n in e) if (t[n]) { var a = t[n]; a.data = e[n], a.preInit && a.preInit() } else i[n] = e[n] } }, this.Ih = function () { var e = this.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } }, this.internal = {}, this.internal.initialized = function () { return i.Aa }, this.internal.rowObjectForTaskData = s.ii, this.internal.loadOptions = i.ph, this.lh = {}, this.lh.scope = null, this.lh.notify = function () { i.lh.scope && i.lh.scope["$apply"]() }, this.ph(n)
        }, DayPilot.Gantt.makeDraggable = function (e) { DayPilot.Scheduler.makeDraggableAsRow(e) }, DayPilot.Gantt.registerDropTarget = function (e) { var t = {}; t.element = e.element, t.onDrop = function (t) { var n = {}; n.task = new DayPilot.Task(t.row.data.task, t.row.calendar), "function" == typeof e.onDrop && e.onDrop(n) }, t.onDragOver = function (t) { var n = {}; n.task = new DayPilot.Task(t.row.data.task, t.row.calendar), "function" == typeof e.onDragOver && e.onDragOver(n) }, t.onDragLeave = function (t) { var n = {}; n.task = new DayPilot.Task(t.row.data.task, t.row.calendar), "function" == typeof e.onDragLeave && e.onDragLeave(n) }, DayPilot.Scheduler.registerRowDropTarget(t) }, DayPilot.Gantt.unregisterDropTarget = function (e) { DayPilot.Scheduler.unregisterDropTarget(e) }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotGantt = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) { var n = new DayPilot.Gantt(this.id, e); n.init(), this.daypilot = n, t || (t = n) } }); return 1 === this.length ? t : n } }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotGantt", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Gantt(n[0]); a.lh.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"]; d.call(t, c, function (e, t) { a.ph(e), a.update() }, !0) } } } }]) }(), DayPilot.Gantt.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
        var e = function () { }; DayPilot.Kanban = function (t, n) {
            this.v = "2024.4.6294"; var i = this; this.barWidth = 5, this.cardAutoHeight = !0, this.cardHeight = 60, this.cardMarginLeft = 5, this.cardMarginRight = 5, this.cardMarginBottom = 5, this.columnHeaderHeight = 20, this.crosshairType = "Disabled", this.height = 300, this.heightSpec = "Auto", this.theme = "kanban_default", this.cellMarginBottom = 4, this.cellMarginTop = 5, this.columnWidthSpec = "Auto", this.columnWidth = 200, this.cornerHtml = null, this.contextMenuCard = null, this.rowMinHeight = 0, this.swimlaneCollapsingEnabled = !1, this.swimlaneHeaderWidth = 80, this.visible = !0, this.swimlanes = {}, this.swimlanes.list = [], this.columns = {}, this.columns.list = [], this.cards = {}, this.cards.list = [], this.cardDeleteHandling = "Disabled", this.cardMoveHandling = "Update", this.columnMoveHandling = "Disabled", this.swimlaneMoveHandling = "Disabled", this.cardRightClickHandling = "ContextMenu", this.onBeforeCellRender = null, this.onCardClick = null, this.onCardClicked = null, this.onCardRightClick = null, this.onCardRightClicked = null, this.onCardDelete = null, this.onCardDeleted = null, this.onCardMove = null, this.onCardMoved = null, this.onColumnMove = null, this.onColumnMoved = null, this.onHeightChanged = null, this.onSwimlaneMove = null, this.onSwimlaneMoved = null; var a = new DayPilot.Scheduler(t); this.scheduler = a; var r = {}, o = 15, s = 15; e(); var l = new DayPilot.Date("2000-01-01"); r.translate = function () {
                var e = a; e.startDate = l, e.scale = "Day", e.timeHeaders = [{ groupBy: "Cell", format: "d" }], e.rowHeaderColumnsMode = "Legacy", e.heightSpec = i.heightSpec, e.cellWidthSpec = i.columnWidthSpec, e.cellWidth = i.columnWidth, e.cellsMarkBusiness = !1, e.cornerHtml = i.cornerHtml, e.crosshairType = i.crosshairType, e.dynamicEventRendering = "Disabled", e.floatingEvents = !1, e.floatingTimeHeaders = !1, e.rowMinHeight = i.rowMinHeight, e.rowMarginTop = i.cellMarginTop, e.rowMarginBottom = i.cellMarginBottom, e.devsb = i.devsb, e.eventMoveToPosition = !0, e.headerHeight = i.columnHeaderHeight, e.eventResizeHandling = "Disabled", e.timeRangeSelectedHandling = "Disabled", e.eventHeight = i.cardHeight, e.eventMarginLeft = i.cardMarginLeft, e.eventMarginRight = i.cardMarginRight, e.eventMarginBottom = i.cardMarginBottom, e.eventTextWrappingEnabled = !0, e.durationBarVisible = !1, e.theme = i.theme, e.visible = i.visible, e.rowHeaderWidth = i.swimlaneHeaderWidth, e.contextMenu = i.contextMenuCard, e.eventDeleteHandling = i.cardDeleteHandling, e.eventMoveHandling = i.cardMoveHandling, e.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty() ? "Disabled" : i.swimlaneMoveHandling, e.eventRightClickHandling = i.cardRightClickHandling, e.onHeightChanged = i.onHeightChanged, e.internal.enableCellStacking(i.cardAutoHeight), e.internal.cssNames.timeheadercol = "_colheadercell", e.internal.cssNames.timeheadercolInner = "_colheadercell_inner", e.internal.cssNames.resourcedivider = "_rowheaderdivider", e.internal.cssNames.event = "_card", e.internal.cssNames.eventInner = "_card_inner", e.internal.cssNames.eventDelete = "_card_delete", e.internal.cssNames.eventMovingSource = "_card_moving_source", i.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15), e.onBeforeTimeHeaderRender = function (e) { var t = i.mi(e.header.start); if (e.header.html = t.name, e.header.toolTip = t.toolTip || "", e.header.areas = DayPilot.list(t.areas).map(function (e) { var t = []; return DayPilot.Util.copyProps(e, t), t }), DayPilot.list(e.header.areas).forEach(function (e) { e.target = new DayPilot.KanbanColumn(t, i) }), "Disabled" !== i.columnMoveHandling) { var n = i.theme + "_columnmove_handle"; e.header.areas.push({ "left": 0, "top": 0, "width": 20, "height": 20, "css": n, "mousedown": i.ni, "action": "None" }) } }, e.onBeforeCellRender = function (t) { var n = {}; n.cell = {}, n.cell.column = new DayPilot.KanbanColumn(i.mi(t.cell.start), i), n.cell.swimlane = null; var a = i.oi(t.cell.resource); a && (n.cell.swimlane = new DayPilot.Swimlane(a, i)), n.cell.areas = [], n.cell.cssClass = null, n.cell.html = null, n.cell.backImage = null, n.cell.backRepeat = null, n.cell.backColor = null, "function" == typeof i.onBeforeCellRender && (i.onBeforeCellRender(n), DayPilot.Util.copyProps(n.cell, t.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]), DayPilot.list(t.cell.areas).forEach(function (e) { e.target = { "swimlane": n.cell.swimlane, "column": n.cell.column } })); var r = e.rows.find(t.cell.resource); e.resources[r.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = ""), t.cell.cssClass += " " + i.theme + "_collapsed") }, e.onEventClick = function (e) { var t = new DayPilot.Args(e); t.card = new DayPilot.Card(e.e.data.card, i), "function" == typeof i.onCardClick && i.onCardClick(t), e.wrapped = t }, e.onEventClicked = function (e) { var t = e.wrapped; "function" == typeof i.onCardClicked && i.onCardClicked(t) }, e.onEventRightClick = function (e) { var t = new DayPilot.Args(e); if (t.card = new DayPilot.Card(e.e.data.card, i), "function" == typeof i.onCardRightClick && i.onCardRightClick(t), e.wrapped = t, !e.preventDefault.value) { var n = e.e, a = t.card; switch (i.cardRightClickHandling) { case "ContextMenu": var r = n.client.contextMenu(); r ? r.show(a) : i.contextMenuCard && i.contextMenuCard.show(a), e.preventDefault() } } }, e.onEventRightClicked = function (e) {
                    var t = e.wrapped; "function" == typeof i.onCardRightClicked && i.onCardRightClicked(t);
                }, e.onEventDelete = function (e) { var t = new DayPilot.Args(e); t.card = new DayPilot.Card(e.e.data.card, i), t.control = i, "function" == typeof i.onCardDelete && i.onCardDelete(t), e.wrapped = t }, e.onEventDeleted = function (e) { DayPilot.rfa(i.cards.list, e.e.data.card); var t = e.wrapped; "function" == typeof i.onCardDeleted && i.onCardDeleted(t) }, e.onEventMove = function (e) { e.external && (e.e.data.card = { id: e.e.data.id, name: e.e.data.name, text: e.e.data.text, barColor: e.e.data.barColor, barBackColor: e.e.data.barBackColor }); var t = new DayPilot.Args(e); t.async = !1, t.control = i, t.card = new DayPilot.Card(e.e.data.card, i), t.column = new DayPilot.KanbanColumn(i.mi(e.newStart)), t.position = e.position, t.external = e.external, t.loaded = function () { if (t.async) { if (t.preventDefault.value) return; u() } }, "*" !== e.newResource ? t.swimlane = new DayPilot.Swimlane(i.oi(e.newResource), i) : t.swimlane = null; for (var n = a.cells.find(e.newStart, e.newResource)[0].events(), o = e.position, s = null, l = o - 1; n[l];) { if (n[l].data !== e.e.data) { s = new DayPilot.Card(n[l]); break } l -= 1 } for (var d = null, c = o; n[c];) { if (n[c].data !== e.e.data) { d = new DayPilot.Card(n[c]); break } c += 1 } if (t.previous = s, t.next = d, "function" == typeof i.onCardMove && i.onCardMove(t), e.wrapped = t, e.preventDefault(), !t.preventDefault.value) { var u = function () { switch (i.cardMoveHandling) { case "Update": var t = 0; d ? t = d.wrapped.data.sort[0] : s && (t = s.wrapped.data.sort[0]), e.e.data.sort = [t, (new DayPilot.Date).toString()], DayPilot.rfa(i.cards.list, e.e.data.card); var n = 0; d ? n = DayPilot.indexOf(i.cards.list, d.data) : s && (n = DayPilot.indexOf(i.cards.list, s.data) + 1); var o = i.mi(e.newStart); e.e.data.card.column = o.id, e.e.data.card.swimlane = e.newResource, i.cards.list.splice(n, 0, e.e.data.card), r.updateSort(), a.internal.deleteDragSource(), i.update() }!function () { var t = e.wrapped, n = DayPilot.list(i.cards.list).find(function (t) { return e.e.data.card === t }); n.swimlane = t.swimlane ? t.swimlane.data.id : null, n.column = t.column.data.id, "function" == typeof i.onCardMoved && i.onCardMoved(t) }() }; t.async || u() } }, e.onBeforeResHeaderRender = function (e) { if (i.swimlaneCollapsingEnabled) { if (!DayPilot.list(i.swimlanes.list).isEmpty()) { var t = i.theme + "_swimlane_collapse"; e.resource.collapsed && (t = i.theme + "_swimlane_expand"), e.resource.areas = [{ "right": 0, "top": 0, "height": s, "width": o, "action": "JavaScript", "css": t, "js": function () { i.pi(e.resource.index) } }] } } }, e.onRowMove = function (e) { var t = new DayPilot.Args(e); t.control = i, e.wrapped = t, t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane); var n = 0; switch (e.position) { case "before": n = e.target.index; break; case "after": n = e.target.index + 1; break; default: throw "Unexpected target swimlane position: " + e.position }t.position = n, t.previous = null; for (var r = n - 1; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data;)t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane), r -= 1; t.next = null; for (var o = n; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data;)t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane), o += 1; "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t) }, e.onRowMoved = function (e) { var t = e.wrapped; DayPilot.rfa(i.swimlanes.list, t.swimlane.data); var n = 0; t.next ? n = DayPilot.indexOf(i.swimlanes.list, t.next.data) : t.previous && (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1), i.swimlanes.list.splice(n, 0, t.swimlane.data), "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t) }, e.treePreventParentUsage = !0
            }, r.loadCards = function () { var e = i.theme + "_card_header", t = i.theme + "_card_body", n = (new DayPilot.Date).toString(); a.sortDirections = ["asc", "desc"], a.events.list = DayPilot.list(i.cards.list).map(function (a, r) { var o = a.html || a.text || "", s = a.name || "", d = {}; return d.id = a.id, d.text = a.text, d.html = "<div class='" + e + "'>" + s + "</div><div class='" + t + "'>" + o + "</div>", d.resource = a.swimlane, d.start = l.addDays(DayPilot.list(i.columns.list).findIndex(function (e) { return a.column === e.id })), d.end = d.start.addDays(1), d.card = a, d.height = a.height, d.cssClass = a.cssClass, d.sort = [r, n], d.areas = DayPilot.list(a.areas).map(function (e) { var t = {}; return DayPilot.Util.copyProps(e, t), e.js && (t.js = function (t) { e.js(new DayPilot.Card(t.data.card, i)) }), t }), d.areas.push({ "left": 0, "width": 5, "top": 0, "bottom": 0, "backColor": a.barColor, "cssClass": i.theme + "_card_bar" }), d }) }, r.updateSort = function () { var e = (new DayPilot.Date).toString(); DayPilot.list(i.cards.list).forEach(function (t, n) { var i = r.findSchedulerEventData(t); i && (i.sort = [n, e]) }) }, r.findSchedulerEventData = function (e) { return DayPilot.list(a.events.list).find(function (t) { return t.card === e }) }, r.loadSwimlanes = function () { var e = DayPilot.list(i.swimlanes.list); a.resources = e.map(function (e) { var t = {}; return t.name = e.name, t.id = e.id, t.swimlane = e, e.collapsed && (t.collapsed = !0, t.eventHeight = 20, t.hideEvents = !0), t }), e.isEmpty() && (a.resources = [{ name: "", id: "*" }]) }, r.loadColumns = function () { var e = DayPilot.list(i.columns.list); a.days = e.length }; var d = {}; d.active = null, d.div = null, d.update = function () { d.clear(); var e = d.findPosition(); d.draw(e) }, d.clear = function () { DayPilot.de(d.div), d.div = null }, d.draw = function (e) { var t = 0; if (e >= a.itline.length) { var n = a.itline[a.itline.length - 1]; t = n.left + n.width - 3 } else t = a.itline[e].left; var r = document.createElement("div"); r.style.position = "absolute", r.style.left = t + "px", r.style.width = "3px", r.style.top = 0, r.style.height = a.headerHeight + "px", r.className = i.theme + "_columnmove_position", d.div = r, a.nav.timeHeader.appendChild(r) }, d.findPosition = function () { if (i.coords.x < 0) return 0; var e = DayPilot.list(a.itline).findIndex(function (e) { var t = e.left + a.rowHeaderWidth, n = e.width; return i.coords.x < t + n / 2 }); return e === -1 ? a.itline.length : e }, this.ni = function (e) { d.active = e }, this.mi = function (e) { return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)] }, this.oi = function (e) { return DayPilot.list(i.swimlanes.list).find(function (t) { return t.id === e }) }, this.message = function (e, t, n, i) { a.message(e, t, n, i) }, this.show = function () { i.visible = !0, a.show() }, this.hide = function () { i.visible = !1, a.hide() }, this.cards.add = function (e) { var t = null; t = e && e instanceof DayPilot.Card ? e.data : e, e && (i.cards.list.push(t), i.update()) }, this.cards.remove = function (e) { var t = null; t = e && e instanceof DayPilot.Card ? e.data : e, e && (DayPilot.rfa(i.cards.list, t), i.update()) }, this.cards.update = function (e) { i.update() }, this.cards.find = function (e) { var t = DayPilot.list(i.cards.list).find(function (t) { return e === t.id }); return t ? new DayPilot.Card(t, i) : null }, this.pi = function (e) { DayPilot.list(i.swimlanes.list).isEmpty() || (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed), i.update() }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); return r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.init(), i.Eg(), this.Aa = !0, this }, this.Ba = !1, this.dispose = function () { a.dispose(), i.Ba = !0 }, this.update = function (e) { var t = i; if (!t.Aa) throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet."); if (t.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed."); i.ph(e), r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.update() }, this.Eg = function () { DayPilot.re(document, "mouseup", i.Hg), DayPilot.re(document, "mousemove", i.Gg) }, this.lh = {}, this.lh.scope = null, this.lh.notify = function () { i.lh.scope && i.lh.scope["$apply"]() }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "cards": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.cards.list = e.list : i.cards.list = e) } }, "columns": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.columns.list = e.list : i.columns.list = e) } }, "swimlanes": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? i.swimlanes.list = e.list : i.swimlanes.list = e) } } }; this.Jh = t; for (var n in e) if (t[n]) { var a = t[n]; a.data = e[n], a.preInit && a.preInit() } else i[n] = e[n] } }, this.Ih = function () { var e = this.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } }, this.internal = {}, this.internal.loadOptions = i.ph, this.ph(n), this.vg = function () { var e = i.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0) }, this.wg = function () { var e = i, t = e.vg; t() || e.Sa || (e.Sa = setInterval(function () { t() && (e.update(), clearInterval(e.Sa)) }, 100)) }, this.Gg = function (e) { i.coords = DayPilot.mo3(a.nav.top, e), d.active && d.update() }, this.Hg = function (e) { if (d.active) { var t = d.active.source, n = d.findPosition(), a = i.mi(t.start), r = new DayPilot.Args; r.column = new DayPilot.KanbanColumn(a, i), r.position = n, r.previous = null, r.next = null; for (var o = null, s = r.position; 0 !== s && !o;)a !== i.columns.list[s - 1] && (o = i.columns.list[s - 1]), s -= 1; o && (r.previous = new DayPilot.KanbanColumn(o, i)); var l = null; for (s = r.position; s < i.columns.list.length - 1 && !l;)a !== i.columns.list[s] && (l = i.columns.list[s]), s += 1; if (l && (r.next = new DayPilot.KanbanColumn(l, i)), "function" == typeof i.onColumnMove && i.onColumnMove(r), !r.preventDefault.value) { if ("Update" === i.columnMoveHandling) { DayPilot.rfa(i.columns.list, r.column.data); var c = 0; r.next ? c = DayPilot.indexOf(i.columns.list, r.next.data) : r.previous && (c = DayPilot.indexOf(i.columns.list, r.previous.data) + 1), i.columns.list.splice(c, 0, r.column.data), i.update() } "function" == typeof i.onColumnMoved && i.onColumnMove(r) } d.active = null, d.clear() } }
        }, DayPilot.Kanban.makeDraggable = function (e) { DayPilot.Scheduler.makeDraggable(e) }, DayPilot.Card = function (e, t) { if (e instanceof DayPilot.Event) { var n = e; this.data = n.data.card, this.wrapped = e } else this.data = e; this.control = t }, DayPilot.KanbanColumn = function (e, t) { this.data = e, this.control = t }, DayPilot.Swimlane = function (e, t) { this.data = e, this.control = t }, function () { var e = DayPilot.am(); e && e.directive("daypilotKanban", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Kanban(n[0]); a.lh.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"]; d.call(t, c, function (e, t) { a.ph(e), a.update() }, !0) } } } }]) }(), DayPilot.Kanban.def = {}
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) { var e = function () { }, t = {}; t.mouse = null, t.menu = null, t.handlersRegistered = !1, t.hideTimeout = null, t.waitingSubmenu = null, DayPilot.Menu = function (n) { var i = this, a = null; this.v = "2024.4.6294", this.zIndex = 120, this.cssClassPrefix = "menu_default", this.cssOnly = !0, this.menuTitle = null, this.showMenuTitle = !1, this.hideOnMouseOut = !1, this.hideAfter = 200, this.theme = null, this.onShow = null, this.S = function () { }, n && DayPilot.isArray(n) && (this.items = n), this.toJSON = function () { return null }, this.show = function (n, r) { r = r || {}; var o = null; if (n ? "string" == typeof n.id || "number" == typeof n.id ? o = n.id : "function" == typeof n.id ? o = n.id() : "function" == typeof n.value && (o = n.value()) : o = null, "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), r.submenu || t.menuClean(), this.S.submenu = null, null !== t.mouse) { i.cssOnly || (i.cssOnly = !0); var s = null; if (n && n.isRow && n.$.row.task ? (s = new DayPilot.Task(n.$.row.task, n.calendar), s.menuType = "resource") : s = n && n.isEvent && n.data.task ? new DayPilot.Task(n, n.calendar) : n, "function" == typeof i.onShow) { var l = {}; if (l.source = s, l.menu = i, l.preventDefault = function () { l.preventDefault.value = !0 }, i.onShow(l), l.preventDefault.value) return } var d = document.createElement("div"); if (d.style.position = "absolute", d.style.top = "0px", d.style.left = "0px", d.style.display = "none", d.style.overflow = "hidden", d.style.zIndex = this.zIndex + 1, d.className = this.applyCssClass("main"), d.onclick = function (e) { e.cancelBubble = !0, this.parentNode.removeChild(this) }, this.hideOnMouseOut && (d.onmousemove = function (e) { clearTimeout(t.hideTimeout) }, d.onmouseleave = function (e) { i.delayedHide({ "hideParent": !0 }) }), !this.items || 0 === this.items.length) throw "No menu items defined."; if (this.showMenuTitle) { var c = document.createElement("div"); c.innerHTML = this.menuTitle, c.className = this.applyCssClass("title"), d.appendChild(c) } for (var u = 0; u < this.items.length; u++) { var h = this.items[u], f = document.createElement("div"); if (DayPilot.Util.addClass(f, this.applyCssClass("item")), h.items && (DayPilot.Util.addClass(f, this.applyCssClass("item_haschildren")), DayPilot.Util.addClass(d, this.applyCssClass("withchildren"))), "undefined" != typeof h && !h.hidden) { if ("-" === h.text) { var v = document.createElement("div"); v.addEventListener("click", function (e) { e.stopPropagation() }), f.appendChild(v) } else { var p = document.createElement("a"); if (p.style.position = "relative", p.style.display = "block", h.cssClass && DayPilot.Util.addClass(p, h.cssClass), h.disabled) DayPilot.Util.addClass(p, i.applyCssClass("item_disabled")); else { if (h.onclick || h.onClick) { p.item = h, p.onclick = function (e, t) { return function (n) { if ("function" == typeof e.onClick) { var i = {}; if (i.item = e, i.source = t.source, i.originalEvent = n, i.preventDefault = function () { i.preventDefault.value = !0 }, e.onClick(i), i.preventDefault.value) return void n.stopPropagation() } e.onclick && e.onclick.call(t, n) } }(h, p); var m = function (e, n) { return function (i) { i.stopPropagation(), i.preventDefault(); var a = function () { window.setTimeout(function () { n.source.calendar && (n.source.calendar.internal.touch.active = !1) }, 500) }; if ("function" == typeof e.onClick) { var r = {}; if (r.item = e, r.source = n.source, r.originalEvent = i, r.preventDefault = function () { r.preventDefault.value = !0 }, e.onClick(r), r.preventDefault.value) return void a() } e.onclick && e.onclick.call(n, i), t.menuClean(), a() } }; DayPilot.reNonPassive(p, "touchstart", function (e) { e.stopPropagation(), e.preventDefault(), p.source.calendar && (p.source.calendar.internal.touch.active = !0) }), DayPilot.reNonPassive(p, "touchend", m(h, p)) } if (h.items && !h.disabled) { var g = function (e, t) { return function (n) { n.preventDefault(), n.stopPropagation(), i.qi(e, t) } }; p.ontouchend = g(h, p) } if (h.onclick) e(); else if (h.href) p.href = h.href.replace(/\x7B0\x7D/gim, o), h.target && p.setAttribute("target", h.target); else if (h.command) { var g = function (e, t) { return function (n) { var i = t.source, a = e; a.action = a.action ? a.action : "CallBack"; var r = i.calendar || i.root; if (i instanceof DayPilot.Link) return void r.internal.linkMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Event) return void r.internal.eventMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, i, a.action); if (i instanceof DayPilot.Task) return void ("resource" === i.menuType ? r.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : r.internal.eventMenuClick(a.command, t.menuSource, a.action)); switch (i.menuType) { case "resource": return void r.internal.resourceHeaderMenuClick(a.command, i, a.action); case "selection": return void r.internal.timeRangeMenuClick(a.command, i, a.action); default: return void r.internal.eventMenuClick(a.command, i, a.action) }n.preventDefault() } }; p.onclick = g(h, p), p.ontouchend = g(h, p) } } h.items && p.addEventListener("click", function (e) { e.stopPropagation() }), p.source = s, p.menuSource = n; var y = document.createElement("span"); if (y.className = i.applyCssClass("item_text"), y.innerHTML = DayPilot.Util.escapeTextHtml(h.text, h.html), p.appendChild(y), h.image) { var b = document.createElement("img"); b.src = h.image, b.style.position = "absolute", b.style.top = "0px", b.style.left = "0px", p.appendChild(b) } if (h.icon) { var w = document.createElement("span"); w.className = i.applyCssClass("item_icon"); var x = document.createElement("i"); x.className = h.icon, w.appendChild(x), p.appendChild(w) } if (h.symbol) { var k = "http://www.w3.org/2000/svg", C = document.createElementNS(k, "svg"); C.setAttribute("width", "100%"), C.setAttribute("height", "100%"); var _ = document.createElementNS(k, "use"); _.setAttribute("href", h.symbol), C.appendChild(_); var E = document.createElement("span"); E.className = i.applyCssClass("item_symbol"), E.style.position = "absolute", E.style.top = "0px", E.style.left = "0px", E.appendChild(C), p.appendChild(E) } var S = function (e, n) { return function () { var a = (n.source, e), r = t.waitingSubmenu; if (r) { if (r.parent === a) return; clearTimeout(r.timeout), t.waitingSubmenu = null } e.disabled || (t.waitingSubmenu = {}, t.waitingSubmenu.parent = a, t.waitingSubmenu.timeout = setTimeout(function () { t.waitingSubmenu = null, i.qi(a, n) }, 300)) } }; p.onmouseover = S(h, p), f.appendChild(p) } d.appendChild(f) } } var T = function (e) { window.setTimeout(function () { t.menuClean(), DayPilot.MenuBar.deactivate() }, 100) }; d.onclick = T, d.ontouchend = T, d.onmousedown = function (e) { e = e || window.event, e.cancelBubble = !0, e.stopPropagation && e.stopPropagation() }, d.oncontextmenu = function () { return !1 }, document.body.appendChild(d), i.S.visible = !0, i.S.source = n, d.style.display = ""; var D = d.offsetHeight, A = d.offsetWidth; d.style.display = "none"; var H = document.documentElement.clientHeight, M = window.innerWidth, R = "number" == typeof r.windowMargin ? r.windowMargin : 5; if (function () { var e = r.initiator; if (e) { var t = e.div, n = e.e, i = e.area, o = i.visibility || i.v || "Visible", s = e.a; if ("Visible" !== o && (s = DayPilot.Areas.createArea(t, n, i), t.appendChild(s), a = s), s) { var l = DayPilot.abs(s); r.x = l.x, r.y = l.y + l.h + 2 } } }(), function () { var e = "number" == typeof r.x ? r.x : t.mouse.x + 1, n = "number" == typeof r.y ? r.y : t.mouse.y + 1, a = document.body.scrollTop || document.documentElement.scrollTop, o = document.body.scrollLeft || document.documentElement.scrollLeft, s = 0, l = 0; if (n - a > H - D && 0 !== H) { s = n - (n - a - (H - D) + R) } else s = n; if (i.S.y = s, d.style.top = s + "px", "right" === r.align && (e -= A), e - o > M - A && 0 !== M) { l = e - (e - o - (M - A) + R) } else l = e; i.S.x = l, d.style.left = l + "px" }(), r.parentLink) { var B = r.parentLink, N = parseInt(new DayPilot.StyleReader(d).get("border-top-width")), P = DayPilot.abs(r.parentLink.parentNode), L = P.x + B.offsetWidth, I = P.y - N; L + A > M && (L = Math.max(0, P.x - A)); var z = document.body.scrollTop + document.documentElement.scrollTop; I + D - z > H && (I = Math.max(0, H - D + z)), d.style.left = L + "px", d.style.top = I + "px" } d.style.display = "", this.addShadow(d), this.S.div = d, r.submenu || (DayPilot.Menu.active = this) } }, this.update = function () { i.S.visible && (i.hide(), i.show(i.S.source, { "x": i.S.x, "y": i.S.y })) }, this.qi = function (e, t) { var n = e, a = t.source; if ((!i.S.submenu || i.S.submenu.item !== e) && (i.S.submenu && i.S.submenu.item !== e && (DayPilot.Util.removeClass(i.S.submenu.link.parentNode, i.applyCssClass("item_haschildren_active")), i.S.submenu.menu.hide(), i.S.submenu = null), e.items)) { var r = i.cloneOptions(); r.items = e.items, i.S.submenu = {}, i.S.submenu.menu = new DayPilot.Menu(r), i.S.submenu.menu.ri = i, i.S.submenu.menu.show(a, { "submenu": !0, "parentLink": t, "parentItem": n }), i.S.submenu.item = e, i.S.submenu.link = t, DayPilot.Util.addClass(t.parentNode, i.applyCssClass("item_haschildren_active")) } }, this.applyCssClass = function (e) { var t = this.theme || this.cssClassPrefix, n = this.cssOnly ? "_" : ""; return t ? t + n + e : "" }, this.cloneOptions = function () { return DayPilot.Util.copyProps(r, {}, ["cssClassPrefix", "theme", "hideAfter", "hideOnMouseOut", "zIndex"]) }, this.hide = function (e) { e = e || {}, this.S.submenu && this.S.submenu.menu.hide(); var n = t.waitingSubmenu; if (n && (t.waitingSubmenu = null, clearTimeout(n.timeout)), this.removeShadow(), this.S.div && this.S.div.parentNode === document.body && document.body.removeChild(this.S.div), a && (DayPilot.de(a), a = null), i.S.visible = !1, i.S.source = null, i.ri && e.hideParent && i.ri.hide(e), DayPilot.Menu.active === i && (DayPilot.Menu.active = null), "function" == typeof this.onHide) { var r = {}; this.onHide(r) } }, this.delayedHide = function (e) { t.hideTimeout = setTimeout(function () { i.hide(e) }, i.hideAfter) }, this.cancelHideTimeout = function () { clearTimeout(t.hideTimeout) }, this.init = function (e) { return t.mouseMove(e), this }, this.addShadow = function (e) { }, this.removeShadow = function () { }; var r = DayPilot.isArray(n) ? null : n; if (r) for (var o in r) this[o] = r[o] }, DayPilot.MenuBar = function (e, t) { var n = this; t = t || {}, this.items = [], this.theme = "menubar_default", this.windowMargin = 0, this.nav = {}, this.elements = {}, this.elements.items = DayPilot.list(), this.t = null, this.Aa = !1; for (var i in t) this[i] = t[i]; this.si = function (e) { return this.theme + "_" + e }, this.E = function () { this.nav.top = document.getElementById(e); var t = this.nav.top; t.className = this.si("main"), DayPilot.list(n.items).forEach(function (e) { var i = document.createElement("span"); i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html), i.className = n.si("item"), e.cssClass && i.classList.add(e.cssClass), i.data = e, i.onclick = function (t) { if (n.active && n.active.item === e) n.vi(); else if (e.children) return void n.wi(i); if ("function" == typeof e.onClick) { var a = {}; a.item = e, a.originalEvent = t, e.onClick(a) } }, i.onmousedown = function (e) { e.stopPropagation() }, i.onmouseover = function () { n.active && n.active.item !== e && n.wi(i) }, t.appendChild(i), n.elements.items.push(i) }) }, this.vi = function () { var e = n.si("item_active"); n.elements.items.forEach(function (t) { DayPilot.Util.removeClass(t, e) }), n.active && n.active.menu && n.active.menu.hide(), n.active = null }, this.xi = function (e) { return !!n.active && n.active.item === e.data }, this.wi = function (e) { if (!n.xi(e)) { n.vi(); var t = e.data, i = n.active = {}; i.item = t, i.div = e; var a = n.si("item_active"); DayPilot.Util.addClass(e, a); var r = DayPilot.abs(e); if (t.children) { i.menu = new DayPilot.Menu({ "items": t.children }); var o = r.x; "right" === t.align && (o += r.w), i.menu.show(null, { "x": o, "y": r.y + r.h, "align": t.align, "windowMargin": n.windowMargin }) } DayPilot.MenuBar.active = n } }, this.init = function () { return this.E(), this.Aa = !0, this }, this.dispose = function () { this.Aa && (this.nav.top.innerHTML = "", this.elements.items = []) } }, DayPilot.MenuBar.deactivate = function () { DayPilot.MenuBar.active && (DayPilot.MenuBar.active.vi(), DayPilot.MenuBar.active = null) }, t.menuClean = function () { "undefined" != typeof DayPilot.Menu.active && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), DayPilot.Menu.active = null) }, t.mouseDown = function (e) { "undefined" != typeof t && (t.menuClean(), DayPilot.MenuBar.deactivate()) }, t.wheel = function (e) { "undefined" != typeof t && (t.menuClean(), DayPilot.MenuBar.deactivate()) }, t.mouseMove = function (e) { "undefined" != typeof t && (t.mouse = t.mousePosition(e)) }, t.touchMove = function (e) { "undefined" != typeof t && (t.mouse = t.touchPosition(e)) }, t.touchStart = function (e) { "undefined" != typeof t && (t.mouse = t.touchPosition(e)) }, t.touchEnd = function (e) { }, t.touchPosition = function (e) { if (!e || !e.touches) return null; var t = e.touches[0], n = {}; return n.x = t.pageX, n.y = t.pageY, n }, t.mousePosition = function (e) { return DayPilot.mo3(null, e) }, DayPilot.Menu.touchPosition = function (e) { e.touches && (t.mouse = t.touchPosition(e)) }, DayPilot.Menu.hide = function (e) { if (e = e || {}, e.calendar) { var n = DayPilot.Menu.active; if (n) { var i = n.S.source; i && i.calendar === e.calendar && t.menuClean() } } else t.menuClean() }, t.handlersRegistered || "undefined" == typeof document || (DayPilot.re(document, "mousemove", t.mouseMove), DayPilot.re(document, "mousedown", t.mouseDown), DayPilot.re(document, "wheel", t.wheel), DayPilot.re(document, "touchmove", t.touchMove), DayPilot.re(document, "touchstart", t.touchStart), DayPilot.re(document, "touchend", t.touchEnd), t.handlersRegistered = !0), DayPilot.Menu.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded() } }(DayPilot), "undefined" == typeof DayPilot && (DayPilot = {}), function (DayPilot) {
    function e(t, n, i) { var a = n.indexOf("."); if (a === -1) return void ("__proto__" !== n && "constructor" !== n && (t[n] = i)); var r = n.substring(0, a); if ("__proto__" !== r && "constructor" !== r) { var o = n.substring(a + 1), s = t[r]; "object" == typeof s && null !== s || (t[r] = {}, s = t[r]), e(s, o, i) } } function t(e, n, i) { n = n || {}, i = i || ""; for (var a in e) { var r = e[a]; "object" == typeof r ? "[object Array]" === Object.prototype.toString.call(r) ? n[i + a] = r : r && r.toJSON ? n[i + a] = r.toJSON() : t(r, n, i + a + ".") : n[i + a] = r } return n } if (!DayPilot.ModalStatic) {
        DayPilot.ModalStatic = {}, DayPilot.ModalStatic.list = [], DayPilot.ModalStatic.hide = function () { if (this.list.length > 0) { var e = this.list.pop(); e && e.hide() } }, DayPilot.ModalStatic.remove = function (e) { for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)if (t[n] === e) return void t.splice(n, 1) }, DayPilot.ModalStatic.close = function (e) { DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide() }, DayPilot.ModalStatic.result = function (e) { var t = DayPilot.ModalStatic.list; t.length > 0 && (t[t.length - 1].result = e) }, DayPilot.ModalStatic.displayed = function (e) { for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++)if (t[n] === e) return !0; return !1 }, DayPilot.ModalStatic.stretch = function () { if (this.list.length > 0) { var e = this.list[this.list.length - 1]; e && e.stretch() } }, DayPilot.ModalStatic.last = function () { var e = DayPilot.ModalStatic.list; return e.length > 0 ? e[e.length - 1] : null }; var n = function () { if ("undefined" == typeof window) { var e = {}; return e.add = function () { }, e.commit = function () { }, e } var t = document.createElement("style"); t.setAttribute("type", "text/css"), t.styleSheet || t.appendChild(document.createTextNode("")), (document.head || document.getElementsByTagName("head")[0]).appendChild(t); var n = !!t.styleSheet, e = {}; return e.rules = [], e.commit = function () { try { n && (t.styleSheet.cssText = this.rules.join("\n")) } catch (e) { } }, e.add = function (e, i, a) { if (n) return void this.rules.push(e + "{" + i + "}"); if (t.sheet.insertRule) "undefined" == typeof a && (a = t.sheet.cssRules.length), t.sheet.insertRule(e + "{" + i + "}", a); else { if (!t.sheet.addRule) throw "No CSS registration method found"; t.sheet.addRule(e, i, a) } }, e.print = function () { for (var e = t.sheet.cssRules, n = [], i = 0; i < e.length; i++)n.push(e[i].cssText); return n.join("\n") }, e }, i = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K", a = new n; a.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"), a.add(".modal_default_main:focus", "outline: none;"), a.add(".modal_default_content", "padding: 10px 0px;"), a.add(".modal_default_inner", "padding: 20px;"), a.add(".modal_default_input", "padding: 10px 0px;"), a.add(".modal_default_buttons", "margin-top: 10px;"), a.add(".modal_default_buttons", "padding: 10px 0px;"), a.add(".modal_default_form_item", "padding: 10px 0px; position: relative;"), a.add(".modal_default_form_item_level1", "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"), a.add(".modal_default_form_item.modal_default_form_title", "font-size: 1.5rem; font-weight: bold;"), a.add(".modal_default_form_item input[type=text]", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item textarea", "width: 100%; height: 200px; box-sizing: border-box;"), a.add(".modal_default_form_item input[type=select]", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item label", "display: block;"), a.add(".modal_default_form_item select", "width: 100%; box-sizing: border-box;"), a.add(".modal_default_form_item_label", "margin: 2px 0px;"), a.add(".modal_default_form_item_image img", "max-width: 100%; height: auto;"), a.add(".modal_default_form_item_invalid", ""), a.add(".modal_default_form_item_invalid_message", "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"), a.add(".modal_default_background", "opacity: 0.5; background-color: #000;"), a.add(".modal_default_ok", "padding: 3px; width: 80px;"), a.add(".modal_default_cancel", "padding: 3px; width: 80px;"), a.add(".modal_default_form_item_date", "position: relative;"), a.add(".modal_default_form_item_date:after", "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" + "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" + ")"),
            "undefined" != typeof navigator && navigator.userAgent.indexOf("Edge") !== -1 && a.add(".modal_default_form_item_date input::-ms-clear", "display: none;"), a.add(".modal_default_form_item_scrollable_scroll", "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"), a.add(".modal_default_form_item_scrollable_scroll_content", "padding: 5px;"), a.add(".modal_default_form_item_searchable", "position: relative;"), a.add(".modal_default_form_item_searchable_icon", ""), a.add(".modal_default_form_item_searchable_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"), a.add(".modal_default_form_item_searchable_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"), a.add(".modal_default_form_item_searchable_list_item", "background: white; padding: 2px; cursor: default;"), a.add(".modal_default_form_item_searchable_list_item_highlight", "background: #ccc;"), a.add(".modal_default_form_item_time", "position: relative;"), a.add(".modal_default_form_item_time_icon", ""), a.add(".modal_default_form_item_time_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"), a.add(".modal_default_form_item_time_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"), a.add(".modal_default_form_item_time_list_item", "background: white; padding: 2px; cursor: default;"), a.add(".modal_default_form_item_time_list_item_highlight", "background: #ccc;"), a.add(".modal_default_form_item_datetime_parent", "display: flex;"), a.add(".modal_default_form_item_datetime .modal_default_form_item_time_main", "margin-left: 5px;"), a.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ", ""), a.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"), a.add(".modal_default_form_item_tabular_table", "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"), a.add(".modal_default_form_item_tabular_tbody", "display: table-row-group;"), a.add(".modal_default_form_item_tabular_row", "display: table-row;"), a.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header", ""), a.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction", "padding: 0px; width: 23px;"), a.add(".modal_default_form_item_tabular_cell", "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"), a.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell", "padding-left: 0px; padding-bottom: 0px;"), a.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]", "width:100%; box-sizing: border-box;"), a.add(".modal_default_form_item_tabular_table select", "width:100%; height:100%; box-sizing: border-box;"), a.add(".modal_default_form_item_tabular_plus", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"), a.add(".modal_default_form_item_tabular_plus:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"), a.add(".modal_default_form_item_tabular_delete", "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"), a.add(".modal_default_form_item_tabular_delete:after", "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"), a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus", "display: none;"), a.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus", "display: none;"), a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete", "visibility: hidden;"), a.add(".modal_default_form_item_tabular_empty", "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"), a.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell", "padding: 0px;"), a.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"), a.add(".modal_min_background", "opacity: 0.5; background-color: #000;"), a.add(".modal_min_ok", "padding: 3px 10px;"), a.add(".modal_min_cancel", "padding: 3px 10px;"), a.add(".navigator_modal_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"), a.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after", "box-sizing: content-box;"), a.add(".navigator_modal_month", "font-size: 11px;"), a.add(".navigator_modal_day", "color: black;"), a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"), a.add(".navigator_modal_dayheader", "color: black;"), a.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"), a.add(".navigator_modal_dayother", "color: gray;"), a.add(".navigator_modal_todaybox", "border: 1px solid red;"), a.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"), a.add(".navigator_modal_busy", "font-weight: bold;"), a.add(".navigator_modal_cell", "text-align: center;"), a.add(".navigator_modal_select .navigator_modal_cell_box", "background-color: #FFE794; opacity: 0.5;"), a.add(".navigator_modal_title", "text-align: center;"), a.add(".navigator_modal_titleleft, .navigator_modal_titleright", "text-align: center;"), a.add(".navigator_modal_dayheader", "text-align: center;"), a.add(".navigator_modal_weeknumber", "text-align: center;"), a.add(".navigator_modal_cell_text", "cursor: pointer;"), a.commit(), DayPilot.Modal = function (e) { this.autoFocus = !0, this.focus = null, this.autoStretch = !0, this.autoStretchFirstLoadOnly = !1, this.className = null, this.theme = "modal_default", this.disposeOnClose = !0, this.dragDrop = !0, this.loadingHtml = null, this.maxHeight = null, this.scrollWithPage = !0, this.useIframe = !0, this.zIndex = 99999, this.left = null, this.width = 600, this.top = 20, this.height = 200, this.locale = null, this.closed = null, this.onClose = null, this.onClosed = null, this.onShow = null; var t = this; this.id = "_" + (new Date).getTime() + "n" + 10 * Math.random(), this.Uf = !1, this.yi = null, this.zi = null, this.showHtml = function (e) { if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed."; if (this.div || this.Ng(), this.Jd(), this.useIframe) { var t = function (e, t) { return function () { e.setInnerHTML(e.id + "iframe", t) } }; window.setTimeout(t(this, e), 0) } else e.nodeType ? this.div.appendChild(e) : this.div.innerHTML = e; this.Jd(), this.Hh(), this.Ai() }, this.showUrl = function (e) { if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed."; if (this.useIframe) { this.div || this.Ng(); var n = this.loadingHtml; n && (this.iframe.src = "about:blank", this.setInnerHTML(this.id + "iframe", n)), this.re(this.iframe, "load", this.Bi), this.iframe.src = e, this.Jd(), this.Hh(), this.Ai() } else t.Ci({ "url": e, "success": function (e) { var n = e.request.responseText; t.showHtml(n) }, "error": function (e) { t.showHtml("Error loading the modal dialog") } }) }, this.Ai = function () { if ("function" == typeof t.onShow) { var e = {}; e.root = t.Di(), e.modal = t, t.onShow(e) } }, this.Di = function () { return t.iframe ? t.iframe.contentWindow.document : t.div }, this.Ci = function (e) { var t = new XMLHttpRequest; if (t) { var n = e.method || "GET", i = e.success || function () { }, a = e.error || function () { }, r = e.data, o = e.url; t.open(n, o, !0), t.setRequestHeader("Content-type", "text/plain"), t.onreadystatechange = function () { if (4 === t.readyState) if (200 === t.status || 304 === t.status) { var e = {}; e.request = t, i(e) } else if (a) { var e = {}; e.request = t, a(e) } else window.console && console.log("HTTP error " + t.status) }, 4 !== t.readyState && ("object" == typeof r && (r = JSON.stringify(r)), t.send(r)) } }, this.Jd = function () { delete this.result; var e = window, n = document, i = e.pageYOffset ? e.pageYOffset : n.documentElement && n.documentElement.scrollTop ? n.documentElement.scrollTop : n.body.scrollTop; this.theme && (this.hideDiv.className = this.theme + "_background"), this.zIndex && (this.hideDiv.style.zIndex = this.zIndex), this.hideDiv.style.display = "", window.setTimeout(function () { t.hideDiv && (t.hideDiv.onclick = function () { t.hide({ "backgroundClick": !0 }) }) }, 500), this.theme ? this.div.className = this.theme + "_main" : this.div.className = "", this.className && (this.div.className += " " + this.className), this.left ? this.div.style.left = this.left + "px" : this.div.style.marginLeft = "-" + Math.floor(this.width / 2) + "px", this.div.style.position = "absolute", this.div.style.boxSizing = "content-box", this.div.style.top = i + this.top + "px", this.div.style.width = this.width + "px", this.zIndex && (this.div.style.zIndex = this.zIndex), this.height && (this.useIframe || !this.autoStretch ? this.div.style.height = this.height + "px" : this.div.style.height = ""), this.useIframe && this.height && (this.iframe.style.height = this.height + "px"), this.div.style.display = "", this.Fi(), DayPilot.ModalStatic.remove(this), DayPilot.ModalStatic.list.push(this) }, this.Bi = function () { t.iframe.contentWindow.modal = t, t.autoStretch && t.stretch() }, this.stretch = function () { var e = function () { return t.Ei().y }, n = function () { return t.Ei().x }; if (this.useIframe) { for (var i = n() - 40, a = this.width; a < i && this.Gi(); a += 10)this.div.style.width = a + "px", this.div.style.marginLeft = "-" + Math.floor(a / 2) + "px"; for (var r = this.maxHeight || e() - 2 * this.top, o = this.height; o < r && this.Hi(); o += 10)this.iframe.style.height = o + "px", this.div.style.height = o + "px"; this.autoStretchFirstLoadOnly && this.ue(this.iframe, "load", this.Bi) } else this.div.style.height = "" }, this.Gi = function () { for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollWidth, i = e.body.children, a = 0; a < i.length; a++) { var r = i[a].offsetLeft + i[a].offsetWidth; n = Math.max(n, r) } return n > t.clientWidth }, this.Hi = function () { for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollHeight, i = e.body.children, a = 0; a < i.length; a++) { var r = i[a].offsetTop + i[a].offsetHeight; n = Math.max(n, r) } return n > t.clientHeight }, this.Ei = function () { var e = document; if ("CSS1Compat" === e.compatMode && e.documentElement && e.documentElement.clientWidth) { var t = e.documentElement.clientWidth, n = e.documentElement.clientHeight; return { x: t, y: n } } var t = e.body.clientWidth, n = e.body.clientHeight; return { x: t, y: n } }, this.Hh = function () { this.Uf || (this.re(window, "resize", this.Ii), this.re(window, "scroll", this.Ji), this.dragDrop && (this.re(document, "mousemove", this.Ki), this.re(document, "mouseup", this.Li)), this.Uf = !0) }, this.ab = function () { this.ue(window, "resize", this.Ii), this.ue(window, "scroll", this.Ji), this.dragDrop && (this.ue(document, "mousemove", this.Ki), this.ue(document, "mouseup", this.Li)), this.Uf = !1 }, this.Mi = function (e) { e.target === t.div && (e.preventDefault(), t.div.style.cursor = "move", t.Ni(), t.zi = t.mc(e || window.event), t.yi = { x: t.div.offsetLeft, y: t.div.offsetTop }) }, this.Ki = function (e) { if (t.zi) { var e = e || window.event, n = t.mc(e), i = n.x - t.zi.x, a = n.y - t.zi.y; t.div.style.marginLeft = "0px", t.div.style.top = t.yi.y + a + "px", t.div.style.left = t.yi.x + i + "px" } }, this.Li = function (e) { t.zi && (t.Oi(), t.div.style.cursor = null, t.zi = null) }, this.Ni = function () { if (this.useIframe) { var e = document.createElement("div"); e.style.backgroundColor = "#ffffff", e.style.filter = "alpha(opacity=80)", e.style.opacity = "0.80", e.style.width = "100%", e.style.height = this.height + "px", e.style.position = "absolute", e.style.left = "0px", e.style.top = "0px", this.div.appendChild(e), this.mask = e } }, this.Oi = function () { this.useIframe && (this.div.removeChild(this.mask), this.mask = null) }, this.Ii = function () { t.Pi(), t.Fi() }, this.Ji = function () { t.Pi() }, this.Fi = function () { if (!t.left && t.div) { var e = t.div.offsetWidth; t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px" } }, this.Pi = function () { if (t.hideDiv && t.div && "none" !== t.hideDiv.style.display && "none" !== t.div.style.display) { var e = t.Qi.scrollY(); t.scrollWithPage || (t.div.style.top = e + t.top + "px") } }, this.Qi = {}, this.Qi.container = function () { return t.container || document.body }, this.Qi.scrollY = function () { var e = t.Qi.container(); return e === document.body ? window.pageYOffset ? window.pageYOffset : document.documentElement && document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop : e.scrollTop }, this.re = function (e, t, n) { e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n) }, this.ue = function (e, t, n) { e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n) }, this.mc = function (e) { return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop } }, this.abs = function (e) { for (var t = { x: e.offsetLeft, y: e.offsetTop }; e.offsetParent;)e = e.offsetParent, t.x += e.offsetLeft, t.y += e.offsetTop; return t }, this.Ng = function () { var e = t.Qi.container(), n = e === document.body, i = n ? "fixed" : "absolute", a = document.createElement("div"); a.id = this.id + "hide", a.style.position = i, a.style.left = "0px", a.style.top = "0px", a.style.right = "0px", a.style.bottom = "0px", a.oncontextmenu = function () { return !1 }, a.onmousedown = function () { return !1 }, e.appendChild(a); var r = document.createElement("div"); r.id = this.id + "popup", r.style.position = i, r.style.left = "50%", r.style.top = "0px", r.style.backgroundColor = "white", r.style.width = "50px", r.style.height = "50px", this.dragDrop && (r.onmousedown = this.Mi), r.addEventListener("keydown", function (e) { e.stopPropagation() }); var o = null; this.useIframe && (o = document.createElement("iframe"), o.id = this.id + "iframe", o.name = this.id + "iframe", o.frameBorder = "0", o.style.width = "100%", o.style.height = "50px", r.appendChild(o)), e.appendChild(r), this.div = r, this.iframe = o, this.hideDiv = a }, this.setInnerHTML = function (e, n) { var i = window.frames[e], a = i.contentWindow || i.document || i.contentDocument; a.document && (a = a.document), null == a.body && a.write("<body></body>"), n.nodeType ? a.body.appendChild(n) : a.body.innerHTML = n, t.autoStretch && (t.autoStretchFirstLoadOnly && t.Ri || (t.stretch(), t.Ri = !0)) }, this.close = function (e) { this.result = e, this.hide() }, this.closeSerialized = function () { for (var e = t.Di(), n = e.querySelectorAll("input, textarea, select"), i = {}, a = 0; a < n.length; a++) { var r = n[a], o = r.name; if (o) { var s = r.value; i[o] = s } } t.close(i) }, this.hide = function (e) { e = e || {}; var n = {}; n.backgroundClick = !!e.backgroundClick, n.result = this.result, n.canceled = "undefined" == typeof this.result, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof this.onClose && (this.onClose(n), n.preventDefault.value) || (this.div && (this.div.style.display = "none", this.hideDiv.style.display = "none", this.useIframe || (this.div.innerHTML = null)), window.focus(), DayPilot.ModalStatic.remove(this), "function" == typeof this.onClosed ? this.onClosed(n) : this.closed && this.closed(), delete this.result, this.disposeOnClose && (t.ab(), t.Si(t.div), t.Si(t.hideDiv), t.div = null, t.hideDiv = null, t.iframe = null)) }, this.Si = function (e) { e && e.parentNode && e.parentNode.removeChild(e) }, this.Ti = function () { if (e) for (var t in e) this[t] = e[t] }, this.Ti() }, DayPilot.Modal.alert = function (e, t) { t = t || {}, t.height = t.height || 40, t.useIframe = !1; var n = t.okText || "OK"; t.cancelText || "Cancel"; return DayPilot.getPromise(function (i, a) { t.onClosed = function (e) { i(e) }; var r = new DayPilot.Modal(t), o = document.createElement("div"); o.className = r.theme + "_inner"; var s = document.createElement("div"); s.className = r.theme + "_content", s.innerHTML = e; var l = document.createElement("div"); l.className = r.theme + "_buttons"; var d = document.createElement("button"); d.innerText = n, d.className = r.theme + "_ok", d.onclick = function (e) { DayPilot.ModalStatic.close("OK") }, l.appendChild(d), o.appendChild(s), o.appendChild(l), r.showHtml(o), r.autoFocus && d.focus() }) }, DayPilot.Modal.confirm = function (e, t) { t = t || {}, t.height = t.height || 40, t.useIframe = !1; var n = t.okText || "OK", i = t.cancelText || "Cancel"; return DayPilot.getPromise(function (a, r) { t.onClosed = function (e) { a(e) }; var o = new DayPilot.Modal(t), s = document.createElement("div"); s.className = o.theme + "_inner"; var l = document.createElement("div"); l.className = o.theme + "_content", l.innerHTML = e; var d = document.createElement("div"); d.className = o.theme + "_buttons"; var c = document.createElement("button"); c.innerText = n, c.className = o.theme + "_ok", c.onclick = function (e) { DayPilot.ModalStatic.close("OK") }; var u = document.createTextNode(" "), h = document.createElement("button"); h.innerText = i, h.className = o.theme + "_cancel", h.onclick = function (e) { DayPilot.ModalStatic.close() }, d.appendChild(c), d.appendChild(u), d.appendChild(h), s.appendChild(l), s.appendChild(d), o.showHtml(s), o.autoFocus && c.focus() }) }, DayPilot.Modal.prompt = function (e, t, n) { "object" == typeof t && (n = t, t = ""), n = n || {}, n.height = n.height || 40, n.useIframe = !1; var i = n.okText || "OK", a = n.cancelText || "Cancel", r = t || ""; return DayPilot.getPromise(function (t, o) { n.onClosed = function (e) { t(e) }; var s = new DayPilot.Modal(n), l = document.createElement("div"); l.className = s.theme + "_inner"; var d = document.createElement("div"); d.className = s.theme + "_content", d.innerHTML = e; var c = document.createElement("div"); c.className = s.theme + "_input"; var u = document.createElement("input"); u.value = r, u.style.width = "100%", u.onkeydown = function (e) { var t = !1; switch (e.keyCode) { case 13: s.close(this.value); break; case 27: s.close(); break; default: t = !0 }t || (e.preventDefault(), e.stopPropagation()) }, c.appendChild(u); var h = document.createElement("div"); h.className = s.theme + "_buttons"; var f = document.createElement("button"); f.innerText = i, f.className = s.theme + "_ok", f.onclick = function (e) { s.close(u.value) }; var v = document.createTextNode(" "), p = document.createElement("button"); p.innerText = a, p.className = s.theme + "_cancel", p.onclick = function (e) { s.close() }, h.appendChild(f), h.appendChild(v), h.appendChild(p), l.appendChild(d), l.appendChild(c), l.appendChild(h), s.showHtml(l), s.autoFocus && u.focus() }) }; var r = function (e) { return "[object Array]" === Object.prototype.toString.call(e) }; DayPilot.Modal.form = function (t, n, i) { if (1 === arguments.length) { var a = t; if (r(a)) n = {}; else { if ("object" != typeof a) throw "Invalid DayPilot.Modal.form() parameter"; n = t, t = []; for (var s in n) { var l = {}; l.name = s, l.id = s, t.push(l) } } } var d = {}; for (var s in i) d[s] = i[s]; d.height = d.height || 40, d.useIframe = !1; var c = d.okText || "OK", u = d.cancelText || "Cancel"; return DayPilot.getPromise(function (i, a) { d.onClosed = function (t) { if (t.result) { var a = JSON.parse(JSON.stringify(n)); for (var r in t.result) e(a, r, t.result[r]); t.result = a } i(t) }; var r = new DayPilot.Modal(d), s = document.createElement("div"); s.className = r.theme + "_inner"; var l = document.createElement("div"); l.className = r.theme + "_input"; var h = new o({ theme: r.theme, form: t, data: n, zIndex: r.zIndex, locale: r.locale, plugins: r.plugins, onKey: function (e) { switch (e.key) { case "Enter": h.validate() && r.close(h.serialize()); break; case "Escape": r.close() } }, onChange: function (e) { "function" == typeof r.onChange && r.onChange(e) } }), f = h.create(); l.append(f); var v = document.createElement("div"); v.className = r.theme + "_buttons"; var p = document.createElement("button"); p.innerText = c, p.className = r.theme + "_ok", d.okDisabled && (p.disabled = !0), p.onclick = function (e) { h.validate() && r.close(h.serialize()) }; var m = document.createTextNode(" "), g = document.createElement("button"); if (g.innerText = u, g.className = r.theme + "_cancel", g.onclick = function (e) { r.close() }, g.onmousedown = function (e) { h.canceling = !0 }, v.appendChild(p), v.appendChild(m), v.appendChild(g), s.appendChild(l), s.appendChild(v), r.showHtml(s), r.div.setAttribute("tabindex", "-1"), r.div.addEventListener("keydown", function (e) { switch (e.keyCode) { case 27: r.close(); break; case 13: h.validate() && r.close(h.serialize()) } }), r.focus) { var y = null; if ("object" == typeof r.focus) { var b = r.focus.id, w = r.focus.value; y = h.findViewById(b, w) } else "string" == typeof r.focus && (y = h.findViewById(r.focus)); y && y.focus() } else { var x = h.firstFocusable(); r.autoFocus && x ? x.focus() : r.div.focus() } }) }, DayPilot.Modal.close = function (e) { var t = DayPilot.Modal.opener(); t && t.close(e) }, DayPilot.Modal.stretch = function (e) { var t = DayPilot.Modal.opener(); if (!t) throw "Unable to find the opener DayPilot.Modal instance."; t.stretch() }, DayPilot.Modal.closeSerialized = function () { var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last(); e && e.closeSerialized() }, DayPilot.Modal.opener = function () { return "undefined" != typeof DayPilot && "undefined" != typeof DayPilot.ModalStatic && DayPilot.ModalStatic.list.length > 0 ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1] : parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1] }, DayPilot.Modal.Experimental = {}, DayPilot.Modal.Experimental.Form = o, "undefined" == typeof DayPilot.getPromise && (DayPilot.getPromise = function (e) { return "undefined" != typeof Promise ? new Promise(e) : (DayPilot.Promise = function (e) { var t = this; this.then = function (t, n) { return t = t || function () { }, n = n || function () { }, e(t, n), DayPilot.getPromise(e) }, this["catch"] = function (n) { return t.then(null, n), DayPilot.getPromise(e) } }, new DayPilot.Promise(e)) }); var o = function (e) { this.form = [], this.data = {}, this.theme = "form_default", this.zIndex = 99999, this.locale = "en-us", this.plugins = {}, this.onKey = null, this.Ui = [], this.Vi = null, this.canceling = !1, this.Wi = [], this.p = [], this.c = null, e = e || {}; for (var t in e) this[t] = e[t] }; o.prototype.create = function () { return this.load(), this.render(), this.c }, o.prototype.render = function () { var e = this; this.c = document.createElement("div"), this.Ui.forEach(function (t) { e.createView(t) }), this.applyState() }, o.prototype.createView = function (e) { var t = this.theme, n = this, i = document.createElement("div"); if (i.className = t + "_form_item " + t + "_form_item_level" + e.level, e.interactive || "title" !== e.type ? i.className += " " + t + "_form_item_" + e.type : i.className += " " + t + "_form_title", e.data.cssClass && (i.className += " " + e.data.cssClass), !e.isValue) { var a = document.createElement("div"); a.className = t + "_form_item_label", a.innerText = e.text, i.appendChild(a) } var r = this.createInteractive(e); r.onInput = function (e) { if (e = e || {}, n.Xi(r, { "debounce": !e.immediate }), "function" == typeof n.onChange) { var t = {}; t.result = n.serialize(), n.onChange(t) } }, r.onBlur = function () { n.canceling || n.Xi(r) }, r.apply(e), r.c = i, r.row = e, r.element && i.appendChild(r.element), this.p.push(r), this.c.appendChild(i) }, o.prototype.validate = function () { var e = this, t = !0; return this.p.forEach(function (n) { var i = e.Xi(n); t = t && i }), t }, o.prototype.Xi = function (e, t) { function n() { e.Yi && (e.Yi.remove(), e.Yi = null), e.c.classList.add(u); var t = document.createElement("div"); t.classList.add(h), t.innerText = c.message, e.Yi = t, e.c.appendChild(t) } t = t || {}; var i = t.debounce, a = t.silent, r = e.row, o = !0, s = "function" == typeof r.data.onValidate ? r.data.onValidate : null, l = "function" == typeof r.data.validate ? r.data.validate : null, d = s || l; if (d) { var c = {}; c.valid = !0, c.value = e.save()[r.field], c.message = "Error", c.values = this.serialize(), c.result = this.serialize(), d(c); var u = this.theme + "_form_item_invalid", h = this.theme + "_form_item_invalid_message"; if (c.valid) clearTimeout(this.Wi[r.field]), e.Yi && (e.Yi.remove(), e.Yi = null), e.c.classList.remove(u); else if (!a) if (i) { var f = 1e3; clearTimeout(this.Wi[r.field]), this.Wi[r.field] = setTimeout(function () { n() }, f) } else n(); o = c.valid } return o }, o.prototype.load = function () { var e = this; this.form.forEach(function (t) { e.processFormItem(t, 0) }); var n; try { var i = JSON.stringify(this.data); n = t(JSON.parse(i)) } catch (e) { throw new Error("The 'data' object is not serializable (it may contain circular dependencies): " + e) } for (var a in n) this.setValue(a, n[a]) }, o.prototype.setValue = function (e, t) { this.Ui.forEach(function (n) { n.applyValue(e, t) }) }, o.prototype.updateDependentState = function () { var e = this, t = [!0]; (this.Vi ? this.Vi : this.Ui).forEach(function (n) { var i = e.updateState(n, { enabled: t[n.level] && !n.data.disabled }); i.isValue && (t[i.level + 1] = i.enabled && i.checked) }) }, o.prototype.processFormItem = function (e, t) { var n = this, i = this.getFieldType(e), a = []; if ("radio" === i) { if (e.name) { var r = new s; r.field = e.id, r.data = e, r.level = t, r.type = "label", r.interactive = !1, r.text = e.name, n.Ui.push(r), a.push(r) } e.options.forEach(function (r) { var o = new s; o.field = e.id, o.data = r, o.level = t, o.type = i, o.isValue = !0, o.text = r.name, o.resolved = r.id, n.Ui.push(o), a.push(o), r.children && r.children.forEach(function (e) { var i = n.processFormItem(e, t + 1); a = a.concat(i) }) }) } else if ("title" === i) { var r = new s; r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = e.name, n.Ui.push(r), a.push(r) } else if ("image" === i) { var r = new s; r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Ui.push(r), a.push(r) } else if ("html" === i) { var r = new s; r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Ui.push(r), a.push(r) } else if ("scrollable" === i) { var r = new s; r.isValue = !0, r.field = e.id, r.data = e, r.level = t, r.type = i, r.interactive = !1, r.text = null, n.Ui.push(r), a.push(r) } else { var r = new s; r.field = e.id, r.data = e, r.level = t, r.type = i, r.text = e.name, r.children = [], n.Ui.push(r), a.push(r) } return "checkbox" === i && (r.isValue = !0, r.resolved = !0, e.children && e.children.forEach(function (e) { var i = n.processFormItem(e, t + 1); a = a.concat(i) })), a }, o.prototype.doOnKey = function (e) { if ("function" == typeof this.onKey) { var t = { key: e }; this.onKey(t) } }, o.prototype.createInteractive = function (e) {
                var t = this, n = { "label": function () { return new l }, "title": function () { return new l }, "image": function () { var t = new l, n = document.createElement("img"); return n.src = e.data.image, t.element = n, t }, "html": function () { var t = new l, n = document.createElement("div"); return "string" == typeof e.data.text ? n.innerText = e.data.text : "string" == typeof e.data.html && (n.innerHTML = e.data.html), t.element = n, t }, "scrollable": function () { var n = new l, i = document.createElement("div"); i.className = t.theme + "_form_item_scrollable_scroll", e.data.height && (i.style.height = e.data.height + "px"); var a = document.createElement("div"); return a.className = t.theme + "_form_item_scrollable_scroll_content", "string" == typeof e.data.text ? a.innerText = e.data.text : "string" == typeof e.data.html && (a.innerHTML = e.data.html), i.appendChild(a), n.element = i, n }, "text": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.element; t.value = e.value, t.disabled = !e.enabled }; var i = document.createElement("input"); return i.name = e.field, i.type = "text", i.autocomplete = "off", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) { case 13: t.doOnKey("Enter"); break; case 27: t.doOnKey("Escape"); break; default: n = !0 }n || (e.preventDefault(), e.stopPropagation()) }, i.oninput = function (e) { n.onInput() }, i.onblur = function (e) { n.onBlur() }, n.element = i, n.canFocus = function () { return !n.element.disabled }, n.focus = function () { n.element.focus(), n.element.setSelectionRange(0, n.element.value.length) }, n.save = function () { var t = {}; return t[e.field] = i.value, t }, n }, "textarea": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.element; t.value = e.value, t.disabled = !e.enabled }; var i = document.createElement("textarea"); return i.name = e.field, e.data.height && (i.style.height = e.data.height + "px"), i.onkeydown = function (e) { var n = !1; switch (e.keyCode) { case 13: (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"), n = !1; break; case 27: t.doOnKey("Escape"); break; default: n = !0 }n || e.stopPropagation() }, i.oninput = function (e) { n.onInput() }, i.onblur = function (e) { n.onBlur() }, n.element = i, n.canFocus = function () { return !n.element.disabled }, n.focus = function () { n.element.focus(), n.element.setSelectionRange(0, 0) }, n.save = function () { var t = {}; return t[e.field] = i.value, t }, n }, "date": function () { var n = new l; n.apply = function (e) { n.row = e; var i = n.element, a = n.picker; e.data.dateFormat && (a.pattern = e.data.dateFormat); var r = e.data.locale || t.locale; r && (a.locale = r), i.disabled = !e.enabled, a.date = new DayPilot.Date(e.value); var o = new DayPilot.Date(e.value).toString(e.data.dateFormat || a.pattern, a.locale); i.value = o }; var i = document.createElement("input"); i.name = e.field; var a = new DayPilot.DatePicker({ target: i, theme: "navigator_modal", zIndex: t.zIndex + 1, resetTarget: !1, targetAlignment: "left", onTimeRangeSelect: function (e) { n.onInput({ "immediate": !0 }) } }); return i.picker = a, i.className = t.theme + "_input_date", i.type = "text", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) { case 13: a.visible ? a.close() : t.doOnKey("Enter"); break; case 27: a.visible ? a.close() : t.doOnKey("Escape"); break; case 9: a.close(), n = !0; break; default: n = !0 }n || (e.preventDefault(), e.stopPropagation()) }, i.onfocus = function () { a.show() }, i.onclick = function () { a.show() }, i.oninput = function (e) { n.onInput() }, i.onblur = function (e) { n.onBlur() }, n.element = i, n.picker = a, n.canFocus = function () { return !n.element.disabled }, n.focus = function () { n.element.focus() }, n.save = function () { var t = a.date ? a.date.toString() : null, n = {}; return n[e.field] = t, n }, n }, "time": function () { return t.Zi(e) }, "datetime": function () { return t.$i(e) }, "select": function () { var t = new l; t.apply = function (e) { t.row = e; var n = t.element; n.value = e.value, n.disabled = !e.enabled }; var n = document.createElement("select"); return n.name = e.field, e.data.options && e.data.options.forEach && e.data.options.forEach(function (e) { var t = document.createElement("option"); t.innerText = e.name || e.id, t.value = e.id, t._i = e.id, n.appendChild(t) }), n.onchange = function (e) { t.onInput({ "immediate": !0 }) }, n.onblur = function (e) { t.onBlur() }, t.element = n, t.canFocus = function () { return !t.element.disabled }, t.focus = function () { t.element.focus() }, t.save = function () { var t = null, i = n.options[n.selectedIndex]; i && "undefined" != typeof i._i && (t = i._i); var a = {}; return a[e.field] = t, a }, t }, "searchable": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.searchable; t.disabled = !e.enabled, t.select(e.value) }; var i = new d({ data: e.data.options || [], name: e.field, theme: t.theme + "_form_item_searchable", listZIndex: t.zIndex + 1, onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }) } }), a = i.create(); return n.element = a, n.searchable = i, n.canFocus = function () { return !n.searchable.disabled }, n.focus = function () { n.searchable.focus() }, n.save = function () { var t = i.selected && i.selected.id, n = {}; return n[e.field] = t, n }, n }, "radio": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.radio; t.checked = e.checked, t.disabled = !e.enabled }; var i = document.createElement("label"), a = document.createElement("input"); a.type = "radio", a.name = e.field, a._i = e.resolved, a.onchange = function (e) { var i = n.row; t.findRowsByField(i.field).forEach(function (e) { t.updateState(e, { checked: !1 }) }), t.updateState(i, { checked: !0 }), t.applyState(), n.onInput({ "immediate": !0 }) }, a.onblur = function (e) { n.onBlur() }, i.appendChild(a); var r = document.createTextNode(e.text); return i.append(r), n.element = i, n.radio = a, n.canFocus = function () { return !1 }, n.focus = function () { n.radio.focus() }, n.save = function () { if (!a.checked) return {}; var t = a._i, n = {}; return n[e.field] = t, n }, n }, "checkbox": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.checkbox; t.checked = e.checked, t.disabled = !e.enabled }; var i = document.createElement("label"), a = document.createElement("input"); a.type = "checkbox", a.name = e.field, a._i = e.resolved, a.onchange = function (e) { var i = n.row; t.updateState(i, { checked: this.checked }), t.applyState(), n.onInput({ "immediate": !0 }) }, a.onblur = function (e) { n.onBlur() }, i.appendChild(a); var r = document.createTextNode(e.text); return i.append(r), n.element = i, n.checkbox = a, n.canFocus = function () { return !1 }, n.focus = function () { n.checkbox.focus() }, n.save = function () { var t = a.checked, n = {}; return n[e.field] = t, n }, n }, "table": function () { var n = new l; n.apply = function (e) { n.row = e; var t = n.table; t.disabled = !e.enabled, t.load(e.value || []) }; var i = new c({ name: e.field, form: t, theme: t.theme + "_form_item_tabular", item: e.data, onInput: function (e) { n.onInput() } }), a = i.create(); return n.element = a, n.table = i, n.canFocus = function () { return !1 }, n.focus = function () { n.table.focus() }, n.save = function () { var t = i.save(), n = {}; return n[e.field] = t, n }, n } }; return t.plugins && t.plugins[e.type] ? t.plugins[e.type](e) : n[e.type]();
            }, o.prototype.Zi = function (e) { var t = this, n = new l; n.apply = function (e) { n.row = e; var t = n.searchable; t.disabled = !e.enabled, t.select(e.value) }; var i = [], a = e.data.timeInterval || 15;[1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15); for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, c = DayPilot.Date.today(), u = 0; u < 24 * r; u++) { var h = c.addMinutes(a * u), f = {}; f.name = h.toString(e.data.timeFormat || s.timePattern, s), f.id = h.toString("HH:mm"), i.push(f) } var v = new d({ data: i, name: e.field, theme: t.theme + "_form_item_time", listZIndex: t.zIndex + 1, strategy: "startsWith", onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }) } }), p = v.create(); return n.element = p, n.searchable = v, n.canFocus = function () { return !n.searchable.disabled }, n.focus = function () { n.searchable.focus() }, n.save = function () { var t = v.selected && v.selected.id, n = {}; return n[e.field] = t, n }, n }, o.prototype.$i = function (e) { var t = this, n = new l; n.apply = function (e) { n.row = e; var i = n.searchable; i.disabled = !e.enabled; var a = new DayPilot.Date(e.value).toString("HH:mm"); i.select(a); var r = n.dateInput, o = n.picker; e.data.dateFormat && (o.pattern = e.data.dateFormat); var s = e.data.locale || t.locale; if (s) { var l = DayPilot.Locale.find(s) || DayPilot.Locale.US; o.locale = s, o.pattern = l.datePattern } r.disabled = !e.enabled, o.date = new DayPilot.Date(e.value); var d = new DayPilot.Date(e.value).toString(e.data.dateFormat || o.pattern, o.locale); r.value = d }; var i = function () { var i = document.createElement("input"); i.name = e.field; var a = new DayPilot.DatePicker({ target: i, theme: "navigator_modal", zIndex: t.zIndex + 1, resetTarget: !1, targetAlignment: "left", onTimeRangeSelect: function (e) { n.onInput({ "immediate": !0 }) } }); return i.picker = a, i.className = t.theme + "_input_date", i.type = "text", i.onkeydown = function (e) { var n = !1; switch (e.keyCode) { case 13: a.visible ? a.close() : t.doOnKey("Enter"); break; case 27: a.visible ? a.close() : t.doOnKey("Escape"); break; case 9: a.close(), n = !0; break; default: n = !0 }n || (e.preventDefault(), e.stopPropagation()) }, i.onfocus = function () { a.show() }, i.onclick = function () { a.show() }, i.oninput = function (e) { n.onInput() }, i.onblur = function (e) { n.onBlur() }, n.dateInput = i, n.picker = a, i }(), a = function () { var i = [], a = e.data.timeInterval || 15;[1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15); for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, l = DayPilot.Date.today(), c = 0; c < 24 * r; c++) { var u = l.addMinutes(a * c), h = {}; h.name = u.toString(e.data.timeFormat || s.timePattern, s), h.id = u.toString("HH:mm"), i.push(h) } var f = new d({ data: i, name: e.field, theme: t.theme + "_form_item_time", listZIndex: t.zIndex + 1, strategy: "startsWith", onSelect: function (e) { e.ui && n.onInput({ "immediate": !0 }) } }); return n.searchable = f, f.create() }(), r = document.createElement("div"); return r.className = t.theme + "_form_item_datetime_parent", r.appendChild(i), r.appendChild(a), n.element = r, n.canFocus = function () { return !n.searchable.disabled }, n.focus = function () { n.dateInput.focus() }, n.save = function () { var t = n.searchable.selected && n.searchable.selected.id, i = n.picker.date ? n.picker.date.toString() : null, a = new DayPilot.Date(i).getDatePart(), r = DayPilot.Date.parse(a.toString("yyyy-dd-MM ") + t, "yyyy-dd-MM HH:mm"), o = {}; return o[e.field] = r, o }, n }, o.prototype.findRowsByField = function (e) { return this.Ui.filter(function (t) { return t.field === e }) }, o.prototype.findViewById = function (e, t) { return this.p.find(function (n) { return n.row.field === e && ("radio" !== n.row.type || n.row.resolved === t) }) }, o.prototype.firstFocusable = function () { return this.p.find(function (e) { return e.canFocus && e.canFocus() }) }, o.prototype.updateState = function (e, t) { var n = this.Vi ? this.Vi : this.Ui, i = n.indexOf(e); return this.Vi = n.map(function (n) { if (n !== e) return n; if (e.propsEqual(t)) return e; var i = e.clone(); for (var a in t) i[a] = t[a]; return i }), this.Vi[i] }, o.prototype.updateInteractive = function (e) { var t = this.Vi.indexOf(e); this.p[t].apply(e) }, o.prototype.applyState = function () { var e = this; if (this.updateDependentState(), this.Vi) { this.Vi.filter(function (t, n) { return e.Ui[n] !== t }).forEach(function (t) { e.updateInteractive(t) }), this.Ui = this.Vi, this.Vi = null } }, o.prototype.getFieldType = function (e) { return ["text", "date", "select", "searchable", "radio", "checkbox", "table", "title", "image", "html", "textarea", "scrollable", "time", "datetime"].indexOf(e.type) !== -1 ? e.type : e.type && this.plugins && this.plugins[e.type] ? e.type : e.image ? "image" : e.html || e.text ? "html" : e.id ? e.options ? "searchable" : e.dateFormat ? "date" : e.columns ? "table" : "text" : "title" }, o.prototype.serialize = function () { var e = {}; return this.p.forEach(function (t) { var n = t.save(); for (var i in n) e[i] = n[i] }), e }; var s = function () { this.id = this.guid(), this.field = null, this.data = null, this.type = null, this.level = 0, this.enabled = !0, this.value = null, this.text = null, this.interactive = !0, this.isValue = !1, this.checked = !1, this.resolved = null }; s.prototype.clone = function () { var e = new s; for (var t in this) "id" !== t && (e[t] = this[t]); return e }, s.prototype.propsEqual = function (e) { for (var t in e) if (this[t] !== e[t]) return !1; return !0 }, s.prototype.guid = function () { var e = function () { return (65536 * (1 + Math.random()) | 0).toString(16).substring(1) }; return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e() }, s.prototype.applyValue = function (e, t) { this.field === e && (this.value = t, this.isValue && t === this.resolved && (this.checked = !0)) }; var l = function () { this.element = null, this.canFocus = function () { return !1 }, this.apply = function (e) { }, this.focus = function () { }, this.save = function () { return {} } }, d = function (e) { this.data = [], this.name = null, this.theme = "searchable_default", this.aj = !1, this.listZIndex = 1e5, this.onSelect = null, this.bj = null, this.cj = null, this.dj = !1, this.ej = null, this.Kc = null, this.B = [], this.fj = null, e = e || {}; var t = this, n = { "selected": { post: function (e) { "object" == typeof e && e.id ? t.bj = e : "string" != typeof e && "number" != typeof e || t.select(e) } } }; Object.defineProperty(this, "selected", { get: function () { return this.bj } }), Object.defineProperty(this, "disabled", { get: function () { return this.aj }, set: function (e) { this.aj = e, this.ej && (this.ej.disabled = e, e && this.gj()) } }); for (var i in e) n[i] || (this[i] = e[i]); for (var i in e) n[i] && n[i].post(e[i]) }; d.prototype.select = function (e) { return this.bj = this.data.find(function (t) { return t.id === e }), this.hj(!1), this }, d.prototype.create = function () { function e(e) { var n = l.strategy; "includes" !== l.strategy && "startsWith" !== l.strategy && (n = "includes"), e = e || n || "includes", h.style.display = "", h.style.top = v.offsetHeight + "px", h.style.left = "0px", h.style.width = v.offsetWidth + "px", h.innerHTML = "", h.addEventListener("mousedown", function (e) { e.preventDefault() }), l.cj = null, l.B = []; var a = null; l.data.forEach(function (n) { var r = n.name || n.id; if ("includes" === e) { if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1) return } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase())) return; var o = document.createElement("div"); o.className = l.theme + "_list_item", o.innerText = r, o.item = n, n === l.bj && (l.cj = o), a || (a = o), o.addEventListener("mousedown", function (e) { i(o), e.preventDefault() }), o.addEventListener("mousemove", function (e) { l.cj !== o && (l.cj = o, t({ dontScroll: !0 })) }), h.appendChild(o), l.B.push(o) }), l.cj || (l.cj = a), t() } function t(e) { e = e || {}; var t = !e.dontScroll; document.querySelectorAll("." + l.theme + "_list_item_highlight").forEach(function (e) { e.className = e.className.replace(l.theme + "_list_item_highlight", "") }), l.cj && (l.cj.className += " " + l.theme + "_list_item_highlight", t && !n(l.cj, h) && l.cj.scrollIntoView()) } function n(e, t) { var n = e.getBoundingClientRect(), i = t.getBoundingClientRect(); return n.top >= i.top && n.bottom <= i.bottom } function i(e) { var t = e.item; l.bj = t, l.hj(!0), r(), o() } function a() { l.gj() } function r() { l.C() } function o() { l.dj = !0, v.setAttribute("readonly", "readonly"), v.focus() } function s() { l.dj = !1, v.removeAttribute("readonly"), v.select(), e("all") } var l = this, d = this, c = document.createElement("div"); c.className = this.theme + "_main", c.style.position = "relative"; var u = document.createElement("div"); u.className = this.theme + "_icon", u.style.position = "absolute", u.style.right = "0", u.style.top = "0", u.style.bottom = "0", u.style.width = "20px", u.addEventListener("mousedown", function (e) { e.preventDefault(), l.dj ? (l.focus(), s()) : (a(), o()) }); var h = document.createElement("div"); h.className = this.theme + "_list", h.style.display = "none", h.style.position = "absolute", h.style.zIndex = this.listZIndex; var f = document.createElement("input"); f.type = "hidden", f.name = this.name, f.searchable = d, this.fj = f; var v = document.createElement("input"); return v.type = "text", v.className = this.theme + "_input", v.disabled = this.aj, v.addEventListener("click", function (e) { s() }), v.addEventListener("focus", function (t) { e("all") }), v.addEventListener("input", function (t) { e() }), v.addEventListener("blur", function (e) { v.removeAttribute("readonly"), a() }), v.addEventListener("keydown", function (e) { if (l.dj) { if ("Enter" === e.key) return; if ("Esc" === e.key || "Escape" === e.key) return; s() } if ("ArrowDown" === e.key) { var n = d.B.indexOf(d.cj); n + 1 < d.B.length && (d.cj = d.B[n + 1]), t() } else if ("ArrowUp" === e.key) { var n = d.B.indexOf(d.cj); n - 1 >= 0 && (d.cj = d.B[n - 1]), t() } else "Enter" === e.key ? l.cj ? (e.stopPropagation(), i(l.cj)) : (e.stopPropagation(), a(), o()) : "Esc" !== e.key && "Escape" !== e.key || (e.stopPropagation(), a(), o()) }), this.ej = v, this.Kc = h, this.bj || (this.bj = this.data[0], this.bj && (v.value = this.bj.name)), c.appendChild(v), c.appendChild(u), c.appendChild(f), c.appendChild(h), c }, d.prototype.gj = function () { this.C(), this.bj ? this.ej.value = this.bj.name : (this.ej.value = "", this.hj(!0)) }, d.prototype.focus = function () { this.dj = !0, this.ej.setAttribute("readonly", "readonly"), this.ej.focus(), this.gj() }, d.prototype.C = function () { this.Kc.style.display = "none" }, d.prototype.hj = function (e) { if (this.fj.value = this.selected ? this.selected.id : null, this.bj ? this.ej.value = this.bj.name : this.ej.value = "", "function" == typeof this.onSelect) { var t = { control: this, ui: e }; this.onSelect(t) } }; var c = function (e) { this.form = null, this.item = null, this.data = null, this.name = null, this.theme = "edit_table_default", this.onInput = null, this.nav = {}, this.ij = null, this.Ui = [], e = e || {}; for (var t in e) this[t] = e[t] }; c.prototype.create = function () { var e = this, t = document.createElement("div"); t.className = this.theme + "_main", t.style.position = "relative"; var n = document.createElement("input"); n.type = "hidden", n.name = e.name, n.table = this, t.appendChild(n); var i = document.createElement("div"); i.className = this.theme + "_table"; var a = this.jj(); i.appendChild(a); var r = e.kj({}); r.spacer = !0; var o = this.lj(r); o.classList.add(e.theme + "_spacer"), i.appendChild(o); var s = document.createElement("div"); s.className = e.theme + "_tbody", i.appendChild(s), t.appendChild(i); var l = document.createElement("div"); t.appendChild(l), this.nav.body = s, this.nav.table = i, this.nav.main = t, this.nav.after = l; var d = document.createElement("div"), c = document.createElement("span"); return c.className = this.theme + "_plus", c.addEventListener("click", function (t) { if (!e.disabled) { var n = e.item.onNewRow, i = {}; if ("function" == typeof n) { var a = {}; a.result = e.form.serialize(), a.value = {}, n(a), i = a.value } var r = e.kj(i); e.Ui.push(r), e.W(), e.mj() } }), this.nav.plus = c, d.appendChild(c), t.appendChild(d), t }, c.prototype.jj = function () { var e = this, t = document.createElement("div"); return t.classList.add(this.theme + "_row"), t.classList.add(this.theme + "_header"), this.item.columns.forEach(function (n) { var i = document.createElement("div"); i.classList.add(e.theme + "_cell"), i.innerText = n.name, t.appendChild(i) }), t }, c.prototype.nj = function () { var e = this.item.max || 0; return !!(e && this.Ui.length >= e) }, c.prototype.save = function () { var e = this, t = []; return e.Ui.forEach(function (e) { var n = {}; e.cells.forEach(function (e) { n[e.id] = e.value }), t.push(n) }), t }, c.prototype.load = function (e) { if ("[object Array]" !== Object.prototype.toString.call(e)) throw new Error("Array expected"); this.data = e, this.oj(), this.W() }, c.prototype.pj = function () { this.disabled ? this.nav.main.classList.add(this.theme + "_disabled") : this.nav.main.classList.remove(this.theme + "_disabled"), this.nj() ? this.nav.plus.classList.add(this.theme + "_plus_max") : this.nav.plus.classList.remove(this.theme + "_plus_max") }, c.prototype.oj = function () { var e = this; this.Ui = [], this.data.forEach(function (t) { var n = e.kj(t); e.Ui.push(n) }) }, c.prototype.qj = function (e) { var t = this, n = t.Ui.indexOf(e); t.Ui.splice(n, 1) }, c.prototype.kj = function (e) { var t = this, n = {}; return n.data = e, n.cells = [], t.item.columns.forEach(function (i) { var a = i.id, r = e[a], o = t.rj(i); if ("undefined" == typeof r) if ("text" === o) r = ""; else if ("number" === o) r = 0; else if ("select" === o) { var s = i.options; r = s && s[0].id } var l = {}; l.id = a, l.value = r, l.type = o, l.data = i, n.cells.push(l) }), n }, c.prototype.rj = function (e) { var t = e.type; return t || (t = e.options ? "select" : "text"), t }, c.prototype.W = function () { var e = this; if (this.nav.body.innerHTML = "", this.nav.after.innerHTML = "", this.Ui.forEach(function (t) { var n = e.lj(t); e.nav.body.appendChild(n) }), 0 === this.Ui.length) { var t = e.sj(); e.nav.after.appendChild(t) } this.pj() }, c.prototype.sj = function () { var e = document.createElement("div"); return e.className = this.theme + "_empty", e }, c.prototype.lj = function (e) { var t = this, n = document.createElement("div"); n.className = t.theme + "_row", e.cells.forEach(function (i) { var a = document.createElement("div"); a.className = t.theme + "_cell"; var r = t.tj(i); if (e.spacer) { var o = document.createElement("div"); o.style.height = "0px", o.style.overflow = "hidden", o.appendChild(r), a.appendChild(o) } else a.appendChild(r); n.appendChild(a) }); var i = document.createElement("div"); i.classList.add(t.theme + "_cell"), i.classList.add(t.theme + "_rowaction"); var a = document.createElement("span"); return a.className = this.theme + "_delete", a.addEventListener("click", function (n) { t.disabled || (t.qj(e), t.W(), t.mj()) }), e.spacer || i.appendChild(a), n.appendChild(i), n }, c.prototype.mj = function () { var e = this; if ("function" == typeof e.onInput) { var t = {}; e.onInput(t) } }, c.prototype.tj = function (e) { var t = this, n = e.type; if ("text" === n || "number" === n) { var i = document.createElement("input"); return i.type = n, t.disabled && (i.disabled = !0), e.value && (i.value = e.value), i.addEventListener("keyup", function (i) { "number" === n ? e.value = Number(this.value) : e.value = this.value, t.mj() }), i } if ("select" === n) { var a = document.createElement("select"); return t.disabled && (a.disabled = !0), e.data.options.forEach(function (t) { var n = document.createElement("option"); n.innerText = t.name, n.value = t.id, n._i = t.id, a.appendChild(n), e.value === t.id && n.setAttribute("selected", !0) }), a.addEventListener("change", function (n) { var i = a.options[a.selectedIndex]; i && "undefined" != typeof i._i && (e.value = i._i), t.mj() }), a } throw new Error("Unsupported item type: " + n) }, c.prototype.focus = function () { }
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    var e = function () { }; if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
        var t = {}, n = DayPilot.Util.isReactComponent, i = DayPilot.Util.isVueComponent, a = DayPilot.Util.isVueVNode; DayPilot.Month = function (r, o) {
            this.v = "2024.4.6294", this.nav = {}; var s = this; this.id = r, this.isMonth = !0, this.api = 2, this.Aa = !1, this.hideUntilInit = !0, this.startDate = new DayPilot.Date, this.width = null, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cssClassPrefix = "month_default", this.cellHeight = 100, this.cellMarginBottom = 0, this.allowMultiSelect = !0, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.doubleClickTimeout = 300, this.eventEndSpec = "DateTime", this.eventTextWrappingEnabled = !1, this.headerHeight = 30, this.heightSpec = "Auto", this.weekStarts = "Auto", this.eventBarVisible = !0, this.eventHeight = 25, this.cellHeaderHeight = 24, this.clientState = {}, this.afterRender = function () { }, this.cssOnly = !0, this.eventsLoadMethod = "GET", this.initEventEnabled = !1, this.lineSpace = 1, this.loadingLabelVisible = !0, this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.locale = "en-us", this.maxEvents = "All", this.messageHideAfter = 5e3, this.notifyCommit = "Immediate", this.visible = !0, this.eventMoveToPosition = !1, this.eventStartTime = !1, this.eventEndTime = !1, this.eventStartEndWidth = 45, this.showWeekend = !0, this.cellMode = !1, this.rtl = !1, this.shadowType = "Fill", this.tapAndHoldTimeout = 300, this.timeFormat = "Auto", this.viewType = "Month", this.weeks = 1, this.xssProtection = "Enabled", this.cellHeaderClickHandling = "Enabled", this.eventClickHandling = "Enabled", this.eventDeleteHandling = "Disabled", this.eventDoubleClickHandling = "Disabled", this.eventMoveHandling = "Update", this.eventResizeHandling = "Update", this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", this.headerClickHandling = "Enabled", this.timeRangeSelectedHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.onEventFilter = null, this.onBeforeEventRender = null, this.onBeforeCellRender = null, this.onBeforeHeaderRender = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeEventExport = null, this.onBeforeCellExport = null, this.onBeforeHeaderExport = null, this.onCellHeaderClick = null, this.onCellHeaderClicked = null, this.backendUrl = null, this.cellEvents = [], this.elements = {}, this.elements.events = [], this.wa = {}, this.wa.events = {}, this.events = {}, this.za = 0, this.members = {}, this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"], this.Ca = "javasc", this.Qa = function (e, t) { var e = JSON.parse(e); if (e.BubbleGuid) { var n = e.BubbleGuid, i = this.bubbles[n]; return delete this.bubbles[n], s.kb(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i)) } if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect); if ("undefined" != typeof e.ClientState && (s.clientState = e.ClientState), "None" === e.UpdateType) return s.lb(e.CallBackData, !0), e.Message && s.message(e.Message), void s.kb(); if (e.VsUpdate) { var a = document.createElement("input"); a.type = "hidden", a.name = s.id + "_vsupdate", a.id = a.name, a.value = e.VsUpdate, s.uj.innerHTML = "", s.uj.appendChild(a) } s.events.list = e.Events, "undefined" != typeof e.TagFields && (s.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (s.sortDirections = e.SortDirections), "Full" === e.UpdateType && (s.cellProperties = e.CellProperties, s.headerProperties = e.HeaderProperties, s.startDate = e.StartDate, "undefined" != typeof e.ShowWeekend && (s.showWeekend = e.ShowWeekend), s.locale = e.Locale ? e.Locale : s.locale, s.timeFormat = e.TimeFormat ? e.TimeFormat : s.timeFormat, "undefined" != typeof e.WeekStarts && (s.weekStarts = e.WeekStarts), s.hashes = e.Hashes), s.multiselect.clear(!0), s.multiselect.initList = e.SelectedEvents, s.Va(), s.vj(), s.qb(), "Full" === e.UpdateType && (s.wj(), s.xj()), s.yb(), s.E(), s.Cb(), s.lb(e.CallBackData, !0), s.Gb(), e.Message && s.message(e.Message), s.kb() }, this.lb = function (e, t) { var n = function (e, t) { return function () { if (s.Hb()) { if ("function" == typeof s.onAfterRender) { var n = {}; n.isCallBack = t, n.data = e, s.onAfterRender(n) } } else s.afterRender && s.afterRender(e, t) } }; window.setTimeout(n(e, t), 0) }, this.Hb = function () { return 2 === s.api }, this.Ha = function (e, t) { return s.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? DayPilot.Util.isNullOrUndefined(e) ? "" : e : t }, this.da = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : "" }, this.qb = function () { if (this.events.list) { if ("function" == typeof this.onBeforeEventRender) for (var e = this.events.list.length, t = 0; t < e; t++)this.Kg(t); this.cellMode ? this.yj() : this.zj() } }, this.Na = function (e) { var t = e ? 0 : 100; s.loadingTimeout && window.clearTimeout(s.loadingTimeout), s.loadingTimeout = window.setTimeout(function () { s.loadingLabelVisible && s.nav.loading && (s.nav.loading.style.top = c.headerHeight() + 5 + "px", s.nav.loading.innerHTML = s.Ha(this.loadingLabelText, this.loadingLabelHtml), s.nav.loading.style.display = "") }, t) }, this.kb = function () { this.loadingTimeout && window.clearTimeout(this.loadingTimeout), s.nav.loading && (this.nav.loading.style.display = "none") }, this.zj = function () { if (this.events.list) { for (var e = 0; e < this.events.list.length; e++) { var t = this.events.list[e]; if ("object" != typeof t) throw new DayPilot.Exception("Event data item must be an object"); if (!t.start) throw new DayPilot.Exception("Event data item must specify 'start' property"); var n = null; if ("function" == typeof s.onBeforeEventRender && (n = s.wa.events[e]), n) { if (n.hidden) continue } else if (t.hidden) continue; var i = new DayPilot.Date(t.start), a = new DayPilot.Date(t.end); if (a = s.Aj(a), !(i.getTime() > a.getTime())) for (var r = 0; r < this.rows.length; r++) { var o = this.rows[r]; if (o.belongsHere(i, a)) { var l = new DayPilot.Event(t, s); if ("function" == typeof s.onEventFilter && s.events.fh) { var d = {}; if (d.filter = s.events.fh, d.visible = !0, d.e = l, s.onEventFilter(d), !d.visible) break } o.events.push(l), "function" == typeof this.onBeforeEventRender && (l.cache = this.wa.events[e]) } } } for (var c = 0; c < this.rows.length; c++) { var o = this.rows[c]; o.events.sort(this.ih); for (var u = 0; u < this.rows[c].events.length; u++) { var h = o.events[u], f = o.getStartColumn(h), v = o.getWidth(h); o.putIntoLine(h, f, v, c) } } } }, this.yj = function () { this.cellEvents = []; for (var e = 0; e < this.Bj(); e++) { this.cellEvents[e] = []; for (var t = 0; t < this.rows.length; t++) { var n = {}, i = this.firstDate.addDays(7 * t + e); n.start = i, n.end = i.addDays(1), n.events = [], this.cellEvents[e][t] = n } } for (var a = 0; a < this.events.list.length; a++) { var r = this.events.list[a]; if ("object" != typeof r) throw new DayPilot.Exception("Event data item must be an object"); if (!r.start) throw new DayPilot.Exception("Event data item must specify 'start' property"); var o = null; if ("function" == typeof s.onBeforeEventRender && (o = s.wa.events[a]), o) { if (o.hidden) continue } else if (r.hidden) continue; var l = new DayPilot.Date(r.start), d = new DayPilot.Date(r.start); if (d = s.Aj(d), !(l.getTime() > d.getTime())) for (var e = 0; e < this.Bj(); e++)for (var t = 0; t < this.rows.length; t++) { var n = this.cellEvents[e][t]; if (l.getTime() >= n.start.getTime() && l.getTime() < n.end.getTime()) { var c = new DayPilot.Event(r, s); if ("function" == typeof s.onEventFilter && s.events.fh) { var u = {}; if (u.filter = s.events.fh, u.visible = !0, u.e = c, s.onEventFilter(u), !u.visible) continue } n.events.push(c), "function" == typeof this.onBeforeEventRender && (c.cache = this.wa.events[a]) } } } for (var e = 0; e < this.Bj(); e++)for (var t = 0; t < this.rows.length; t++) { var n = this.cellEvents[e][t]; n.events.sort(this.ih) } }, this.Va = function () { for (var e = 0; e < this.elements.events.length; e++) { var t = this.elements.events[e]; s.Ne(t) } this.elements.events = [] }, this.Ne = function (e) { !function () { var t = e.domArgs; if (e.domArgs = null, "function" == typeof s.onDomRemoveEvent && s.onDomRemoveEvent(t), t && "function" == typeof s.onBeforeEventDomRemove && s.onBeforeEventDomRemove(t), t && "function" == typeof s.onBeforeEventDomAdd) { var r = t && t.Ie; if (r) { var o = s.X.reactDOM && n(t.element), l = s.Z.Ke && (i(t.element) || a(t.element)); o ? s.X.la(r) : l && (s.Z.Le = !0, s.Z.ma(r), s.Z.Le = !1) } } }(), e.event = null, e.click = null, e.parentNode && e.parentNode.removeChild(e) }, this.Cb = function () { this.wa.events = {}, this.cellMode ? this.Cj() : this.Dj(), this.multiselect.redraw() }, this.Cj = function () { if (this.elements.events = [], 0 !== this.cellEvents.length) for (var e = 0; e < this.Bj(); e++)for (var t = 0; t < this.rows.length; t++)for (var n = this.cellEvents[e][t], i = (this.cells[e][t], 0); i < n.events.length; i++) { var a = n.events[i]; a.part.colStart = e, a.part.colWidth = 1, a.part.row = t, a.part.line = i, a.part.startsHere = !0, a.part.endsHere = !0, this.Re(a) } }, this.Dj = function () { this.elements.events = []; for (var e = "number" == typeof s.maxEvents ? s.maxEvents : 1e3, t = 0; t < this.rows.length; t++)for (var n = this.rows[t], i = 0; i < n.lines.length; i++) { var a = n.lines[i]; if (!(i >= e)) for (var r = 0; r < a.length; r++)this.Re(a[r]) } }, this.hh = function (e, t) { if (!(e && t && e.start && t.start)) return 0; var n = e.start().ticks - t.start().ticks; return 0 !== n ? n : t.end().ticks - e.end().ticks }, this.ih = function (e, t) { if (!e || !t) return 0; if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return s.hh(e, t); for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i];)n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : s.jh(e.data.sort[i], t.data.sort[i], s.sortDirections[i]), i++; return n }, this.jh = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t) return 0; if (null === t) return r; if (null === e) return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r }, this.Ej = function (e, n, i, a, r, o) { r || (r = 0); var l = function () { for (var t = 0; t < a; t++) { var i = e + 7 * n + t - r; if (!(i < 0)) { var o = i % 7, l = Math.floor(i / 7); if (!(l > s.rows.length - 1)) { if (s.cells[o][l].props.disabled) return !0 } } } }(), d = a; this.shadow = {}, this.shadow.list = [], this.shadow.start = { x: e, y: n }, this.shadow.width = a, this.shadow.disabled = l, this.eventMoveToPosition && (d = 1, this.shadow.position = i); var c = 7 * n + e - r; c < 0 && (d += c, e = 0, n = 0); for (var u = r; u >= 7;)n--, u -= 7; if (u > e) { u > e + (7 - this.Bj()) ? (n--, e = e + 7 - u) : (d = d - u + e, e = 0) } else e -= u; n < 0 && (n = 0, e = 0); var h = null; for (t.resizingEvent ? h = "w-resize" : t.movingEvent && (h = "move"), this.nav.top.style.cursor = h; d > 0 && n < this.rows.length;) { var f = Math.min(this.Bj() - e, d), v = this.rows[n], p = this.Fj(n), m = v.getHeight(); this.eventMoveToPosition && (p = this.Gj(n, i), m = 2); var g = document.createElement("div"); g.setAttribute("unselectable", "on"), g.style.position = "absolute", g.style.left = this.Hj() * e + "%", g.style.width = this.Hj() * f + "%", g.style.top = p + "px", g.style.height = m + "px", g.style.cursor = h; var y = document.createElement("div"); y.setAttribute("unselectable", "on"), g.appendChild(y), g.className = this.da("_shadow"), y.className = this.da("_shadow_inner"), l && DayPilot.Util.addClass(g, this.da("_shadow_forbidden")); this.nav.events.appendChild(g), this.shadow.list.push(g), d -= f + 7 - this.Bj(), e = 0, n++ } }, this.Ij = function () { if (this.shadow) { this.nav.events; DayPilot.de(this.shadow.list), this.shadow = null, this.nav.top.style.cursor = "" } }, this.Gj = function (e, t) { for (var n = 0, i = 0; i < e; i++)n += this.rows[i].getHeight(); return n += this.cellHeaderHeight, n += t * c.lineHeight() }, this.Jj = function (e, t) { return this.firstDate.addDays(7 * t + e) }, this.Kg = function (e) { var t = this.wa.events, n = this.events.list[e], i = {}; for (var a in n) i[a] = n[a]; if ("function" == typeof this.onBeforeEventRender) { var r = {}; r.e = i, r.data = i, r.control = s, this.onBeforeEventRender(r) } t[e] = i }, this.Re = function (e) { var t = this.cellMode, r = e.part.row, o = e.part.line, d = e.part.colStart, u = e.part.colWidth, h = e.cache || e.data, f = t ? 0 : this.Hj() * d, v = t ? 100 : this.Hj() * u, p = t ? o * c.lineHeight() : this.Gj(r, o), m = document.createElement("div"); m.setAttribute("unselectable", "on"), m.style.height = c.eventHeight() + "px", m.style.position = "relative", m.style.overflow = "hidden", m.className = this.da("_event"), h.cssClass && DayPilot.Util.addClass(m, h.cssClass), m.event = e, t ? (m.style.marginRight = "2px", m.style.marginBottom = "2px") : (m.style.width = v + "%", m.style.position = "absolute", m.style.left = f + "%", m.style.top = p + "px"), this.showToolTip && h.toolTip && !this.bubble && (m.title = h.toolTip), s.eventTextWrappingEnabled || (m.style.whiteSpace = "nowrap"), m.onclick = this.Kj, m.ondblclick = this.Lj, m.oncontextmenu = this.Mj, m.onmousedown = this.Ue, m.onmousemove = this.Se, m.onmouseout = this.Te, DayPilot.reNonPassive(m, "touchstart", l.onEventTouchStart), DayPilot.rePassive(m, "touchmove", l.onEventTouchMove), DayPilot.rePassive(m, "touchend", l.onEventTouchEnd), e.part.startsHere || DayPilot.Util.addClass(m, this.da("_event_continueleft")), e.part.endsHere || DayPilot.Util.addClass(m, this.da("_event_continueright")); var g = document.createElement("div"); if (g.setAttribute("unselectable", "on"), g.className = this.da("_event_inner"), h.fontColor && (g.style.color = h.fontColor), h.borderColor && ("darker" === h.borderColor && h.backColor ? g.style.borderColor = DayPilot.ColorUtil.darker(h.backColor, 2) : g.style.borderColor = h.borderColor), h.backColor && (g.style.background = h.backColor), h.backImage && (g.style.backgroundImage = "url(" + h.backImage + ")", h.backRepeat && (g.style.backgroundRepeat = h.backRepeat)), m.appendChild(g), e.client.barVisible()) { var y = document.createElement("div"); y.setAttribute("unselectable", "on"), y.className = this.da("_event_bar"), y.style.position = "absolute"; var b = document.createElement("div"); b.setAttribute("unselectable", "on"), b.className = this.da("_event_bar_inner"), b.style.top = "0%", b.style.height = "100%", h.barColor && (b.style.backgroundColor = h.barColor), y.appendChild(b), m.appendChild(y) } var w = this.Ja.locale(), x = s.eventStartEndWidth; if (this.eventStartTime || h.htmlStart) { var f = 5; s.eventBarVisible && (f += 5); var k = "Clock12Hours" === s.Ja.timeFormat() ? e.start().toString("h tt", w) : e.start().toString("H", w), C = { "left": f, "top": 2, "width": x, "bottom": 2, "v": "Visible", "html": h.htmlStart || k, "css": s.da("_event_timeleft") }, _ = DayPilot.Areas.createArea(m, e, C); m.appendChild(_), g.style.paddingLeft = x + "px" } if (this.eventEndTime || h.htmlEnd) { var k = "Clock12Hours" === s.Ja.timeFormat() ? e.end().toString("h tt", w) : e.end().toString("H", w), C = { "right": 5, "top": 2, "width": x, "bottom": 2, "v": "Visible", "html": h.htmlEnd || k, "css": s.da("_event_timeright") }, _ = DayPilot.Areas.createArea(m, e, C); m.appendChild(_), g.style.paddingRight = x + "px" } if (h.areas) for (var E = h.areas, S = 0; S < E.length; S++) { var C = E[S]; if (DayPilot.Areas.isVisible(C)) { var _ = DayPilot.Areas.createArea(m, e, C); m.appendChild(_) } } !function () { var t = {}; if (t.e = e, t.control = s, t.element = null, m.domArgs = t, "function" == typeof s.onDomAddEvent && s.onDomAddEvent(t), "function" == typeof s.onBeforeEventDomAdd && s.onBeforeEventDomAdd(t), t.element) { var r = g; if (r) { t.Ie = r; var o = n(t.element), l = i(t.element), d = a(t.element); if (o) s.X.Je(), s.X.W(t.element, r); else if (l) { if (!s.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); s.Z.Le = !0, s.Z._(t.element, r, t.props), s.Z.Le = !1 } else if (d) { if (!s.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); s.Z.Le = !0, s.Z.Me(t.element, r), s.Z.Le = !1 } else r.appendChild(t.element) } } else g.innerHTML = e.client.innerHTML() }(), this.elements.events.push(m), t ? this.cells[d][r].body.appendChild(m) : this.nav.events.appendChild(m), s.multiselect.yd(m.event) && s.multiselect.add(m.event, !0); var m = m; if (s.Hb()) { if ("function" == typeof s.onAfterEventRender) { var T = {}; T.e = m.event, T.div = m, s.onAfterEventRender(T) } } else s.afterEventRender && s.afterEventRender(m.event, m) }, this.Kj = function (e) { l.start || s.Wb(this, e) }, this.Lj = function (e) { e.stopPropagation(), s.$b(this, e) }, this.Se = function (e) { var n = this, i = n.event; if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) { var a = DayPilot.mo3(n, e); if (a) { !function () { var e = n; if (!e.active) { var t = [], a = i.cache || i.data; "Disabled" === s.eventDeleteHandling || a.deleteDisabled || t.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": 2, "right": 2, "css": s.da("_event_delete"), "js": function (e) { s.gc(e) } }); var r = e.event.cache ? e.event.cache.areas : e.event.data.areas; r && r.length > 0 && (t = t.concat(r)), DayPilot.Areas.showAreas(e, e.event, null, t) } }(), s.Nj(n.event).forEach(function (e) { DayPilot.Util.addClass(e, s.da("_event_hover")) }); var r = 6; if (!s.cellMode && a.x <= r && i.client.resizeEnabled() ? i.part.startsHere ? (n.style.cursor = "w-resize", n.dpBorder = "left") : n.style.cursor = "not-allowed" : !s.cellMode && n.clientWidth - a.x <= r && i.client.resizeEnabled() ? i.part.endsHere ? (n.style.cursor = "e-resize", n.dpBorder = "right") : n.style.cursor = "not-allowed" : i.client.clickEnabled() ? n.style.cursor = "pointer" : n.style.cursor = "default", "undefined" != typeof DayPilot.Bubble && s.bubble && "Disabled" !== s.eventHoverHandling) if (t.movingEvent || t.resizingEvent) DayPilot.Bubble.hideActive(); else { var o = this._g && a.x === this._g.x && a.y === this._g.y; o || (this._g = a, s.bubble.showEvent(n.event)) } } } }, this.Te = function (e) { var t = this; "undefined" != typeof DayPilot.Bubble && s.bubble && s.bubble.hideOnMouseOut(), t.style.cursor = "", s.Nj(t.event).forEach(function (e) { DayPilot.Util.removeClass(e, s.da("_event_hover")) }), DayPilot.Areas.hideAreas(t, e) }, this.Mj = function () { var e = this; return s._b(e.event), !1 }, this.Ue = function (e) { if (!l.start) { "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()); var n = this, i = n.event, a = i.part.row, r = i.part.colStart, o = i.part.line, d = i.part.colWidth; e = e || window.event; var c = DayPilot.Util.mouseButton(e); if (e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), c.left) if ("undefined" != typeof DayPilot.Bubble && s.bubble && DayPilot.Bubble.hideActive(), t.movingEvent = null, "w-resize" === this.style.cursor || "e-resize" === this.style.cursor) { var u = {}; u.start = {}, u.start.x = r, u.start.y = a, u.event = n.event, u.width = DayPilot.DateUtil.daysSpan(u.event.start(), u.event.end()) + 1, u.direction = this.style.cursor, t.resizingEvent = u } else if ("move" === this.style.cursor || i.client.moveEnabled()) { s.Ij(); var h = DayPilot.mo3(s.nav.events, e); if (!h) return; var f = s.Oj(h.x, h.y); if (!f) return; var v = DayPilot.DateUtil.daysDiff(i.start(), s.rows[a].start), p = 7 * f.y + f.x - (7 * a + r); v && (p += v); var m = {}; m.start = {}, m.start.x = r, m.start.y = a, m.start.line = o, m.offset = s.eventMoveToPosition ? 0 : p, m.colWidth = d, m.event = n.event, m.coords = h, t.movingEvent = m } } }, this.temp = {},
                this.temp.getPosition = function () { if (!s.coords) return null; var e = s.Oj(s.coords.x, s.coords.y); if (!e) return null; var t = new DayPilot.Date(s.Jj(e.x, e.y)), e = {}; return e.start = t, e.end = t.addDays(1), e }, this.Ve = {}; var l = s.Ve; l.active = !1, l.start = !1, l.timeouts = [], l.onEventTouchStart = function (e) { if (!l.active && !l.start) { l.clearTimeouts(), l.start = !0, l.active = !1; var t = this; if (t.event.client.moveEnabled()) { var n = s.tapAndHoldTimeout; l.timeouts.push(window.setTimeout(function () { l.active = !0, l.start = !1; var n = l.relativeCoords(e); l.startMoving(t, n), e.preventDefault() }, n)) } e.stopPropagation() } }, l.onEventTouchMove = function (e) { l.clearTimeouts(), l.start = !1 }, l.onEventTouchEnd = function (e) { l.clearTimeouts(), l.start && s.Xb(this, e), window.setTimeout(function () { l.start = !1, l.active = !1 }, 500) }, l.onMainTouchStart = function (e) { if (!l.active && !l.start) { l.clearTimeouts(), l.start = !0, l.active = !1; var t = s.tapAndHoldTimeout; l.timeouts.push(window.setTimeout(function () { l.active = !0, l.start = !1, e.preventDefault(); var t = l.relativeCoords(e); l.startRange(t) }, t)) } }, l.onMainTouchMove = function (e) { if (l.clearTimeouts(), l.start = !1, l.active) { e.preventDefault(); var t = l.relativeCoords(e); if (l.moving) return void l.updateMoving(t); l.range && l.updateRange(t) } }, l.onMainTouchEnd = function (e) { if (l.clearTimeouts(), l.active) { if (l.moving) { var t = (l.moving, l.moving.event), n = s.shadow.start, i = s.shadow.position, a = l.moving.offset; s.Ij(), l.moving = null, s.wc(t, n.x, n.y, a, e, i) } if (l.range) { var r = l.range, n = new DayPilot.Date(s.Jj(r.from.x, r.from.y)), o = n.addDays(r.width); l.range = null, s.Fc(n, o) } } window.setTimeout(function () { l.start = !1, l.active = !1 }, 500) }, l.clearTimeouts = function () { for (var e = 0; e < l.timeouts.length; e++)clearTimeout(l.timeouts[e]); l.timeouts = [] }, l.relativeCoords = function (e) { var t = s.nav.events, n = e.touches ? e.touches[0] : e, i = n.pageX, a = n.pageY, r = DayPilot.abs(t); return { x: i - r.x, y: a - r.y, toString: function () { return "x: " + this.x + ", y:" + this.y } } }, l.startMoving = function (e, t) { s.Ij(); var n = e.event, i = s.Oj(t.x, t.y); if (i) { var a = DayPilot.DateUtil.daysDiff(n.start(), s.rows[n.part.row].start), r = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart); a && (r += a); var o = {}; o.start = {}, o.start.x = n.part.colStart, o.start.y = n.part.row, o.start.line = n.part.line, o.offset = s.eventMoveToPosition ? 0 : r, o.colWidth = n.part.colWidth, o.event = n, o.coords = t, l.moving = o, l.updateMoving(t) } }, l.updateMoving = function (e) { var t = s.Oj(e.x, e.y); if (t) { var n = s.Pj(t); s.Ij(); var i = l.moving.event, a = l.moving.offset, r = s.cellMode ? 1 : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1; r < 1 && (r = 1), s.Ej(t.x, t.y, n, r, a, i) } }, l.startRange = function (e) { var t = s.Oj(e.x, e.y); if (t) { s.Ij(); var n = {}; n.start = {}, n.start.x = t.x, n.start.y = t.y, n.x = t.x, n.y = t.y, n.width = 1, l.range = n, l.updateRange(e) } }, l.updateRange = function (e) { var t = s.Oj(e.x, e.y); if (t) { s.Ij(); var n = l.range.start, i = 7 * n.y + n.x, a = 7 * t.y + t.x, r = Math.abs(a - i) + 1; r < 1 && (r = 1); var o = i < a ? n : t; l.range.width = r, l.range.from = { x: o.x, y: o.y }, s.Ej(o.x, o.y, 0, r, 0, null) } }, this.isWeekend = function (e) { return 0 === e.dayOfWeek() || 6 === e.dayOfWeek() }, this.Qj = function () { var e = this.startDate.lastDayOfMonth(); if (this.showWeekend) return e; for (; this.isWeekend(e);)e = e.addDays(-1); return e }, this.vj = function () { if ("string" == typeof this.startDate && (this.startDate = new DayPilot.Date(this.startDate)), "Month" === this.viewType ? this.startDate = this.startDate.firstDayOfMonth() : this.startDate = this.startDate.getDatePart(), this.firstDate = this.startDate.firstDayOfWeek(c.weekStarts()), !this.showWeekend) { for (var e = this.startDate.addMonths(-1).getMonth(), t = new DayPilot.Date(this.firstDate).addDays(6); this.isWeekend(t);)t = t.addDays(-1); t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7)) } var n; this.startDate; if ("Month" === this.viewType) { var i = this.Qj(), a = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1; n = Math.ceil(a / 7) } else n = this.weeks; this.days = 7 * n, this.rows = []; for (var r = 0; r < n; r++) { var o = {}; o.start = this.firstDate.addDays(7 * r), o.end = o.start.addDays(this.Bj()), o.events = [], o.lines = [], o.index = r, o.minHeight = this.cellHeight, o.calendar = this, o.belongsHere = function (e, t) { return t.getTime() === e.getTime() && e.getTime() === this.start.getTime() || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime()) }, o.getPartStart = function (e) { return DayPilot.DateUtil.max(this.start, e.start()) }, o.getPartEnd = function (e) { return DayPilot.DateUtil.min(this.end, e.rawend()) }, o.getStartColumn = function (e) { var t = this.getPartStart(e); return DayPilot.DateUtil.daysDiff(this.start, t) }, o.getWidth = function (e) { var t = this.getPartStart(e), n = this.getPartEnd(e); return DayPilot.DateUtil.daysSpan(t, n) + 1 }, o.putIntoLine = function (e, t, n, i) { for (var a = this, r = 0; r < this.lines.length; r++) { var o = this.lines[r]; if (o.isFree(t, n)) return o.addEvent(e, t, n, i, r), r } var o = []; return o.isFree = function (e, t) { for (var n = !0, i = 0; i < this.length; i++) { var a = this[i]; e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (n = !1) } return n }, o.addEvent = function (e, t, n, i, r) { e.part.colStart = t, e.part.colWidth = n, e.part.row = i, e.part.line = r, e.part.startsHere = a.start.getTime() <= e.start().getTime(), e.part.endsHere = a.end.getTime() >= e.end().getTime(), this.push(e) }, o.addEvent(e, t, n, i, this.lines.length), this.lines.push(o), this.lines.length - 1 }, o.getStart = function () { for (var e = 0, t = 0; t < s.rows.length && t < this.index; t++)e += s.rows[t].getHeight() }, o.getHeight = function () { var e = "number" == typeof s.maxEvents ? s.maxEvents : 1e3, t = Math.min(e, this.lines.length); return Math.max(t * c.lineHeight() + s.cellHeaderHeight + s.cellMarginBottom, this.calendar.cellHeight) }, this.rows.push(o) } this.Rj = this.firstDate.addDays(7 * n) }, this.xh = function () { switch (this.heightSpec) { case "Auto": for (var e = c.headerHeight(), t = 0; t < this.rows.length; t++)e += this.rows[t].getHeight(); return e; case "Fixed": return this.height } }, this.wh = function (e, t) { return 7 * t.y + t.x - (7 * e.y + e.x) + 1 }, this.lh = {}, this.lh.scope = null, this.lh.notify = function () { s.lh.scope && s.lh.scope["$apply"]() }, this.debug = new DayPilot.Debug(this), this.cf = function () { var e = this.nav.top; this.nav.top.dp = this, e.setAttribute("unselectable", "on"), e.style.MozUserSelect = "none", e.style.KhtmlUserSelect = "none", e.style.WebkitUserSelect = "none", e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", e.style.WebkitTouchCallout = "none", e.style.position = "relative", this.width && (e.style.width = this.width), e.onselectstart = function (e) { return !1 }, e.className = this.da("_main"), s.rtl && (e.style.direction = "rtl", DayPilot.Util.addClass(e, this.da("_direction_rtl"))), this.hideUntilInit && (e.style.visibility = "hidden"), this.visible || (e.style.display = "none"), e.onmousemove = this.jf, DayPilot.reNonPassive(e, "touchstart", l.onMainTouchStart), DayPilot.reNonPassive(e, "touchmove", l.onMainTouchMove), DayPilot.rePassive(e, "touchend", l.onMainTouchEnd), this.uj = document.createElement("div"), this.uj.style.display = "none", this.nav.top.appendChild(this.uj); var t = document.createElement("div"); t.style.position = "relative", t.style.height = c.headerHeight() + "px", t.oncontextmenu = function () { return !1 }, this.nav.top.appendChild(t), this.nav.header = t; var n = document.createElement("div"); n.style.zoom = "1"; var i = document.createElement("div"); i.style.position = "relative", i.ondblclick = s.Sj, n.appendChild(i), this.nav.loading = document.createElement("div"), this.nav.loading.style.position = "absolute", this.nav.loading.style.top = "0px", this.nav.loading.style.left = "5px", this.nav.loading.className = s.da("_loading"), this.nav.loading.innerHTML = s.Ha(this.loadingLabelText, this.loadingLabelHtml), this.nav.loading.style.display = "none", this.nav.top.appendChild(n), this.nav.top.appendChild(this.nav.loading), this.nav.scrollable = n, this.nav.events = i }, this.jf = function (e) { e.insideMainD = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), s.coords = DayPilot.mo3(s.nav.events, e); var n = s.coords; if (n) { var i = s.Oj(n.x, n.y); if (i) { if (t.resizingEvent) { s.Ij(); var a, r, o = t.resizingEvent; o.start; if ("w-resize" === o.direction) { r = i; var l = o.event.rawend(); l.getDatePart().getTime() === l.getTime() && (l = l.addDays(-1)); var d = s.Tj(l); a = s.wh(i, d) } else r = s.Tj(o.event.start()), a = s.wh(r, i); a < 1 && (a = 1), s.Ej(r.x, r.y, 0, a) } else if (t.movingEvent) { if (n.x === t.movingEvent.coords.x && n.y === t.movingEvent.coords.y) return; var c = 3, u = Math.abs(n.x - t.movingEvent.coords.x) + Math.abs(n.y - t.movingEvent.coords.y); if (u <= c) return; var h = s.Pj(i); s.Ij(); var f = t.movingEvent.event, v = t.movingEvent.offset, a = s.cellMode ? 1 : DayPilot.DateUtil.daysSpan(f.start(), f.rawend()) + 1; a < 1 && (a = 1), s.Ej(i.x, i.y, h, a, v, f) } else if (t.timeRangeSelecting) { t.cancelCellClick = !0, s.Ij(); var r = t.timeRangeSelecting, p = 7 * r.y + r.x, m = 7 * i.y + i.x, a = Math.abs(m - p) + 1; a < 1 && (a = 1); var g = p < m ? r : i; t.timeRangeSelecting.from = { x: g.x, y: g.y }, t.timeRangeSelecting.width = a, t.timeRangeSelecting.moved = !0, s.Ej(g.x, g.y, 0, a, 0, null) } if (t.drag) { if (t.gShadow && document.body.removeChild(t.gShadow), t.gShadow = null, !t.movingEvent) { var y = DayPilot.Date.today(), e = { "id": t.drag.id, "start": y, "end": y.addSeconds(t.drag.duration), "text": t.drag.text }, b = t.drag.data; if (b) { var w = ["duration", "element", "remove", "id", "text"]; for (var x in b) DayPilot.contains(w, x) || (e[x] = b[x]) } var f = new DayPilot.Event(e, s); f.external = !0; var k = t.movingEvent = {}; k.event = f, k.coords = n, k.position = 0, k.offset = 0, k.external = !0, k.removeElement = t.drag.element } e.cancelBubble = !0 } } } }, this.Pj = function (e) { for (var t = e.relativeY, n = s.rows[e.y], i = s.cellHeaderHeight, a = c.lineHeight(), r = n.lines.length, o = 0; o < n.lines.length; o++) { if (n.lines[o].isFree(e.x, 1)) { r = o; break } } var l = Math.floor((t - i + a / 2) / a), l = Math.min(r, l), l = Math.max(0, l); return l }, this.message = function (e, t) { if (null !== e && s.Aa) { var n, i = {}; "object" == typeof arguments[1] ? (i = arguments[1], n = i.delay) : n = t; var a = ""; a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e), n = n || this.messageHideAfter || 2e3; var r, o = c.headerHeight(); if (this.nav.message) r = s.nav.message; else { r = document.createElement("div"), r.setAttribute("unselectable", "on"), r.style.position = "absolute", r.style.right = "0px", r.style.left = "0px", r.style.top = o + "px", r.style.display = "none", r.onmousemove = function () { r.messageTimeout && !r.status && clearTimeout(r.messageTimeout) }, r.onmouseout = function () { "none" !== s.nav.message.style.display && (r.messageTimeout = setTimeout(s.Ub, 500)) }; var l = document.createElement("div"); l.setAttribute("unselectable", "on"), l.onclick = function () { s.nav.message.style.display = "none" }, l.className = this.da("_message"), r.appendChild(l); var d = document.createElement("div"); d.setAttribute("unselectable", "on"), d.style.position = "absolute", d.className = this.da("_message_close"), d.onclick = function () { s.nav.message.style.display = "none" }, r.appendChild(d), this.nav.top.appendChild(r), this.nav.message = r } var u = function () { if (s.nav.message) { var e = s.nav.message.firstChild; e.className = s.da("_message"), i.cssClass && DayPilot.Util.addClass(e, i.cssClass), e.innerHTML = a; var t = function () { r.messageTimeout = setTimeout(s.Ub, n) }; DayPilot.fade(s.nav.message, .2, t) } }; clearTimeout(r.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(s.nav.message, -.2, u) : u() } }, this.message.show = function (e) { s.message(e) }, this.message.hide = function () { s.Ub() }, this.Ub = function () { var e = function () { s.nav.message.style.display = "none" }; DayPilot.fade(s.nav.message, -.2, e) }, this._a = function (e) { "Parent100Pct" === s.heightSpec && s.yb() }, this.yb = function () { var e = this.nav.scrollable; if ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec ? (e.style.top = this.headerHeight + "px", e.style.bottom = "0px", e.style.left = "0px", e.style.right = "0px", e.style.overflow = "auto", e.style.position = "absolute") : e.style.position = "relative", "Parent100Pct" === this.heightSpec) { this.nav.top.style.height = "100%"; this.nav.top.clientHeight } else this.nav.top.style.height = this.xh() + "px"; for (var t = 0; t < this.cells.length; t++)for (var n = 0; n < this.cells[t].length; n++)this.cells[t][n].style.top = this.Fj(n) + "px", this.cells[t][n].style.height = this.rows[n].getHeight() + "px"; this.Uj() }, this.Oj = function (e, t) { var n = s.Bj(); e = Math.max(0, e); for (var i = Math.floor(this.nav.top.clientWidth / n), a = Math.min(Math.floor(e / i), n - 1), r = null, o = 0, l = 0, d = 0, c = 0; c < this.rows.length; c++) { if (l += this.rows[c].getHeight(), t < l) { o = t - d, r = c; break } d = l } null === r && (r = this.rows.length - 1); var u = {}; return u.x = a, u.y = r, u.relativeY = o, u }, this.Tj = function (e) { for (var t = DayPilot.DateUtil.daysDiff(this.firstDate, e), n = { x: 0, y: 0 }; t >= 7;)n.y++, t -= 7; return n.x = t, n }, this.Uj = function () { var e = DayPilot.sw(this.nav.scrollable); this.nav.header.style.marginRight = e + "px" }; var d = null; this.xj = function () { var e = this.nav.header, t = this.nav.events, n = s.Bj(); this.cells = []; for (var i = 0; i < n; i++) { var a = s.rtl ? 0 === i : i === n - 1; this.cells[i] = []; var r = this.headerProperties ? this.headerProperties[i] : null, o = i + c.weekStarts(); if (o > 6 && (o -= 7), !r) { var r = {}; r.html = c.locale().dayNames[o] } if ("function" == typeof s.onBeforeHeaderRender) { var l = {}; l.header = {}, l.header.dayOfWeek = o; var u = ["html", "backColor", "cssClass"]; DayPilot.Util.copyProps(r, l.header, u), s.onBeforeHeaderRender(l), DayPilot.Util.copyProps(l.header, r, u) } var h = document.createElement("div"); h.setAttribute("unselectable", "on"), h.style.position = "absolute", s.rtl ? h.style.right = this.Hj() * i + "%" : h.style.left = this.Hj() * i + "%", a ? (h.style.right = "0px", s.rtl && (h.style.width = this.Hj() + "%")) : h.style.width = this.Hj() + "%", h.style.top = "0px", h.style.height = c.headerHeight() + "px", function (e) { h.onclick = function () { s.cc(e) } }(o); var f = document.createElement("div"); f.setAttribute("unselectable", "on"), f.className = this.da("_header_inner"), f.innerHTML = r.html, h.appendChild(f), h.className = this.da("_header"), r && (r.cssClass && DayPilot.Util.addClass(h, r.cssClass), r.backColor && (f.style.background = r.backColor)), e.appendChild(h); for (var v = 0; v < this.rows.length; v++)this.Ye(i, v, t) } if (!DayPilot.contains(this.nav.top.childNodes, d) && DayPilot.Util.isNullOrUndefined(undefined)) { var p = document.createElement("div"); p.style.position = "absolute", p.style.padding = "2px", p.style.top = "0px", p.style.left = "0px", p.style.backgroundColor = "#FF6600", p.style.color = "white", p.innerHTML = "\u0044\u0045" + "\u004D\u004F", d = p, this.nav.top.appendChild(p) } }, this.wj = function () { for (var e = 0; e < this.cells.length; e++)for (var t = 0; t < this.cells[e].length; t++) { var n = s.cells[e][t]; s.If(n) } this.nav.header.innerHTML = "", this.nav.events.innerHTML = "" }, this.If = function (e) { !function () { var t = e.domArgs; if (e.domArgs = null, t && "function" == typeof s.onBeforeCellDomRemove && s.onBeforeCellDomRemove(t), t && "function" == typeof s.onBeforeCellDomAdd) { var r = t && t.Ie; if (r) { var o = s.X.reactDOM && n(t.element), l = s.Z.Ke && (i(t.element) || a(t.element)); o ? s.X.la(r) : l && (s.Z.Le = !0, s.Z.ma(r), s.Z.Le = !1) } } }(), e.onclick = null }, this.Ye = function (t, r, o) { var l = this.rows[r], d = this.firstDate.addDays(7 * r + t), u = this.cellProperties ? this.cellProperties[r * this.Bj() + t] : null, h = s.Bj(), f = t === h - 1, v = null; if (u) v = u["headerHtml"]; else { var p = d.getDay(); v = 1 === p ? c.locale().monthNames[d.getMonth()] + " " + p : p + "" } if (!u) { var u = {}; u.business = !s.isWeekend(d), u.headerHtml = v, u.disabled = !1, u.backColor = null, u.backImage = null, u.backRepeat = null, u.areas = null, u.headerBackColor = null, u.cssClass = null, u.html = null } var m = {}; m.cell = {}, m.cell.start = d, m.cell.end = m.cell.start.addDays(1), m.cell.properties = u, m.cell.events = function () { return s.events.forRange(m.cell.start, m.cell.end) }, "function" == typeof s.onBeforeCellRender && (s.onBeforeCellRender(m), DayPilot.Util.copyProps(m.cell, u, ["areas", "backColor", "backImage", "backRepeat", "business", "disabled", "headerHtml", "headerBackColor", "cssClass", "html"])); var g = this.Hj() * t, y = this.Hj(), b = document.createElement("div"); b.setAttribute("unselectable", "on"), b.style.position = "absolute", b.style.cursor = "default", s.rtl ? b.style.right = g + "%" : b.style.left = g + "%", f ? s.rtl ? (b.style.left = "100%", b.style.width = y + "%") : b.style.right = "0px" : b.style.width = y + "%", b.style.top = this.Fj(r) + "px", b.style.height = l.getHeight() + "px", b.d = d, b.x = t, b.y = r, b.props = u; var w = this.startDate.addMonths(-1).getMonth(), x = this.startDate.addMonths(1).getMonth(), k = this.startDate.getMonth(), C = document.createElement("div"); C.setAttribute("unselectable", "on"), b.appendChild(C), C.className = this.da("_cell_inner"), C.className = this.da("_cell_inner"), d.getMonth() === k ? b.className = this.da("_cell") : d.getMonth() === w ? b.className = this.da("_cell") + " " + this.da("_previous") : d.getMonth() === x ? b.className = this.da("_cell") + " " + this.da("_next") : e(), u && (u["cssClass"] && DayPilot.Util.addClass(b, u.cssClass), u["business"] && DayPilot.Util.addClass(b, this.da("_cell_business")), u["backColor"] && (C.style.backgroundColor = u["backColor"]), u["backImage"] && (C.style.backgroundImage = "url('" + u["backImage"] + "')"), u["backRepeat"] && (C.style.backgroundRepeat = u["backRepeat"])), b.onmousedown = this.Oc, b.onmousemove = this.ad, b.onmouseout = this._c, b.oncontextmenu = this.Vj, b.onclick = this.Wj, b.ondblclick = this.Sj; var _ = document.createElement("div"); if (_.setAttribute("unselectable", "on"), _.style.height = this.cellHeaderHeight + "px", u && u["headerBackColor"] && (_.style.background = u["headerBackColor"]), _.className = this.da("_cell_header"), _.innerHTML = u.headerHtml, _.onclick = function (e) { if ("Enabled" === s.cellHeaderClickHandling) { e.stopPropagation(); var t = {}; t.control = s, t.start = d, t.end = d.addDays(1), t.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onCellHeaderClick && (s.onCellHeaderClick(t), t.preventDefault.value) || "function" == typeof s.onCellHeaderClicked && s.onCellHeaderClicked(t) } }, C.appendChild(_), u && u["html"]) { var E = document.createElement("div"); E.setAttribute("unselectable", "on"), E.style.height = l.getHeight() - this.cellHeaderHeight + "px", E.style.overflow = "hidden", E.innerHTML = u["html"], C.appendChild(E) } if (this.cellMode) { var S = document.createElement("div"); S.setAttribute("unselectable", "on"), S.style.height = this.cellHeight - this.cellHeaderHeight + "px", S.style.overflow = "auto", S.style.position = "relative"; var T = document.createElement("div"); T.setAttribute("unselectable", "on"), T.style.paddingTop = "1px", T.style.paddingBottom = "1px", S.appendChild(T), C.appendChild(S), b.body = T, b.scrolling = S } if (b.props) for (var D = b.props.areas || [], A = 0; A < D.length; A++) { var H = D[A]; if (DayPilot.Areas.isVisible(H)) { var M = DayPilot.Areas.createArea(b, m.cell, H); b.appendChild(M) } } !function () { if ("function" == typeof s.onBeforeCellDomAdd || "function" == typeof s.onBeforeCellDomRemove) { var e = {}; if (e.control = s, e.cell = {}, e.cell.start = d, e.cell.end = e.cell.start.addDays(1), e.cell.events = function () { return s.events.forRange(e.cell.start, e.cell.end) }, e.element = null, b.domArgs = e, "function" == typeof s.onBeforeCellDomAdd && s.onBeforeCellDomAdd(e), e.element) { var t = C; if (t) { e.Ie = t; var r = n(e.element), o = i(e.element), l = a(e.element); if (r) { if (!s.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); s.X.W(e.element, t) } else if (o) { if (!s.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); s.Z.Le = !0, s.Z._(e.element, t, e.props), s.Z.Le = !1 } else if (l) { if (!s.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); s.Z.Le = !0, s.Z.Me(e.element, t), s.Z.Le = !1 } else t.appendChild(e.element) } } } }(), this.cells[t][r] = b, o.appendChild(b), "function" == typeof s.onAfterCellRender && (m.cell.div = b, m.cell.divHeader = _, s.onAfterCellRender(m)) }, this.ad = function () { var e = this; e.props && DayPilot.Areas.showAreas(e, e.props) }, this._c = function (e) { var t = this; t.props && DayPilot.Areas.hideAreas(t, e) }, this.Vj = function () { var e = this.d; return function (e) { var t = new DayPilot.Date(e), n = t.addDays(1), i = new DayPilot.Selection(t, n, null, s); s.contextMenuSelection && s.contextMenuSelection.show(i) }(e), !1 }, this.Sj = function () { var e = s.coords, t = s.Oj(e.x, e.y), n = s.Jj(t.x, t.y); if (s.timeouts) { for (var i in s.timeouts) window.clearTimeout(s.timeouts[i]); s.timeouts = null } if ("Disabled" !== s.timeRangeDoubleClickHandling) { var a = new DayPilot.Date(n), r = a.addDays(1); s.Hc(a, r) } }, this.Wj = function () { if (!t.cancelCellClick) { var e = this.d; if (!this.props.disabled) { var n = function (e) { var t = new DayPilot.Date(e), n = t.addDays(1); s.Fc(t, n) }; if ("Disabled" !== s.timeRangeSelectedHandling && "Disabled" === s.timeRangeDoubleClickHandling) return void n(e); s.timeouts || (s.timeouts = []); var i = function (e) { return function () { n(e) } }; s.timeouts.push(window.setTimeout(i(e), s.doubleClickTimeout)) } } }, this.Oc = function (e) { var n = this, i = n.x, a = n.y; if (t.cancelCellClick = !1, n.scrolling) { var r = DayPilot.mo3(n.scrolling, e), o = DayPilot.sw(n.scrolling), l = n.scrolling.offsetWidth; if (r.x > l - o) return } "Disabled" !== s.timeRangeSelectedHandling && (s.Ij(), s.rtl && (i = s.Bj() - 1 - i), t.timeRangeSelecting = { "root": s, "x": i, "y": a, "from": { x: i, y: a }, "width": 1 }), s.Ej(i, a, 0, 1) }, this.Bj = function () { return this.showWeekend ? 7 : 5 }, this.Hj = function () { return this.showWeekend ? 14.285 : 20 }, this.Fj = function (e) { for (var t = 0, n = 0; n < e; n++)t += this.rows[n].getHeight(); return t }, this.clearSelection = function () { this.Ij() }, this.Ka = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.La(); var a = "JSON" + JSON.stringify(i); __doPostBack(s.uniqueID, a) }, this.Ma = function (e, t, n, i) { if (!this.ka()) return void s.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), s.Na(); var a = {}; a.action = e, a.type = i, a.parameters = t, a.data = n, a.header = this.La(); var r = "JSON" + JSON.stringify(a); this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, null, this.callbackError, !0) }, this.ka = function () { return "javasc" !== s.Ca && s.Ca.indexOf("DCODE") === -1 || s.devsb }, this.Ra = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID) }, this.Pa = function (e) { if ("function" == typeof s.onAjaxError) { var t = {}; t.request = e, s.onAjaxError(t) } else "function" == typeof s.ajaxError && s.ajaxError(e) }, this.Oa = function (e) { s.Qa(e.responseText) }, this.La = function () { var e = {}; return e.v = this.v, e.control = "dpm", e.id = this.id, e.visibleStart = new DayPilot.Date(this.firstDate), e.visibleEnd = e.visibleStart.addDays(this.days), e.clientState = this.clientState, e.cssClassPrefix = s.cssClassPrefix, e.startDate = s.startDate, e.showWeekend = this.showWeekend, e.locale = this.locale, e.timeFormat = this.timeFormat, e.weekStarts = this.weekStarts, e.viewType = this.viewType, e.weeks = this.weeks, e.selected = s.multiselect.events(), e.hashes = s.hashes, e }, this.visibleStart = function () { return new DayPilot.Date(this.firstDate) }, this.visibleEnd = function () { return s.visibleStart().addDays(s.days) }, this.hc = function (e, t, n, i) { if ("PostBack" === e) s.postBack2(t, n, i); else if ("CallBack" === e) s.Ma(t, n, i, "CallBack"); else if ("Immediate" === e) s.Ma(t, n, i, "Notify"); else if ("Queue" === e) s.queue.add(new DayPilot.Action(this, t, n, i)); else { if ("Notify" !== e) throw "Invalid event invocation type"; "Notify" === c.notifyType() ? s.Ma(t, n, i, "Notify") : s.queue.add(new DayPilot.Action(s, t, n, i)) } }, this.Bc = function (e, t) { var n = s.Cc(t), i = {}; i.args = e, i.guid = n, s.Ma("Bubble", i) }, this.Cc = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t }, this.eventClickPostBack = function (e, t) { this.Ka("EventClick", t, e) }, this.eventClickCallBack = function (e, t) { this.Ma("EventClick", e, t) }, this.Wb = function (e, n) { t.movingEvent = null, t.resizingEvent = null; var n = n || window.event; n.ctrlKey, n.metaKey; if (n.cancelBubble = !0, n.stopPropagation && n.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === s.eventDoubleClickHandling) return void s.Xb(e, n); if (s.timeouts) { for (var i in s.timeouts) window.clearTimeout(s.timeouts[i]); s.timeouts = [] } else s.timeouts = []; var a = function (e, t) { return function () { s.Xb(e, t) } }; s.timeouts.push(window.setTimeout(a(e, n), s.doubleClickTimeout)) }, this.Xb = function (e, t) { var n = e.event; if (n.client.clickEnabled()) { var i = t.ctrlKey, a = t.metaKey; if (s.Hb()) { var r = {}; if (r.e = n, r.control = s, r.div = e, r.originalEvent = t, r.meta = t.metaKey, r.ctrl = t.ctrlKey, r.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventClick && (s.onEventClick(r), r.preventDefault.value)) return; switch (s.eventClickHandling) { case "PostBack": s.eventClickPostBack(n); break; case "CallBack": s.eventClickCallBack(n); break; case "Select": s.Zb(e, n, i, a); break; case "ContextMenu": var o = n.client.contextMenu(); o ? o.show(n) : s.contextMenu && s.contextMenu.show(n); break; case "Bubble": s.bubble && s.bubble.showEvent(n) }"function" == typeof s.onEventClicked && s.onEventClicked(r) } else switch (s.eventClickHandling) { case "PostBack": s.eventClickPostBack(n); break; case "CallBack": s.eventClickCallBack(n); break; case "JavaScript": s.onEventClick(n); break; case "Select": s.Zb(e, n, i, a); break; case "ContextMenu": var o = n.client.contextMenu(); o ? o.show(n) : s.contextMenu && s.contextMenu.show(n); break; case "Bubble": s.bubble && s.bubble.showEvent(n) } } }, this.gc = function (e) { if (s.Hb()) { var t = {}; if (t.e = e, t.control = s, t.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventDelete && (s.onEventDelete(t), t.preventDefault.value)) return; switch (s.eventDeleteHandling) { case "PostBack": s.eventDeletePostBack(e); break; case "CallBack": s.eventDeleteCallBack(e); break; case "Update": s.events.remove(e) }"function" == typeof s.onEventDeleted && s.onEventDeleted(t) } else switch (s.eventDeleteHandling) { case "PostBack": s.eventDeletePostBack(e); break; case "CallBack": s.eventDeleteCallBack(e); break; case "JavaScript": s.onEventDelete(e) } }, this.eventDeletePostBack = function (e, t) { this.Ka("EventDelete", e, t) }, this.eventDeleteCallBack = function (e, t) { this.Ma("EventDelete", e, t) }, this.eventDoubleClickPostBack = function (e, t) { this.Ka("EventDoubleClick", t, e) }, this.eventDoubleClickCallBack = function (e, t) { this.Ma("EventDoubleClick", e, t) }, this.$b = function (e, t) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), s.timeouts) { for (var n in s.timeouts) window.clearTimeout(s.timeouts[n]); s.timeouts = null } var t = t || window.event, i = e.event; if (i.client.doubleClickEnabled()) if (s.Hb()) { var a = {}; if (a.e = i, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventDoubleClick && (s.onEventDoubleClick(a), a.preventDefault.value)) return; switch (s.eventDoubleClickHandling) { case "PostBack": s.eventDoubleClickPostBack(i); break; case "CallBack": s.eventDoubleClickCallBack(i); break; case "Select": s.Zb(e, i, t.ctrlKey, t.metaKey); break; case "Bubble": s.bubble && s.bubble.showEvent(i) }"function" == typeof s.onEventDoubleClicked && s.onEventDoubleClicked(a) } else switch (s.eventDoubleClickHandling) { case "PostBack": s.eventDoubleClickPostBack(i); break; case "CallBack": s.eventDoubleClickCallBack(i); break; case "JavaScript": s.onEventDoubleClick(i); break; case "Select": s.Zb(e, i, t.ctrlKey, t.metaKey); break; case "Bubble": s.bubble && s.bubble.showEvent(i) } }, this.Zb = function (e, t, n, i) { s.Jc(e, t, n, i) }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ka("EventSelect", n, i) }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ma("EventSelect", i, n) }, this.Jc = function (e, t, n, i) { var a = s.multiselect, r = a.isSelected(t); if (n || i || !r || 1 !== a.list.length) if (s.Hb()) { a.previous = a.events(); var o = {}; if (o.e = t, o.selected = a.isSelected(t), o.ctrl = n, o.meta = i, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventSelect && (s.onEventSelect(o), o.preventDefault.value)) return; switch (s.eventSelectHandling) { case "PostBack": s.eventSelectPostBack(t, l); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), s.eventSelectCallBack(t, l); break; case "Update": a.Nc(e, n) }"function" == typeof s.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", o.selected = a.isSelected(t), s.onEventSelected(o)) } else { a.previous = a.events(), a.Nc(e, n); var l = a.isSelected(t) ? "selected" : "deselected"; switch (s.eventSelectHandling) { case "PostBack": s.eventSelectPostBack(t, l); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), s.eventSelectCallBack(t, l); break; case "JavaScript": s.onEventSelect(t, l) } } }, this.eventRightClickPostBack = function (e, t) { this.Ka("EventRightClick", t, e) }, this.eventRightClickCallBack = function (e, t) { this.Ma("EventRightClick", e, t) }, this._b = function (e) { if (this.event = e, !e.client.rightClickEnabled()) return !1; if (s.Hb()) { var t = {}; if (t.e = e, t.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventRightClick && (s.onEventRightClick(t), t.preventDefault.value)) return; switch (s.eventRightClickHandling) { case "PostBack": s.eventRightClickPostBack(e); break; case "CallBack": s.eventRightClickCallBack(e); break; case "ContextMenu": var n = e.client.contextMenu(); n ? n.show(e) : s.contextMenu && s.contextMenu.show(this.event); break; case "Bubble": s.bubble && s.bubble.showEvent(e) }"function" == typeof s.onEventRightClicked && s.onEventRightClicked(t) } else switch (s.eventRightClickHandling) { case "PostBack": s.eventRightClickPostBack(e); break; case "CallBack": s.eventRightClickCallBack(e); break; case "JavaScript": s.onEventRightClick(e); break; case "ContextMenu": var n = e.client.contextMenu(); n ? n.show(e) : s.contextMenu && s.contextMenu.show(this.event); break; case "Bubble": s.bubble && s.bubble.showEvent(e) }return !1 }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ka("EventMenuClick", n, i) }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ma("EventMenuClick", i, n) }, this.Dc = function (e, t, n) { switch (n) { case "PostBack": s.eventMenuClickPostBack(t, e); break; case "CallBack": s.eventMenuClickCallBack(t, e) } }, this.eventMovePostBack = function (e, t, n, i, a) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.position = a, this.Ka("EventMove", i, r) }, this.eventMoveCallBack = function (e, t, n, i, a) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var r = {}; r.e = e, r.newStart = t, r.newEnd = n, r.position = a, this.Ma("EventMove", r, i) }, this.wc = function (e, t, n, i, a, r, o) { var l = e.start().getTimePart(), d = e.rawend().getDatePart(); d.getTime() !== e.rawend().getTime() && (d = d.addDays(1)); var c = DayPilot.DateUtil.diff(e.rawend(), d), u = this.Jj(t, n); u = u.addDays(-i); var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1, f = u.addDays(h), v = u.addTime(l), p = f.addTime(c); if (p = s.Xj(p), s.Hb()) { var m = {}; if (m.e = e, m.control = s, m.newStart = v, m.newEnd = p, m.position = r, m.external = o, m.ctrl = !1, m.shift = !1, m.meta = !1, a && (m.shift = a.shiftKey, m.ctrl = a.ctrlKey, m.meta = a.metaKey), m.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventMove && (s.onEventMove(m), m.preventDefault.value)) return; switch (s.eventMoveHandling) { case "PostBack": s.eventMovePostBack(e, v, p, null, r); break; case "CallBack": s.eventMoveCallBack(e, v, p, null, r); break; case "Notify": s.eventMoveNotify(e, v, p, null, r); break; case "Update": m.external ? (e.start(v), e.end(p), e.commit(), s.events.add(e)) : (e.start(v), e.end(p), s.events.update(e)), s.zc() }"function" == typeof s.onEventMoved && s.onEventMoved(m) } else switch (s.eventMoveHandling) { case "PostBack": s.eventMovePostBack(e, v, p, null, r); break; case "CallBack": s.eventMoveCallBack(e, v, p, null, r); break; case "JavaScript": s.onEventMove(e, v, p, a.ctrlKey, a.shiftKey, r); break; case "Notify": s.eventMoveNotify(e, v, p, null, r) } }, this.eventMoveNotify = function (e, t, n, i, a) { var r = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), s.update(), this.Ac("Notify", r, t, n, i, a) }, this.Ac = function (e, t, n, i, a, r) { var o = {}; o.e = t, o.newStart = n, o.newEnd = i, o.position = r, this.hc(e, "EventMove", o, a) }, this.eventResizePostBack = function (e, t, n, i) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.Ka("EventResize", i, a) }, this.eventResizeCallBack = function (e, t, n, i) { if (!t) throw "newStart is null"; if (!n) throw "newEnd is null"; var a = {}; a.e = e, a.newStart = t, a.newEnd = n, this.Ma("EventResize", a, i) }, this.nc = function (e, t, n) { var i = e.start().getTimePart(), a = e.rawend().getDatePart(); a.getTime() !== e.rawend().getTime() && (a = a.addDays(1)); var r = DayPilot.DateUtil.diff(e.rawend(), a), o = this.Jj(t.x, t.y), l = o.addDays(n), d = o.addTime(i), c = l.addTime(r); if (c = s.Xj(c), s.Hb()) { var u = {}; if (u.e = e, u.control = s, u.newStart = d, u.newEnd = c, u.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onEventResize && (s.onEventResize(u), u.preventDefault.value)) return; switch (s.eventResizeHandling) { case "PostBack": s.eventResizePostBack(e, d, c); break; case "CallBack": s.eventResizeCallBack(e, d, c); break; case "Notify": s.eventResizeNotify(e, d, c); break; case "Update": e.start(d), e.end(c), s.events.update(e) }"function" == typeof s.onEventResized && s.onEventResized(u) } else switch (s.eventResizeHandling) { case "PostBack": s.eventResizePostBack(e, d, c); break; case "CallBack": s.eventResizeCallBack(e, d, c); break; case "JavaScript": s.onEventResize(e, d, c); break; case "Notify": s.eventResizeNotify(e, d, c) } }, this.eventResizeNotify = function (e, t, n, i) { var a = new DayPilot.Event(e.copy(), this); e.start(t), e.end(n), e.commit(), s.update(), this.qc("Notify", a, t, n, i) }, this.qc = function (e, t, n, i, a) {
                    var r = {}; r.e = t, r.newStart = n, r.newEnd = i, this.hc(e, "EventResize", r, a);
                }, this.timeRangeSelectedPostBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.Ka("TimeRangeSelected", n, i) }, this.timeRangeSelectedCallBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.Ma("TimeRangeSelected", i, n) }, this.Fc = function (e, t) { if (t = s.Xj(t), s.Hb()) { var n = {}; if (n.start = e, n.end = t, n.control = s, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onTimeRangeSelect && (s.onTimeRangeSelect(n), n.preventDefault.value)) return; switch (s.timeRangeSelectedHandling) { case "PostBack": s.timeRangeSelectedPostBack(e, t), s.clearSelection(); break; case "CallBack": s.timeRangeSelectedCallBack(e, t), s.clearSelection() }"function" == typeof s.onTimeRangeSelected && s.onTimeRangeSelected(n) } else switch (s.timeRangeSelectedHandling) { case "PostBack": s.timeRangeSelectedPostBack(e, t), s.clearSelection(); break; case "CallBack": s.timeRangeSelectedCallBack(e, t), s.clearSelection(); break; case "JavaScript": s.onTimeRangeSelected(e, t) } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ka("TimeRangeMenuClick", n, i) }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ma("TimeRangeMenuClick", i, n) }, this.Ec = function (e, t, n) { switch (n) { case "PostBack": s.timeRangeMenuClickPostBack(t, e); break; case "CallBack": s.timeRangeMenuClickCallBack(t, e) } }, this.headerClickPostBack = function (e, t) { this.Ka("HeaderClick", t, e) }, this.headerClickCallBack = function (e, t) { this.Ma("HeaderClick", e, t) }, this.cc = function (e) { var t = (this.data, { day: e }); if (s.Hb()) { var n = {}; if (n.header = {}, n.header.dayOfWeek = e, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onHeaderClick && (s.onHeaderClick(n), n.preventDefault.value)) return; switch (s.headerClickHandling) { case "PostBack": s.headerClickPostBack(t); break; case "CallBack": s.headerClickCallBack(t) }"function" == typeof s.onHeaderClicked && s.onHeaderClicked(n) } else switch (s.headerClickHandling) { case "PostBack": s.headerClickPostBack(t); break; case "CallBack": s.headerClickCallBack(t); break; case "JavaScript": s.onHeaderClick(t) } }, this.timeRangeDoubleClickPostBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.Ka("TimeRangeDoubleClick", n, i) }, this.timeRangeDoubleClickCallBack = function (e, t, n) { var i = {}; i.start = e, i.end = t, this.Ma("TimeRangeDoubleClick", i, n) }, this.Hc = function (e, t) { if (s.Hb()) { var n = {}; if (n.start = e, n.end = t, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof s.onTimeRangeDoubleClick && (s.onTimeRangeDoubleClick(n), n.preventDefault.value)) return; switch (s.timeRangeDoubleClickHandling) { case "PostBack": s.timeRangeDoubleClickPostBack(e, t); break; case "CallBack": s.timeRangeDoubleClickCallBack(e, t) }"function" == typeof s.onTimeRangeDoubleClicked && s.onTimeRangeDoubleClicked(n) } else switch (s.timeRangeDoubleClickHandling) { case "PostBack": s.timeRangeDoubleClickPostBack(e, t); break; case "CallBack": s.timeRangeDoubleClickCallBack(e, t); break; case "JavaScript": s.onTimeRangeDoubleClick(e, t) } }, this.commandCallBack = function (e, t) { this.Yj(); var n = {}; n.command = e, this.Ma("Command", n, t) }, this.commandPostBack = function (e, t) { this.Yj(); var n = {}; n.command = e, this.Ka("Command", n, t) }, this.kh = function (e) { for (var t = 0; t < s.elements.events.length; t++) { var n = s.elements.events[t]; if (n.event === e || n.event.data === e.data) return n } return null }, this.Nj = function (e) { var t = {}; t.list = [], t.forEach = function (e) { if (e) for (var t = 0; t < this.list.length; t++)e(this.list[t]) }; for (var n = 0; n < this.elements.events.length; n++) { var i = this.elements.events[n]; i.event.data === e.data && t.list.push(i) } return t }, this.qh = function (e) { var t = document.createElement("div"); t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t.className = this.da(e), document.body.appendChild(t); var n = t.offsetHeight, i = t.offsetWidth; document.body.removeChild(t); var a = {}; return a.height = n, a.width = i, a }, this.Ja = {}; var c = this.Ja; c.Ia = function () { return "Disabled" !== s.xssProtection }, c.clearCache = function () { delete s.wa.eventHeight, delete s.wa.headerHeight }, c.lineHeight = function () { return c.eventHeight() + s.lineSpace }, c.rounded = function () { return "Rounded" === s.eventCorners }, c.loadFromServer = function () { return !!s.backendUrl }, c.locale = function () { return DayPilot.Locale.find(s.locale) }, c.getWeekStart = function () { return s.showWeekend ? s.weekStarts : 1 }, c.weekStarts = function () { if (!s.showWeekend) return 1; if ("Auto" === s.weekStarts) { var e = c.locale(); return e ? e.weekStarts : 0 } return s.weekStarts }, c.notifyType = function () { var e; if ("Immediate" === s.notifyCommit) e = "Notify"; else { if ("Queue" !== s.notifyCommit) throw "Invalid notifyCommit value: " + s.notifyCommit; e = "Queue" } return e }, c.eventHeight = function () { if (s.wa.eventHeight) return s.wa.eventHeight; var e = s.qh("_event_height").height; return e || (e = s.eventHeight), s.wa.eventHeight = e, e }, c.headerHeight = function () { if (s.wa.headerHeight) return s.wa.headerHeight; var e = s.qh("_header_height").height; return e || (e = s.headerHeight), s.wa.headerHeight = e, e }, c.timeFormat = function () { return "Auto" !== s.timeFormat ? s.timeFormat : c.locale().timeFormat }, this.vg = function () { var e = s.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0) }, this.exportAs = function (e, t) { if (!s.vg()) throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export."); var n = u.generate(e, t); return new DayPilot.Export(n) }, this.uh = {}; var u = this.uh; u.B = null, u.vh = null, u.generate = function (e, t) { "object" == typeof e && (t = e, e = null); var t = t || {}, e = e || t.format || "svg", n = t.scale || 1; if ("config" !== e) { "jpg" === e.toLowerCase() && (e = "jpeg"); var i = t.area || "viewport"; u.B = t, u.vh = i; var a, r = u.getWidth(), o = u.getHeight(); switch (e.toLowerCase()) { case "svg": a = new DayPilot.Svg(r, o); break; case "png": a = new DayPilot.Canvas(r, o, "image/png", n); break; case "jpeg": a = new DayPilot.Canvas(r, o, "image/jpeg", n, t.quality); break; default: throw "Export format not supported: " + e }var l = u.getRectangles(), d = new DayPilot.StyleReader(s.nav.top).get("background-color"), h = new DayPilot.StyleReader(s.nav.top).get("border-top-color"), f = s.nav.header.firstChild.firstChild, v = new DayPilot.StyleReader(f).get("background-color"), p = new DayPilot.StyleReader(f).getFont(), m = new DayPilot.StyleReader(f).get("color"), g = s.cells[0][0].firstChild, y = (new DayPilot.StyleReader(g).get("background-color"), new DayPilot.StyleReader(g).get("border-right-color")), b = l.grid.w * s.Hj() / 100, w = 0; a.fillRect(l.main, "white"), a.fillRect(l.main, d), DayPilot.list.for(s.Bj()).forEach(function (e) { var t = s.headerProperties ? s.headerProperties[e] : null, n = e + c.weekStarts(); if (n > 6 && (n -= 7), !t) { var t = {}; t.html = c.locale().dayNames[n] } var i = 0, r = b, o = c.headerHeight(), l = t.html, d = { "x": w, "y": i, "w": r + 1, "h": o + 1 }, u = DayPilot.Util.copyProps(d), f = {}; f.header = {}, f.header.dayOfWeek = n, f.backColor = v, f.text = l, f.horizontalAlignment = "center", f.verticalAlignment = "center", f.fontSize = p.size, f.fontFamily = p.family, f.fontStyle = p.style, f.fontColor = m, "function" == typeof s.onBeforeHeaderExport && s.onBeforeHeaderExport(f); var g = { "size": f.fontSize, "family": f.fontFamily, "style": f.fontStyle }; a.fillRect(d, f.backColor), a.rect(d, h), a.text(u, f.text, g, f.fontColor, f.horizontalAlignment, 0, f.verticalAlignment), w += r }); var x = l.grid.y; u.Zj().forEach(function (e) { var t = e.getHeight(), n = 0, i = s.rows.indexOf(e); DayPilot.list.for(s.Bj()).forEach(function (e) { var r = s.cells[e][i], o = r.props, l = b, d = new DayPilot.StyleReader(s.cells[e][i].firstChild).get("background-color"), c = s.cells[e][i].firstChild.firstChild, u = new DayPilot.StyleReader(c).getFont(), h = new DayPilot.StyleReader(c).get("color"), f = new DayPilot.StyleReader(c).get("background-color"), v = s.firstDate.addDays(7 * i + e), p = {}; p.cell = {}, p.cell.start = v, p.cell.end = v.addDays(1), p.backColor = d, p.text = o.headerHtml, p.horizontalAlignment = "right", "function" == typeof s.onBeforeCellExport && s.onBeforeCellExport(p); var m = { "x": n, "y": x, "w": l + 1, "h": t + 1 }; a.fillRect(m, p.backColor), a.rect(m, y); var g = { "x": n, "y": x, "w": l - 2, "h": s.cellHeaderHeight }; a.fillRect(m, f), a.text(g, p.text, u, h, p.horizontalAlignment), n += l }), x += t }); var k = 0; return u.Zj().forEach(function (e) { var t = e.getHeight(); DayPilot.list(e.lines).forEach(function (e) { DayPilot.list(e).forEach(function (e) { var t = e.cache || e.data, n = u.Bh(); n.className += " " + t.cssClass; var i = n.firstChild, r = n.querySelector("." + s.da("_event_bar")), o = new DayPilot.StyleReader(i).get("border-right-color"), d = new DayPilot.StyleReader(i).getFont(), h = new DayPilot.StyleReader(i).get("color"), f = new DayPilot.StyleReader(i).getBackColor(), v = new DayPilot.StyleReader(r.firstChild).getBackColor(), p = new DayPilot.StyleReader(r.firstChild).getPx("width"), m = {}; m.left = new DayPilot.StyleReader(i).getPx("padding-left"), m.right = new DayPilot.StyleReader(i).getPx("padding-right"), m.top = new DayPilot.StyleReader(i).getPx("padding-top"), m.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"); t.barColor || v; DayPilot.de(n); var g = t.backColor || f, y = {}; y.e = e, y.text = e.text ? e.text() : e.client.html(), y.fontSize = d.size, y.fontFamily = d.family, y.fontStyle = d.style, y.fontColor = t.fontColor || h, y.backColor = t.backColor || g, y.borderColor = t.borderColor || o, y.horizontalAlignment = "left", y.barWidth = p, y.barColor = t.barColor || v, "function" == typeof s.onBeforeEventExport && s.onBeforeEventExport(y); var w = b * e.part.colStart, x = b * e.part.colWidth, C = k + s.cellHeaderHeight + e.part.line * c.lineHeight() + l.grid.y + 2, _ = c.eventHeight(), E = 2, S = { "x": w + E, "y": C, "w": x + 1 - 4, "h": _ }, T = DayPilot.Util.copyProps(S), D = DayPilot.Util.copyProps(T); if (D.x += m.left, D.w -= m.left + m.right, D.y += m.top, D.h -= m.top + m.bottom, a.fillRect(S, y.backColor), e.client.barVisible()) { var A = { "x": S.x, "y": S.y, "w": y.barWidth, "h": S.h }; a.fillRect(A, y.barColor) } a.text(D, y.text, { "size": y.fontSize, "family": y.fontFamily, "style": y.fontStyle }, y.fontColor, y.horizontalAlignment), a.rect(S, y.borderColor) }) }), k += t }), a.rect(l.main, h), a.line(l.grid.x, 0, l.grid.x, l.main.h, h), a.line(0, l.grid.y, l.main.w, l.grid.y, h), a } }, u.Bh = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.display = "none", e.className = s.da("_event"); var t = document.createElement("div"); t.className = s.da("_event_inner"), e.appendChild(t); var n = document.createElement("div"); n.className = s.da("_event_bar"); var i = document.createElement("div"); return i.className = s.da("_event_bar_inner"), n.appendChild(i), e.appendChild(n), s.nav.events.appendChild(e), e }, u.zh = function () { var e = document.createElement("div"); e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px", e.style.display = "none", e.className = s.da("_cell"); var t = document.createElement("div"); return t.className = s.da("_cell_inner"), e.appendChild(t), s.nav.events.appendChild(e), e }, u.getWidth = function () { var e = u.vh, t = Math.floor(s.nav.top.clientWidth / s.Bj()) * s.Bj(); switch (e) { case "viewport": case "full": case "range": return "number" == typeof u.B.width ? u.B.width : t; default: throw "Unsupported export mode: " + e } }, u.getHeight = function () { var e = u.vh; switch (e) { case "viewport": case "full": return s.nav.top.clientHeight; case "range": var t = c.headerHeight(); return u.Zj().forEach(function (e) { t += e.getHeight() }), t; default: throw "Unsupported export mode: " + e } }, u.Zj = function () { var e = new DayPilot.Date(u.B.dateFrom || s.visibleStart()), t = new DayPilot.Date(u.B.dateTo || s.visibleEnd()); return s.rows.filter(function (n) { return "range" !== u.vh || DayPilot.Util.overlaps(n.start, n.end, e, t) }) }, u.getRectangles = function () { var e = c.headerHeight(), t = {}; return t.main = { "x": 0, "y": 0, "w": u.getWidth(), "h": u.getHeight() }, t.grid = { "x": 0, "y": e, "w": u.getWidth(), "h": u.getHeight() - e }, t }, this.multiselect = {}, this.multiselect.initList = [], this.multiselect.list = [], this.multiselect.divs = [], this.multiselect.previous = [], this.multiselect.vd = function () { var e = s.multiselect; return JSON.stringify(e.events()) }, this.multiselect.events = function () { var e = s.multiselect, t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.list.length; n++)t.push(e.list[n]); return t }, this.multiselect.xd = function () { }, this.multiselect.Nc = function (e, t) { var n = s.multiselect; if (n.isSelected(e.event)) if (s.allowMultiSelect) if (t) n.remove(e.event, !0); else { var i = n.list.length; n.clear(!0), i > 1 && n.add(e.event, !0) } else n.clear(!0); else s.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0)); n.redraw(), n.xd() }, this.multiselect.yd = function (e) { var t = s.multiselect; return t.zd(e, t.initList) }, this.multiselect.Ad = function () { for (var e = s.multiselect, t = [], n = 0; n < e.list.length; n++) { var i = e.list[n]; t.push(i.value()) } alert(t.join("\n")) }, this.multiselect.add = function (e, t) { var n = s.multiselect; n.Bd(e) === -1 && n.list.push(e), t || n.redraw() }, this.multiselect.remove = function (e, t) { var n = s.multiselect, i = n.Bd(e); i !== -1 && n.list.splice(i, 1) }, this.multiselect.clear = function (e) { var t = s.multiselect; t.list = [], e || t.redraw() }, this.multiselect.redraw = function () { for (var e = s.multiselect, t = 0; t < s.elements.events.length; t++) { var n = s.elements.events[t]; e.isSelected(n.event) ? e.Cd(n) : e.Dd(n) } }, this.multiselect.Cd = function (e) { var t = s.multiselect, n = s.da("_selected"), e = t.Ed(e); DayPilot.Util.addClass(e, n), t.divs.push(e) }, this.multiselect.Ed = function (e) { return e }, this.multiselect.Fd = function () { for (var e = s.multiselect, t = 0; t < e.divs.length; t++) { var n = e.divs[t]; e.Dd(n, !0) } e.divs = [] }, this.multiselect.Dd = function (e, t) { var n = s.multiselect, i = s.da("_selected"), a = n.Ed(e); if (a && a.className && a.className.indexOf(i) !== -1 && (a.className = a.className.replace(i, "")), !t) { var r = DayPilot.indexOf(n.divs, e); r !== -1 && n.divs.splice(r, 1) } }, this.multiselect.isSelected = function (e) { return s.multiselect.zd(e, s.multiselect.list) }, this.multiselect.Bd = function (e) { for (var t = e.data, n = 0; n < s.multiselect.list.length; n++) { var i = s.multiselect.list[n]; if (s.Gd(i.data, t)) return n } return -1 }, this.multiselect.zd = function (e, t) { if (!t) return !1; for (var n = 0; n < t.length; n++) { var i = t[n]; if (s.Gd(e, i)) return !0 } return !1 }, this.Gd = function (e, t) { return DayPilot.Util.isSameEvent(e, t) }, this.events.forRange = function (e, t) { e = new DayPilot.Date(e), t = new DayPilot.Date(t); var n = DayPilot.list(s.events.list).map(function (e) { return new DayPilot.Event(e) }); return n.sort(s.ih), n.filter(function (n) { var i = n.start(), a = n.end(); return i === a && i === e || DayPilot.Util.overlaps(e, t, i, a) }) }, this.events.find = function (e) { if (!s.events.list || "undefined" == typeof s.events.list.length) return null; if ("function" == typeof e) { for (var t = e, n = 0; n < s.events.list.length; n++) { var i = new DayPilot.Event(s.events.list[n], s); if (t(i)) return i } return null } for (var a = s.events.list.length, n = 0; n < a; n++)if (s.events.list[n].id === e) return new DayPilot.Event(s.events.list[n], s); return null }, this.events.findRecurrent = function (e, t) { if (!s.events.list || "undefined" == typeof s.events.list.length) return null; for (var n = s.events.list.length, i = 0; i < n; i++)if (s.events.list[i].recurrentMasterId === e && s.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(s.events.list[i], s); return null }, this.events.update = function (e, t) { if ("object" == typeof e && !(e instanceof DayPilot.Event)) { var n = s.events.find(e.id); if (!n) throw new DayPilot.Exception("The event to be updated was not found"); var i = DayPilot.indexOf(s.events.list, n.data); return s.events.list.splice(i, 1, e), s.Aa && s.update(), void s.lh.notify() } var a = {}; a.oldEvent = new DayPilot.Event(e.copy(), s), a.newEvent = new DayPilot.Event(e.temp(), s); var r = new DayPilot.Action(s, "EventUpdate", a, t); return e.commit(), s.Aa && s.update(), s.lh.notify(), r }, this.events.remove = function (e, t) { var n = {}; n.e = new DayPilot.Event(e.data, s); var i = new DayPilot.Action(s, "EventRemove", n, t), a = DayPilot.indexOf(s.events.list, e.data); return s.events.list.splice(a, 1), s.Aa && s.update(), s.lh.notify(), i }, this.events.add = function (e, t) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = s, s.events.list || (s.events.list = []), s.events.list.push(e.data); var n = {}; n.e = e; var i = new DayPilot.Action(s, "EventAdd", n, t); return s.Aa && s.update(), s.lh.notify(), i }, this.events.filter = function (e) { s.events.fh = e, s.Jd() }, this.events.load = function (e, t, n) { var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, a = function (e) { var n, a = e.request; try { n = JSON.parse(a.responseText) } catch (e) { var r = {}; return r.exception = e, void i(r) } if (DayPilot.isArray(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; s.events.list = n, s.Aa && s.update() } }; if (s.eventsLoadMethod && "POST" === s.eventsLoadMethod.toUpperCase()) DayPilot.ajax({ "method": "POST", "data": { "start": s.visibleStart().toString(), "end": s.visibleEnd().toString() }, "url": e, "success": a, "error": i }); else { var r = e, o = "start=" + s.visibleStart().toString() + "&end=" + s.visibleEnd().toString(); r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({ "method": "GET", "url": r, "success": a, "error": i }) } }, this.X = {}, this.X.reactDOM = null, this.X.react = null, this.X.W = function (e, t) { var n = s.X.reactDOM; if ("function" == typeof n.createRoot) { var i = t.na; i || (i = n.createRoot(t), t.na = i), i.render(e) } else n.render(e, t) }, this.X.la = function (e) { var t = s.X.reactDOM; if ("function" == typeof t.createRoot) { var n = e.na; setTimeout(function () { n.unmount() }, 0) } else t.unmountComponentAtNode(e) }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) { if (!e.isAction) throw "DayPilot.Action object required for queue.add()"; s.queue.list.push(e) } }, this.queue.notify = function (e) { var t = {}; t.actions = s.queue.list, s.Ma("Notify", t, e, "Notify"), s.queue.list = [] }, this.queue.clear = function () { s.queue.list = [] }, this.queue.pop = function () { return s.queue.list.pop() }, this.Xj = function (e) { return "DateTime" === s.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart() }, this.Aj = function (e) { return "DateTime" === s.eventEndSpec ? e : e.getDatePart().addDays(1) }, this.$j = function (e) { return "DateTime" === s.eventEndSpec ? e : e.getDatePart() }, this.Gb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) { this.Yj(); var t = this.autoRefreshInterval; if (!t || t < 10) throw "The minimum autoRefreshInterval is 10 seconds"; this.autoRefreshTimeout = window.setTimeout(function () { s.yg() }, 1e3 * this.autoRefreshInterval) } }, this.Yj = function () { this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout) }, this.yg = function () { if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) { var e = !1; if ("function" == typeof this.onAutoRefresh) { var n = {}; n.i = this.za, n.preventDefault = function () { this.preventDefault.value = !0 }, s.onAutoRefresh(n), n.preventDefault.value && (e = !0) } !e && this.ka() && this.commandCallBack(this.autoRefreshCommand), this.za++ } this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { s.yg() }, 1e3 * this.autoRefreshInterval)) }, this.Jd = function (e) { if (this.cells) { var e = e || {}, t = !e.eventsOnly; s.cssOnly || (s.cssOnly = !0), s.Va(), s.vj(), s.qb(), t && (s.Ja.clearCache(), s.wj(), s.xj()), s.yb(), s.E(), s.Cb(), this.visible ? this.show() : this.hide() } }, this.update = function (e) { if (!s.Aa) throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet."); if (s.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that has been disposed."); this.ph(e), this.Jd() }, this.dispose = function () { var e = s; e.nav.top && (e.Yj(), e.wj(), e.Va(), e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), e.nav.top.innerHTML = "", e.nav.top.dp = null, e.nav.top.onmousemove = null, DayPilot.ue(e.nav.top, "touchstart", l.onMainTouchStart), DayPilot.ue(e.nav.top, "touchmove", l.onMainTouchMove), DayPilot.ue(e.nav.top, "touchend", l.onMainTouchEnd), e.nav.top = null, DayPilot.ue(window, "resize", e._a), t.unregister(e), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e })) }, this.Eg = function () { t.globalHandlers || (t.globalHandlers = !0, DayPilot.re(document, "mousemove", t.gMouseMove), DayPilot.re(document, "mouseup", t.gMouseUp), DayPilot.reNonPassive(document, "touchmove", t.gMouseMove)), DayPilot.re(window, "resize", this._a) }, this.db = function () { e() }, this.zc = function () { if (s.todo && s.todo.del) { var e = s.todo.del; e.parentNode.removeChild(e), s.todo.del = null } }, this._e = function () { switch (s.Ca) { case "aspnet": if (!this.Ra()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"); break; case "netmvc": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"); break; case "javaxx": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/") } }, this.E = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible") }, this.show = function () { s.visible = !0, s.nav.top.style.display = "" }, this.hide = function () { s.visible = !1, s.nav.top.style.display = "none" }, this.Fh = function () { if (this.id && this.id.tagName) this.nav.top = this.id; else { if ("string" != typeof this.id) throw "DayPilot.Month() constructor requires the target element or its ID as a parameter"; if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Month: The placeholder element not found: '" + r + "'." } (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) { r.push(s.charCodeAt(i) - 1); } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.Gh = function () { this.Fh(), this.vj(), this.cf(), this.xj(), this.yb(), this.Eg(), this.Gb(), this.Ma("Init"), t.register(this) }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fh(), this.nav.top.dp) { if (this.nav.top.dp === s) return s; if (this.Ra()) return s; throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.") } this._e(); var e = c.loadFromServer(); return s.cssOnly || (s.cssOnly = !0), e ? (this.Gh(), this.Aa = !0, this) : (this.vj(), this.qb(), this.cf(), this.xj(), this.E(), this.Cb(), this.yb(), this.Eg(), this.messageHTML && window.setTimeout(function () { s.message(s.messageHTML) }, 0), this.lb(null, !1), s.initEventEnabled && setTimeout(function () { s.Ma("Init") }), this.Gb(), t.register(this), this.Aa = !0, this.Ih(), this) }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? s.events.list = e.list : s.events.list = e) } } }; this.Jh = t; for (var n in e) if (t[n]) { var i = t[n]; i.data = e[n], i.preInit && i.preInit() } else s[n] = e[n] } }, this.Ih = function () { var e = this.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } }, this.Z = {}, this.Z.Ke = null, this.Z._ = function (e, t, n) { var i = s.Z.Ke; if ("function" == typeof i.createVNode && "function" == typeof i.render) { var a = i.createVNode(e, n); i.render(a, t) } }, this.Z.Me = function (e, t) { var n = s.Z.Ke; if ("function" == typeof n.render) { var i = e; DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t) } }, this.Z.ma = function (e) { var t = s.Z.Ke; "function" == typeof t.render && t.render(null, e) }, this.internal = {}, this.internal.initialized = function () { return s.Aa }, this.internal.invokeEvent = this.hc, this.internal.eventMenuClick = this.Dc, this.internal.timeRangeMenuClick = this.Ec, this.internal.bubbleCallBack = this.Bc, this.internal.findEventDiv = this.kh, this.internal.adjustEndIn = this.Aj, this.internal.xssTextHtml = s.Ha, this.internal.touch = s.Ve, this.internal.enableReact = function (e, t) { s.X.react = e, s.X.reactDOM = t }, this.internal.reactRefs = function () { return DayPilot.Util.copyProps(s.X, {}, ["react", "reactDOM"]) }, this.internal.loadOptions = s.ph, this.internal.enableVue = function (e) { s.Z.Ke = e }, this.internal.vueRef = function () { return s.Z.Ke }, this.internal.vueRendering = function () { return s.Z.Le }, this.Init = this.init, Object.defineProperty(this, "durationBarVisible", { get: function () { return s.eventBarVisible } }), this.ph(o)
        }, DayPilot.Month.makeDraggable = function (e) { function n() { var n = e.duration || 60; n instanceof DayPilot.Duration && (n = n.totalSeconds()); var i = t.drag = {}; i.element = a, i.id = e.id, i.duration = n, i.text = e.text || "", i.data = e, i.shadowType = "Fill" } var i = e.element, a = e.keepElement ? null : i; e.duration || 1; navigator.msPointerEnabled && (i.style.msTouchAction = "none", i.style.touchAction = "none"); var r = function (e) { n(); var t = e.target || e.srcElement; if (t.tagName) { var i = t.tagName.toLowerCase(); if ("textarea" === i || "select" === i || "input" === i) return !1 } return e.preventDefault && e.preventDefault(), !1 }, o = function (e) { if (!DayPilot.Util.isMouseEvent(e)) { window.setTimeout(function () { n(), t.gMouseMove(e), e.preventDefault() }, 0), e.preventDefault() } }; DayPilot.us(i), DayPilot.re(i, "mousedown", r), DayPilot.re(i, DayPilot.touch.start, o), i.cancelDraggable = function () { DayPilot.ue(i, "mousedown", r), DayPilot.ue(i, DayPilot.touch.start, o), delete i.cancelDraggable } }, t.createGShadow = function () { var e = document.createElement("div"); return e.setAttribute("unselectable", "on"), e.style.position = "absolute", e.style.width = "100px", e.style.height = "20px", e.style.border = "2px dotted #666666", e.style.zIndex = 101, e.style.pointerEvents = "none", e.style.backgroundColor = "#aaaaaa", e.style.opacity = .5, e.style.filter = "alpha(opacity=50)", e.style.border = "2px solid #aaaaaa", document.body.appendChild(e), e }, t.gMouseMove = function (e) { if ("undefined" != typeof t && !(e.insideMainD || e.srcElement && e.srcElement.inside)) { var n = DayPilot.mc(e); if (t.drag) { document.body.style.cursor = "move", t.gShadow || (t.gShadow = t.createGShadow()); var i = t.gShadow; i.style.left = n.x + "px", i.style.top = n.y + "px", t.movingEvent = null, DayPilot.de(t.movingShadow), t.movingShadow = null } for (var a = 0; a < t.registered.length; a++)t.registered[a].db && t.registered[a].db() } }, t.register = function (e) { t.registered || (t.registered = []); for (var n = 0; n < t.registered.length; n++)if (t.registered[n] === e) return; t.registered.push(e) }, t.unregister = function (e) { var n = t.registered; if (n) { var i = DayPilot.indexOf(n, e); i !== -1 && n.splice(i, 1), 0 === n.length && (n = null) } n || (DayPilot.ue(document, "mouseup", t.gMouseUp), t.globalHandlers = !1) }, t.gMouseUp = function (e) { function n() { t.drag && (t.drag = null, document.body.style.cursor = ""), t.gShadow && (document.body.removeChild(t.gShadow), t.gShadow = null) } if (n(), t.movingEvent) { var i = t.movingEvent; if (t.movingEvent = null, !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start)) return; var a = i.event.calendar, r = i.event, o = a.shadow.start, s = a.shadow.position, l = i.offset, d = i.external, c = i.removeElement; c && (a.todo || (a.todo = {}), a.todo.del = c); var u = a.shadow.disabled; a.Ij(); var e = e || window.event; return u || a.wc(r, o.x, o.y, l, e, s, d), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation(), !1 } if (t.resizingEvent) { var i = t.resizingEvent; if (t.resizingEvent = null, !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start)) return; var a = i.event.calendar, r = i.event, o = a.shadow.start, h = a.shadow.width, u = a.shadow.disabled; return a.Ij(), u || a.nc(r, o, h), e.cancelBubble = !0, !1 } if (t.timeRangeSelecting) { if (t.timeRangeSelecting.moved) { var f = t.timeRangeSelecting, a = f.root, o = new DayPilot.Date(a.Jj(f.from.x, f.from.y)), v = o.addDays(f.width); a.shadow.disabled ? a.clearSelection() : a.Fc(o, v) } else { var f = t.timeRangeSelecting, a = f.root, p = a.cells[f.from.x][f.from.y]; a.Wj.apply(p) } t.timeRangeSelecting = null } }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotMonth = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) { var n = new DayPilot.Month(this.id, e); n.init(), this.daypilot = n, t || (t = n) } }); return 1 === this.length ? t : n } }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotMonth", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Month(n[0]); a.lh.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e) a[n] = e[n]; a.update() }, !0), d.call(t, u, function (e) { a.events.list = e, a.Jd({ "eventsOnly": !0 }) }, !0) } } } }]) }(), DayPilot.Month.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
        var e = DayPilot.Util.isReactComponent, t = DayPilot.Util.isVueComponent, n = DayPilot.Util.isVueVNode; DayPilot.Navigator = function (i, a) {
            this.v = "2024.4.6294"; var r = this; this.id = i, this.api = 2, this.isNavigator = !0, this.autoFocusOnClick = !0, this.weekStarts = "Auto", this.selectMode = "Day", this.titleHeight = 30, this.dayHeaderHeight = 30, this.bound = null, this.cellWidth = 30, this.cellHeight = 30, this.cssClassPrefix = "navigator_default", this.freeHandSelectionEnabled = !1, this.selectionStart = (new DayPilot.Date).getDatePart(), this.selectionEnd = null, this.selectionDay = null, this.showMonths = 1, this.skipMonths = 1, this.command = "navigate", this.year = (new DayPilot.Date).getYear(), this.month = (new DayPilot.Date).getMonth() + 1, this.showWeekNumbers = !1, this.weekNumberAlgorithm = "Auto", this.rowsPerMonth = "Six", this.orientation = "Vertical", this.locale = "en-us", this.rtl = !1, this.visible = !0, this.timeRangeSelectedHandling = "Bind", this.visibleRangeChangedHandling = "Enabled", this.onVisibleRangeChange = null, this.onVisibleRangeChanged = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.nav = {}, this.wa = {}, this._j = function () { this.root.dp = this, this.root.className = this.da("_main"), "Horizontal" === this.orientation ? (l.ak() || (this.root.style.width = this.showMonths * (7 * l.cellWidth() + this.bk()) + "px"), this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + "px") : l.ak() || (this.root.style.width = 7 * l.cellWidth() + this.bk() + "px"), this.rtl && (this.root.style.direction = "rtl"), this.root.style.position = "relative", this.visible || (this.root.style.display = "none"); var e = document.createElement("input"); e.type = "hidden", e.name = r.id + "_state", e.id = e.name, this.root.appendChild(e), this.state = e, this.startDate ? this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth() : this.selectionDay ? this.startDate = new DayPilot.Date(this.selectionDay).firstDayOfMonth() : this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month), this.calendars = [], this.selected = [], this.months = [] }, this.Hb = function () { return 2 === r.api }, this.wj = function () { this.root.innerHTML = "" }, this.da = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : "" }, this.ck = function (e, t) { var n = this.da("_" + t); DayPilot.Util.addClass(e, n) }, this.dk = function (e, t) { var n = this.da("_" + t); DayPilot.Util.removeClass(e, n) }, this.ek = function () { if (!l.ak()) return null; var e = 7; return this.showWeekNumbers && e++, 100 / e }, this.fk = function () { return l.ak() ? null : l.cellWidth() }, this.gk = function (e) { return "number" != typeof e && (e = 1), l.ak() ? this.ek() * e : this.fk() * e }, this.hk = function (e) { var t = l.ak() ? "%" : "px"; return this.gk(e) + t }, this.xj = function (i, a) {
                var o = {}; o.cells = [], o.days = [], o.weeks = []; var s = this.startDate.addMonths(i), d = a.before, c = a.after, u = s.firstDayOfMonth(), h = u.firstDayOfWeek(l.weekStarts()), f = u.addMonths(1), v = DayPilot.DateUtil.daysDiff(h, f), p = "Auto" === this.rowsPerMonth ? Math.ceil(v / 7) : 6; o.rowCount = p; var m = (new DayPilot.Date).getDatePart(), g = 7 * l.cellWidth() + this.bk(); o.width = g; var y = this.cellHeight * p + this.titleHeight + this.dayHeaderHeight; o.height = y; var b = document.createElement("div"); if (l.ak() ? "Horizontal" === this.orientation && (b.style.width = 100 / r.showMonths + "%") : b.style.width = g + "px", b.style.height = y + "px", "Horizontal" === this.orientation) b.style.position = "absolute", l.ak() ? (b.style.left = 100 / r.showMonths * i + "%", o.leftPct = 100 / r.showMonths * i) : b.style.left = g * i + "px", b.style.top = "0px", o.top = 0, o.left = g * i; else { b.style.position = "relative"; var w = i > 0 ? r.months[i - 1].top + r.months[i - 1].height : 0; o.top = w, o.left = 0, o.leftPct = 0 } b.className = this.da("_month"), b.style.cursor = "default", b.style.MozUserSelect = "none", b.style.KhtmlUserSelect = "none", b.style.WebkitUserSelect = "none", b.month = o, o.div = b, this.root.appendChild(b); var x = this.titleHeight + this.dayHeaderHeight, k = document.createElement("div"); k.style.position = "absolute", k.style.left = "0px", k.style.right = "0px", k.style.top = "0px", k.style.width = r.hk(), k.style.height = this.titleHeight + "px", k.style.lineHeight = this.titleHeight + "px", k.setAttribute("unselectable", "on"), k.className = this.da("_titleleft"), a.left && (k.style.cursor = "pointer", k.innerHTML = "<span>&lt;</span>", k.onclick = this.ik), b.appendChild(k), this.tl = k;
                var C = document.createElement("div"); C.style.position = "absolute", C.style.left = r.hk(), C.style.top = "0px", C.style.width = r.hk(r.showWeekNumbers ? 6 : 5), C.style.height = this.titleHeight + "px", C.style.lineHeight = this.titleHeight + "px", C.setAttribute("unselectable", "on"), C.className = this.da("_title"), C.innerHTML = l.locale().monthNames[s.getMonth()] + " " + s.getYear(), b.appendChild(C), this.ti = C; var _ = document.createElement("div"); _.style.position = "absolute", _.style.left = r.hk(r.showWeekNumbers ? 7 : 6), _.style.right = r.hk(r.showWeekNumbers ? 7 : 6), _.style.top = "0px", _.style.width = r.hk(), _.style.height = this.titleHeight + "px", _.style.lineHeight = this.titleHeight + "px", _.setAttribute("unselectable", "on"), _.className = this.da("_titleright"), a.right && (_.style.cursor = "pointer", _.innerHTML = "<span>&gt;</span>", _.onclick = this.jk), b.appendChild(_), this.tr = _; var E = (this.bk(), r.showWeekNumbers ? 1 : 0); if (this.showWeekNumbers) for (var S = 0; S < p; S++) { var T = h.addDays(7 * S), D = null; switch (this.weekNumberAlgorithm) { case "Auto": D = 1 === l.weekStarts() ? T.weekNumberISO() : T.weekNumber(); break; case "US": D = T.weekNumber(); break; case "ISO8601": D = T.weekNumberISO(); break; default: throw "Unknown weekNumberAlgorithm value." }var A = document.createElement("div"); A.style.position = "absolute", A.style.left = "0px", A.style.right = "0px", A.style.top = S * this.cellHeight + x + "px", A.style.width = r.hk(), A.style.height = this.cellHeight + "px", A.style.lineHeight = this.cellHeight + "px", A.setAttribute("unselectable", "on"), A.className = this.da("_weeknumber"), A.innerHTML = "<span>" + D + "</span>", b.appendChild(A), o.weeks.push(A) } for (var H = 0; H < 7; H++) { o.cells[H] = []; var A = document.createElement("div"); A.style.position = "absolute", A.style.left = r.hk(H + E), A.style.right = r.hk(H + E), A.style.top = this.titleHeight + "px", A.style.width = r.hk(), A.style.height = this.dayHeaderHeight + "px", A.style.lineHeight = this.dayHeaderHeight + "px", A.setAttribute("unselectable", "on"), A.className = this.da("_dayheader"), A.innerHTML = "<span>" + this.kk(H) + "</span>", b.appendChild(A), o.days.push(A); for (var S = 0; S < p; S++) { var T = h.addDays(7 * S + H), M = this.lk(T) && "none" !== this.mk(), R = T.firstDayOfMonth() === s, B = T < s, N = T >= s.addMonths(1); if ("month" === this.mk()) M = M && R; else if ("day" === this.mk()) M = M && (R || d && B || c && N); else if ("week" === this.mk()) { var P = T.firstDayOfMonth() === s; M = M && (P || d && B || c && N) } var L = document.createElement("div"); o.cells[H][S] = L; var I = r.nk(H, S), z = I.x, U = I.y, O = l.ak() ? "%" : "px"; L.day = T, L.x = H, L.y = S, L.left = z, L.top = U, L.isCurrentMonth = R, L.isNextMonth = N, L.isPrevMonth = B, L.showBefore = d, L.showAfter = c, L.className = this.da(R ? "_day" : "_dayother"), r.ck(L, "cell"), T.getTime() === m.getTime() && R && this.ck(L, "today"), 0 !== T.dayOfWeek() && 6 !== T.dayOfWeek() || this.ck(L, "weekend"), L.style.position = "absolute", L.style.left = z + O, L.style.right = z + O, L.style.top = U + "px", L.style.width = r.hk(), L.style.height = this.cellHeight + "px", L.style.lineHeight = this.cellHeight + "px"; var j = document.createElement("div"); j.style.position = "absolute", j.className = T.getTime() === m.getTime() && R ? this.da("_todaybox") : this.da("_daybox"), r.ck(j, "cell_box"), j.style.left = "0px", j.style.top = "0px", j.style.right = "0px", j.style.bottom = "0px", L.appendChild(j); var W = null; this.cells && this.cells[T.toStringSortable()] && (W = this.cells[T.toStringSortable()]); var q = W || {}; if (q.day = T, q.isCurrentMonth = R, q.isToday = T.getTime() === m.getTime() && R, q.isWeekend = 0 === T.dayOfWeek() || 6 === T.dayOfWeek(), W ? (q.html = W.html || T.getDay(), q.cssClass = W.css) : (q.html = T.getDay(), q.cssClass = null), "function" == typeof r.onBeforeCellRender) { var F = {}; F.cell = q, r.onBeforeCellRender(F), W = F.cell } if (W && DayPilot.Util.addClass(L, W.cssClass || W.css), R || d && B || c && N) { var X = document.createElement("div"); X.innerHTML = T.getDay(), X.style.position = "absolute", X.style.left = "0px", X.style.top = "0px", X.style.right = "0px", X.style.bottom = "0px", r.ck(X, "cell_text"), L.isClickable = !0, W && W.html && (X.innerHTML = W.html), L.appendChild(X) } L.setAttribute("unselectable", "on"), L.onclick = this.ok, function () { if ("function" == typeof r.onBeforeCellDomAdd || "function" == typeof r.onBeforeCellDomRemove) { var i = {}; if (i.control = r, i.cell = q, i.element = null, L.domArgs = i, "function" == typeof r.onBeforeCellDomAdd && r.onBeforeCellDomAdd(i), i.element) { var a = j; if (a) { i.Ie = a; var o = e(i.element), s = t(i.element), l = n(i.element); if (o) { if (!r.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); r.X.W(i.element, a) } else if (s) { if (!r.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); r.Z.Le = !0, r.Z._(i.element, a, i.props), r.Z.Le = !1 } else if (l) { if (!r.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); r.Z.Le = !0, r.Z.Me(i.element, a), r.Z.Le = !1 } else a.appendChild(i.element) } } } }(), b.appendChild(L), M && (r.pk(b, H, S), this.selected.push(L)) } } var V = document.createElement("div"); V.style.position = "absolute", V.style.left = "0px", V.style.top = x - 2 + "px", V.style.width = r.hk(7 + E), V.style.height = "1px", V.style.fontSize = "1px", V.style.lineHeight = "1px", V.className = this.da("_line"), b.appendChild(V), this.months.push(o)
            }, this.nk = function (e, t) { var n = this.titleHeight + this.dayHeaderHeight, i = (this.bk(), this.showWeekNumbers ? 1 : 0); return { "x": r.gk(e + i), "y": t * this.cellHeight + n } }, this.pk = function (e, t, n) { var i = e.month.cells[t][n]; r.ck(i, "select") }, this.qk = function (e, t, n) { var i = e.month.cells[t][n]; r.dk(i, "select") }, this.bk = function () { return this.showWeekNumbers ? l.cellWidth() : 0 }, this.rk = function () { if (this.items) for (var e = 0; e < this.showMonths; e++)for (var t = 0; t < 7; t++)for (var n = 0; n < 6; n++) { var i = this.months[e].cells[t][n]; i && (1 === this.items[i.day.toStringSortable()] ? (this.ck(i, "busy"), this.dk(i, "free")) : (this.dk(i, "busy"), this.ck(i, "free"))) } }, this.sk = function () { var e = {}; e.startDate = r.startDate, e.selectionStart = r.selectionStart, e.selectionEnd = r.selectionEnd.addDays(1), r.state.value = JSON.stringify(e) }, this.mk = function () { return (this.selectMode || "").toLowerCase() }, this.tk = function () { var e = this.selectionDay || this.selectionStart; switch (e || (e = DayPilot.Date.today()), e = new DayPilot.Date(e), this.mk()) { case "day": this.selectionStart = e, this.selectionDay = e, this.selectionEnd = e; break; case "week": this.selectionDay = e, this.selectionStart = e.firstDayOfWeek(l.weekStarts()), this.selectionEnd = this.selectionStart.addDays(6); break; case "month": this.selectionDay = e, this.selectionStart = e.firstDayOfMonth(), this.selectionEnd = this.selectionStart.lastDayOfMonth(); break; case "none": this.selectionEnd = e; break; default: throw "Unknown selectMode value." } }, this.uk = null, this.select = function (e, t, n) { var i = t && (t instanceof DayPilot.Date || "string" == typeof t), a = t && "object" == typeof t || "boolean" == typeof t, o = e, s = i ? t : null, l = a ? t : n; if (!this.Aa) return void (this.uk = { "date1": o, "date2": s, "options": l }); var d = !0, c = !0; l && "object" == typeof l ? (l.dontFocus && (d = !1), l.dontNotify && (c = !1)) : "boolean" == typeof l && (d = !l); var u = this.selectionStart, h = this.selectionEnd; this.selectionStart = new DayPilot.Date(o).getDatePart(), this.selectionDay = this.selectionStart; var f = !1; if (d) { var v = this.startDate; (this.selectionStart < this.vk() || this.selectionStart >= this.wk()) && (v = this.selectionStart.firstDayOfMonth()), v.toStringSortable() !== this.startDate.toStringSortable() && (f = !0), this.startDate = v } s && r.freeHandSelectionEnabled ? r.selectionEnd = new DayPilot.Date(s) : this.tk(), this.wj(), this._j(), this.xk(), this.rk(), this.sk(), !c || u.equals(this.selectionStart) && h.equals(this.selectionEnd) || this.Fc(), f && this.yk() }, this.update = function (e) { if (r.ph(e), this.Aa) { if (r.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed."); r.mh(); var t = { "day": r.selectionDay, "start": r.selectionStart, "end": r.selectionEnd }; r.Jd(), t.start === r.selectionStart && t.end === r.selectionEnd && t.day === r.selectionDay || r.Fc() } }, this.Jd = function () { this.wj(), this._j(), this.tk(), this.xk(), this.qb(), this.rk(), this.sk(), this.visible ? this.show() : this.hide() }, this.mh = function () { r.wa = {} }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "events": { "preInit": function () { var e = this.data; e && (DayPilot.isArray(e.list) ? r.events.list = e.list : r.events.list = e) } } }; this.Jh = t; for (var n in e) if (t[n]) { var i = t[n]; i.data = e[n], i.preInit && i.preInit() } else r[n] = e[n] } }, this.Ih = function () { var e = this.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } }, this.Ma = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.La(); var a = "JSON" + JSON.stringify(i); this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, a, this.Pa) : WebForm_DoCallback(this.uniqueID, a, this.Qa, null, this.callbackError, !0) }, this.Pa = function (e) { if ("function" == typeof r.onAjaxError) { var t = {}; t.request = e, r.onAjaxError(t) } else "function" == typeof r.ajaxError && r.ajaxError(e) }, this.Oa = function (e) { r.Qa(e.responseText) }, this.Ka = function (e, t, n) { var i = {}; i.action = e, i.parameters = n, i.data = t, i.header = this.La(); var a = "JSON" + JSON.stringify(i); __doPostBack(r.uniqueID, a) }, this.La = function () { var e = {}; return e.v = this.v, e.startDate = this.startDate, e.selectionStart = this.selectionStart, e.showMonths = this.showMonths, e }, this.zk = function (e, t) { "refresh" === e && this.yk() }, this.kk = function (e) { var t = e + l.weekStarts(); return t > 6 && (t -= 7), l.locale().dayNamesShort[t] }, this.lk = function (e) { return null !== this.selectionStart && null !== this.selectionEnd && (this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime()) }, this.Ak = function (e) { for (var t = 0; t < r.months.length; t++) { var n = r.months[t]; if (!n) return null; if (e.x < n.left) return null; if (!(n.left + n.width < e.x)) { r.months[t].height; if (n.top <= e.y && e.y < n.top + n.height) return t } } return null }, this.Bk = function (e) { }, this.Ck = function () { if (!l.ak()) return void (r.Dk = r.cellWidth); var e = r.months[0].cells[0][0], t = e.clientWidth; r.Dk = t, r.months.forEach(function (e) { e.width = e.div.clientWidth, "Horizontal" === r.orientation && (e.left = e.div.offsetLeft), e.cells.forEach(function (e, n) { e.forEach(function (e, i) { e.width = t, e.left = n * t }) }) }) }, this.Ek = function (e) { r.Ck(); var t = DayPilot.mo3(r.nav.top, e), n = r.Ak(t); if (null === n) return null; var i = r.months[n], a = this.titleHeight + this.dayHeaderHeight; if (i.top <= t.y && t.y < i.top + a) return { "month": n, "x": 0, "y": 0, "coords": t, "header": !0 }; for (var o = 0; o < i.cells.length; o++)for (var s = 0; s < i.cells[o].length; s++) { var l = i.cells[o][s], d = l.top + i.top, c = l.left + i.left; if (c <= t.x && t.x < c + r.Dk && d <= t.y && t.y < d + r.cellHeight) return { "month": n, "x": o, "y": s, "coords": t } } return null }, this.Fk = function (e) { if (r.freeHandSelectionEnabled) { var t = r.Ek(e); t && !t.header && (o.start = t), r.months[t.month].cells[t.x][t.y], e.preventDefault() } }, this.Gk = function (e) { if (o.start) { var t = r.Ek(e); if (o.end) o.end = t; else if (t) { var n = 3, i = DayPilot.distance(o.start.coords, t.coords); i > n && (o.end = t) } o.end && (o.clear(), o.draw()) } }, this.Hk = {}; var o = this.Hk; o.start = null, o.drawCell = function (e) { var t = r.months[e.month], n = r.nk(e.x, e.y), i = t.top + n.y, a = t.left + n.x, s = "px", d = r.hk(); if (l.ak()) { var c = "Horizontal" === r.orientation ? r.showMonths : 1; a = t.leftPct + n.x / c, s = "%", d = r.hk(1 / c) } var u = document.createElement("div"); u.style.position = "absolute", u.style.left = a + s, u.style.top = i + "px", u.style.height = r.cellHeight + "px", u.style.width = d, u.style.backgroundColor = "#ccc", u.style.opacity = .5, u.style.cursor = "default", r.nav.preselection.appendChild(u), o.cells.push(u) }, o.clear = function () { if (o.cells) { for (var e = 0; e < o.cells.length; e++)r.nav.preselection.removeChild(o.cells[e]); o.cells = [] } }, o.draw = function () { var e = o.ordered(), t = new s(e.start), n = e.end; if (n) { if (n === o.end && n.header && n.month > 0) { n.month -= 1; var i = r.months[n.month]; n.x = 6, n.y = i.rowCount - 1 } for (o.cells = []; !t.is(n);) { t.visible() && o.drawCell(t); var a = new s(t).next(); if (!a) return; t.month = a.month, t.x = a.x, t.y = a.y } t.visible() && o.drawCell(t) } }, o.ordered = function () { var e = o.start, t = o.end, n = {}; return !t || new s(e).before(t) ? (n.start = e, n.end = t) : (n.start = t, n.end = e), n }; var s = function (e, t, n) { if (e instanceof s) return e; if ("object" == typeof e) { var i = e; this.month = i.month, this.x = i.x, this.y = i.y } else this.month = e, this.x = t, this.y = n; this.is = function (e) { return this.month === e.month && this.x === e.x && this.y === e.y }, this.next = function () { var e = this; if (e.x < 6) return { "month": e.month, "x": e.x + 1, "y": e.y }; var t = r.months[e.month]; return e.y < t.rowCount - 1 ? { "month": e.month, "x": 0, "y": e.y + 1 } : e.month < r.months.length - 1 ? { "month": e.month + 1, "x": 0, "y": 0 } : null }, this.visible = function () { var e = this.cell(); return !!e.isCurrentMonth || (!(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter)) }, this.nextVisible = function () { for (var e = this; !e.visible();) { var t = e.next(); if (!t) return null; e = new s(t) } return e }, this.previous = function () { var e = this; if (e.x > 0) return { "month": e.month, "x": e.x - 1, "y": e.y }; r.months[e.month]; if (e.y > 0) return { "month": e.month, "x": 6, "y": e.y - 1 }; if (e.month > 0) { var t = r.months[e.month - 1]; return { "month": e.month - 1, "x": 6, "y": t.rowCount - 1 } } return null }, this.previousVisible = function () { for (var e = this; !e.visible();) { var t = e.previous(); if (!t) return null; e = new s(t) } return e }, this.cell = function () { return r.months[this.month].cells[this.x][this.y] }, this.date = function () { return this.cell().day }, this.before = function (e) { return this.date() < new s(e).date() } }; this.ok = function (e) { var t = this.parentNode, n = this.parentNode.month, i = this.x, a = this.y, o = n.cells[i][a].day; if (n.cells[i][a].isClickable) { r.clearSelection(), r.selectionDay = o; var o = r.selectionDay; switch (r.mk()) { case "none": r.selectionStart = o, r.selectionEnd = o; break; case "day": if (r.autoFocusOnClick) { var s = o; if (o < r.vk() || o >= r.wk()) return void r.select(o) } var l = n.cells[i][a]; r.pk(t, i, a), r.selected.push(l), r.selectionStart = l.day, r.selectionEnd = l.day; break; case "week": if (r.autoFocusOnClick) { var s = n.cells[0][a].day, d = n.cells[6][a].day; if (s.firstDayOfMonth() === d.firstDayOfMonth() && (s < r.vk() || d >= r.wk())) return void r.select(o) } for (var c = 0; c < 7; c++)r.pk(t, c, a), r.selected.push(n.cells[c][a]); r.selectionStart = n.cells[0][a].day, r.selectionEnd = n.cells[6][a].day; break; case "month": if (r.autoFocusOnClick) { var s = o; if (o < r.vk() || o >= r.wk()) return void r.select(o) } for (var s = null, d = null, a = 0; a < 6; a++)for (var i = 0; i < 7; i++) { var l = n.cells[i][a]; l && l.day.getYear() === o.getYear() && l.day.getMonth() === o.getMonth() && (r.pk(t, i, a), r.selected.push(l), null === s && (s = l.day), d = l.day) } r.selectionStart = s, r.selectionEnd = d; break; default: throw "unknown selectMode" }r.sk(), r.Fc() } }, this.Fc = function (e) { var t = r.selectionStart, n = r.selectionEnd.addDays(1), i = DayPilot.DateUtil.daysDiff(t, n), a = r.selectionDay; if (e = e || {}, r.Hb()) { var o = {}; if (o.start = t, o.end = n, o.day = a, o.days = i, o.mode = e.mode || r.selectMode, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof r.onTimeRangeSelect && (r.onTimeRangeSelect(o), o.preventDefault.value)) return; switch (r.timeRangeSelectedHandling) { case "Bind": var s = DayPilot.Util.evalVariable(r.bound); if (s) { var l = {}; l.start = t, l.end = n, l.days = i, l.day = a, s.commandCallBack(r.command, l) } break; case "None": break; case "PostBack": r.timeRangeSelectedPostBack(t, n, a) }"function" == typeof r.onTimeRangeSelected && r.onTimeRangeSelected(o) } else switch (r.timeRangeSelectedHandling) { case "Bind": var s = DayPilot.Util.evalVariable(r.bound); if (s) { var l = {}; l.start = t, l.end = n, l.days = i, l.day = a, s.commandCallBack(r.command, l) } break; case "JavaScript": r.onTimeRangeSelected(t, n, a); break; case "None": break; case "PostBack": r.timeRangeSelectedPostBack(t, n, a) } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.day = i, this.Ka("TimeRangeSelected", n, a) }, this.jk = function (e) { r.Ik(r.skipMonths) }, this.ik = function (e) { r.Ik(-r.skipMonths) }, this.Ik = function (e) { this.startDate = this.startDate.addMonths(e), this.wj(), this._j(), this.xk(), this.sk(), this.yk(), this.rk() }, this.vk = function () { return r.startDate.firstDayOfMonth() }, this.wk = function () { return r.startDate.firstDayOfMonth().addMonths(this.showMonths) }, this.visibleStart = function () { return r.startDate.firstDayOfMonth().firstDayOfWeek(l.weekStarts()) }, this.visibleEnd = function () { return r.startDate.firstDayOfMonth().addMonths(this.showMonths - 1).firstDayOfWeek(l.weekStarts()).addDays(42) }, this.yk = function () { var e = this.visibleStart(), t = this.visibleEnd(); if (r.Hb()) { var n = {}; if (n.start = e, n.end = t, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof r.onVisibleRangeChange && (r.onVisibleRangeChange(n), n.preventDefault.value)) return; switch (this.visibleRangeChangedHandling) { case "CallBack": this.visibleRangeChangedCallBack(null); break; case "PostBack": this.visibleRangeChangedPostBack(null); break; case "Disabled": }"function" == typeof r.onVisibleRangeChanged && r.onVisibleRangeChanged(n) } else switch (this.visibleRangeChangedHandling) { case "CallBack": this.visibleRangeChangedCallBack(null); break; case "PostBack": this.visibleRangeChangedPostBack(null); break; case "JavaScript": this.onVisibleRangeChanged(e, t); break; case "Disabled": } }, this.visibleRangeChangedCallBack = function (e) { var t = {}; this.Ma("Visible", e, t) }, this.visibleRangeChangedPostBack = function (e) { var t = {}; this.Ka("Visible", e, t) }, this.Qa = function (e, t) { var e = JSON.parse(e); r.items = e.Items, r.cells = e.Cells, r.cells ? r.update() : r.rk() }, this.xk = function () { for (var e = 0; e < this.showMonths; e++) { var t = this.Jk(e); this.xj(e, t) } this.root.style.height = this.xh() + "px", this.nav.preselection = document.createElement("div"), this.nav.preselection.style.position = "absolute", this.nav.preselection.style.left = "0px", this.nav.preselection.style.right = "0px", this.nav.preselection.style.top = "0px", this.root.appendChild(this.nav.preselection) }, this.xh = function () { if ("Horizontal" === this.orientation) { for (var e = 0, t = 0; t < this.months.length; t++) { var n = this.months[t]; n.height > e && (e = n.height) } return e } for (var i = 0, t = 0; t < this.months.length; t++) { var n = this.months[t]; i += n.height } return i }, this.Jk = function (e) { if (this.internal.showLinks) return this.internal.showLinks; var t = {}; return t.left = 0 === e, t.right = 0 === e, t.before = 0 === e, t.after = e === this.showMonths - 1, "Horizontal" === this.orientation && (t.right = e === this.showMonths - 1), t }, this.lh = {}, this.lh.scope = null, this.lh.notify = function () { r.lh.scope && r.lh.scope["$apply"]() }, this.X = {}, this.X.reactDOM = null, this.X.react = null, this.X.W = function (e, t) { var n = r.X.reactDOM; if ("function" == typeof n.createRoot) { var i = t.na; i || (i = n.createRoot(t), t.na = i), i.render(e) } else n.render(e, t) }, this.X.la = function (e) { var t = r.X.reactDOM; if ("function" == typeof t.createRoot) { var n = e.na; setTimeout(function () { n.unmount() }, 0) } else t.unmountComponentAtNode(e) }, this.Z = {}, this.Z.Ke = null, this.Z._ = function (e, t, n) { var i = r.Z.Ke; if ("function" == typeof i.createVNode && "function" == typeof i.render) { var a = i.createVNode(e, n); i.render(a, t) } }, this.Z.Me = function (e, t) { var n = r.Z.Ke; if ("function" == typeof n.render) { var i = e; DayPilot.isArray(e) && (i = n.h("div", null, e)), n.render(i, t) } }, this.Z.ma = function (e) { var t = r.Z.Ke; "function" == typeof t.render && t.render(null, e) }, this.internal = {}, this.internal.loadOptions = r.ph, this.internal.initialized = function () { return r.Aa }, this.internal.enableVue = function (e) { r.Z.Ke = e }, this.internal.vueRef = function () { return r.Z.Ke }, this.internal.vueRendering = function () { return r.Z.Le }, this.Ja = {}; var l = this.Ja; l.locale = function () { return DayPilot.Locale.find(r.locale) }, l.weekStarts = function () { if ("Auto" === r.weekStarts) { var e = l.locale(); return e ? e.weekStarts : 0 } return r.weekStarts }, l.cellWidth = function () { if (r.wa.cellWidth) return r.wa.cellWidth; var e = r.qh("_cell_dimensions").width; return e || (e = r.cellWidth), r.wa.cellWidth = e, e }, l.ak = function () { return "Auto" === r.Ja.cellWidth() }, this.clearSelection = function () { for (var e = 0; e < this.selected.length; e++) { var t = this.selected[e]; r.qk(t.parentNode, t.x, t.y) } this.selected = [] }, this.Eh = function () { return !!this.backendUrl && ("undefined" == typeof r.items || !r.items) }, this.events = {}, this.qb = function () { if (DayPilot.isArray(this.events.list)) { this.items = {}; for (var e = 0; e < this.events.list.length; e++) { var t = this.events.list[e]; if (!t.hidden) { var n = this.Kk(t); for (var i in n) this.items[i] = 1 } } } }, this.qh = function (e) { var t = document.createElement("div"); t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t.className = this.da(e); var n = r.root || document.body; n.appendChild(t); var i = t.offsetHeight, a = t.offsetWidth; n.removeChild(t); var o = {}; return o.height = i, o.width = a, o }, this.Kk = function (e) { for (var t = new DayPilot.Date(e.start), n = new DayPilot.Date(e.end), i = {}, a = t.getDatePart(); a.getTime() <= n.getTime();)i[a.toStringSortable()] = 1, a = a.addDays(1); return i }, this.show = function () { r.visible = !0, r.root.style.display = "" }, this.hide = function () { r.visible = !1, r.root.style.display = "none" }, this.Fh = function () { if (this.id && this.id.tagName) this.nav.top = this.id; else { if ("string" != typeof this.id) throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter"; if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw "DayPilot.Navigator: The placeholder element not found: '" + i + "'." } this.root = this.nav.top }, this.init = function () { if (this.Fh(), !this.root.dp) { this.tk(), this._j(), this.xk(), this.qb(), this.rk(), this.bb(), this.Lk(), this.Eg(); if (this.Eh() && this.yk(), this.Aa = !0, this.Ih(), this.uk) { var e = this.uk; this.select(e.date1, e.date2, e.options), this.uk = null } return this } }, this.Lk = function () { r.nav.top.onmousedown = this.Fk, r.nav.top.onmousemove = this.Gk }, this.Eg = function () { DayPilot.re(document, "mouseup", r.Hg) }, this.Hg = function (e) { if (o.start && o.end) { var t = DayPilot.mo3(r.nav.top, e); if (t.x === o.start.coords.x && t.y === o.start.coords.y) return o.start = null, void o.clear(); o.clear(); var n = o.ordered(); n.start = new s(n.start).nextVisible(), n.end = new s(n.end).previousVisible(), r.selectionDay = new s(n.start).date(), r.selectionStart = r.selectionDay, r.selectionEnd = new s(n.end).date(), o.start = null, o.end = null, r.wj(), r._j(), r.xk(), r.rk(), r.sk(); r.Fc({ "mode": "FreeHand" }) } o.start = null, o.end = null }, this.dispose = function () { var e = r; e.root && (e.root.removeAttribute("style"), e.root.removeAttribute("class"), e.root.dp = null, e.root.innerHTML = null, e.root = null, e.Ba = !0) }, this.bb = function () { this.root.dispose = this.dispose }, this.Init = this.init, this.ph(a)
        }, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotNavigator = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) { var n = new DayPilot.Navigator(this.id); this.daypilot = n; for (var i in e) n[i] = e[i]; n.Init(), t || (t = n) } }); return 1 === this.length ? t : n } }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotNavigator", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t.replaceWith(this["template"].replace("{{id}}", n["id"])), function (t, n, i) { var a = new DayPilot.Navigator(n[0]); a.lh.scope = t, a.init(); var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); t["$apply"](function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; d.call(t, c, function (e, t) { for (var n in e) a[n] = e[n]; a.update() }, !0), d.call(t, u, function (e) { a.events.list = e, a.qb(), a.rk() }, !0) } } } }]) }(), DayPilot.Navigator.def = {}, "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    "undefined" != typeof DayPilot.Queue && DayPilot.Queue.def || (DayPilot.Queue = function (e, t) {
        this.v = "2024.4.6294"; var n = this; this.id = e, "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.contextMenu = null, this.eventBarVisible = !0, this.eventBorderRadius = null, this.eventHeight = 35, this.eventTextWrappingEnabled = !1, this.lineSpace = 5, this.theme = null, this.emptyText = "", this.emptyHtml = null, this.eventClickHandling = "Enabled", this.eventHoverHandling = "Bubble", this.eventRightClickHanding = "ContextMenu", this.eventSelectHandling = "Update", this.onBeforeEventRender = null, this.onEventClick = null, this.onEventClicked = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventMove = null, this.onEventMoving = null, this.onEventSelect = null, this.onEventSelected = null, this.Aa = !1, this.Mk = "queue_default", this.Nk = [], this.Ok = !1, this.Pk = !1, this.nav = {}, this.events = {}, this.events.list = [], this.elements = {}, this.elements.events = []; var i = function () { return document.createElement("div") }; this.Fh = function () { if (this.id && this.id.tagName) this.nav.top = this.id; else { if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Queue() constructor requires the target element or its ID as a parameter"); if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw new DayPilot.Exception("DayPilot.Queue: The placeholder element not found: '" + e + "'.") } }, this.da = function (e) { var t = this.theme || this.Mk; return t ? t + e : "" }, this.Jd = function () { n.nav.container.innerHTML = "", n.Qk = null, n.pj(), n.qb(), n.Cb(), n.Rk() }, this.pj = function () { var e = n.nav.top; e.className = n.Sk, DayPilot.Util.addClass(e, n.da("_main")) }, this.qb = function () { var e = {}, t = n.events.list || []; n.Nk = []; for (var i = 0; i < t.length; i++) { var a = t[i]; if (!("string" == typeof a.id || "number" == typeof a.id)) throw new DayPilot.Exception("All events must have an id property (string or number)"); var r = typeof a.id + "_" + a.id; if (e[r]) throw new DayPilot.Exception("Duplicate IDs not allowed: '" + r + "'"); e[r] = !0; var o = DayPilot.Util.copyProps(a); n.Kg(o); var s = {}; s.data = a, s.cache = o, n.Nk.push(s) } }, this.Ea = {}, this.Ea.Kc = [], this.Ea.Nk = []; var a = n.Ea; this.Ea.M = function (e) { var t = e.event; a.Tk(), a.Uk(e), a.Kc[0] = t }, this.Ea.Uk = function (e) { a.Nk[0] = e; var t = n.da("_selected"); DayPilot.Util.addClass(e, t) }, this.Ea.Vk = function (e) { a.Nk = []; var t = n.da("_selected"); DayPilot.Util.removeClass(e, t) }, this.Ea.yd = function (e) { return n.Ea.Nk.find(function (t) { return t.event.data.id === e }) }, this.Ea.Tk = function () { var e = a.Nk[0]; e && a.Vk(e), a.Kc = [] }, this.Kg = function (e) { var t = {}; t.data = e, "function" == typeof n.onBeforeEventRender && n.onBeforeEventRender(t) }, this.Rk = function () { if (0 === n.events.list.length) { var e = n.nav.container, t = i(); n.emptyHtml ? t.innerHTML = n.emptyHtml : t.innerText = n.emptyText, e.appendChild(t) } }, this.Cb = function () { var e = n.Nk; n.elements.events = [], e.forEach(function (e) { n.Re(e) }) }, this.Re = function (e) { var t = e.cache, a = e.data, r = t.borderRadius || n.eventBorderRadius; "number" == typeof r && (r += "px"); var o = n.nav.container, s = i(); s.className = n.da("_event"), s.style.height = n.eventHeight + "px", s.style.boxSizing = "border-box", s.style.overflow = "hidden", s.style.marginTop = n.lineSpace + "px", s.style.position = "relative", n.eventTextWrappingEnabled || (s.style.whiteSpace = "nowrap"), s.addEventListener("click", n.Kj), s.addEventListener("contextmenu", n.Wk), n.Ea.yd(a.id) && n.Ea.Uk(s); var l = i(); if (l.className = n.da("_event_inner"), "string" == typeof t.html ? l.innerHTML = t.html : l.innerText = t.text, r && (s.style.borderRadius = r, l.style.borderRadius = r), t.cssClass && DayPilot.Util.addClass(s, t.cssClass), t.backColor && (l.style.background = t.backColor), t.fontColor && (l.style.color = t.fontColor), "darker" === t.borderColor && t.backColor ? l.style.borderColor = DayPilot.ColorUtil.darker(t.backColor, 2) : l.style.borderColor = t.borderColor, t.backImage && (l.style.backgroundImage = "url(" + t.backImage + ")", t.backRepeat && (l.style.backgroundRepeat = t.backRepeat)), s.appendChild(l), s.onmousemove = this.Se, s.onmouseleave = this.Xk, n.eventBarVisible && !t.barHidden) { var d = i(); d.className = n.da("_event_bar"), d.style.position = "absolute", t.barColor && (d.style.backgroundColor = t.barColor), s.appendChild(d) } var c = { "eventDiv": s, "areas": t.areas, "allowed": function () { return !(n.Ok || n.Pk) } }, u = new DayPilot.Event(a, n); u.cache = t, s.event = u, DayPilot.Areas.attach(s, u, c), n.Yk(s, a), o.appendChild(s), n.elements.events.push(s) }, this.Se = function (e) { "undefined" != typeof DayPilot.Bubble && n.bubble && "Bubble" === n.eventHoverHandling && n.bubble.showEvent(this.event) }, this.Xk = function (e) { n.bubble && n.bubble.hideOnMouseOut() }, this.Wk = function (e) { if (e.preventDefault(), "Disabled" !== n.eventRightClickHandling) { var t = this, i = t.event, a = {}; if (a.e = t.event, a.preventDefault = function () { a.preventDefault.value = !0 }, "function" == typeof n.onEventRightClick && n.onEventRightClick(a), !a.preventDefault.value) { switch (n.eventRightClickHanding) { case "Enabled": break; case "ContextMenu": var r = i.client.contextMenu(); r ? r.show(i) : n.contextMenu && n.contextMenu.show(i) }"function" == typeof n.onEventRightClicked && n.onEventRightClicked(a) } } }, this.Kj = function (e) { if (e.preventDefault(), e.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" !== n.eventClickHandling) { var t = this, i = t.event, a = {}; if (a.e = i, a.preventDefault = function () { a.preventDefault.value = !0 }, "function" == typeof n.onEventClick && n.onEventClick(a), !a.preventDefault.value) { switch (n.eventClickHandling) { case "Select": n.Jc(t, i, e); break; case "Enabled": }"function" == typeof n.onEventClicked && n.onEventClicked(a) } } }, this.Jc = function (e, t, i) { var a = {}; if (a.e = t, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" != typeof n.onEventSelect || (n.onEventSelect(a), !a.preventDefault.value)) { switch (n.eventSelectHandling) { case "Update": n.Ea.M(e) }"function" == typeof n.onEventSelected && n.onEventSelected(a) } }, this.Zk = function (e, t) { var i = n.$k, a = {}; a.e = new DayPilot.Event(e, n), a.position = i, a.source = t, a.external = !0, a.control = n, a.preventDefault = function () { a.preventDefault.value = !0 }, n._k(a), a.preventDefault.value || (n.events.list.splice(i, 0, e), n.Jd(), n.al(a)) }, this.bl = function (e) { var t = n.$k, i = n.events.list.indexOf(e), a = !1; n.Ok && i < t && (t -= 1, a = !0); var r = {}; r.e = new DayPilot.Event(e, n), r.position = t + (a ? 1 : 0), r.source = n, r.external = !1, r.preventDefault = function () { r.preventDefault.value = !0 }, n._k(r), r.preventDefault.value || (n.cl(n.events.list, i, t), n.Jd(), n.al(r)) }, this._k = function (e) { "function" == typeof n.onEventMove && n.onEventMove(e) }, this.al = function (e) { "function" == typeof n.onEventMoved && n.onEventMoved(e) }, this.cl = function (e, t, n) { var i = e[t]; e.splice(t, 1), e.splice(n, 0, i) }, this.dl = function () { DayPilot.Scheduler.registerDropTarget({ element: n.nav.top, onDrop: function (e) { n.Pk = !1; var t = e.e, i = t.data, a = e.e.calendar; n.Zk(i, a) }, onDragOver: function (e) { n.Pk = !0 }, onDragLeave: function (e) { n.Pk = !1 } }) }, this.Qk = null, this.fl = function (e) { n.$k = e; var t = n.Qk || i(), a = n.nav.container, r = n.eventHeight + n.lineSpace, o = e * r; o -= n.lineSpace / 2 + 1, t.style.top = o + "px", n.Qk || (t.className = n.da("_shadow"), t.style.position = "absolute", t.style.left = "0px", t.style.right = "0px", t.style.height = "2px", n.Qk = t, a.appendChild(t)) }, this.gl = function () { n.$k = null, DayPilot.de(n.Qk), n.Qk = null }, this.zi = null, this.$k = null, this.hl = function (e) { var t = n.nav.container, i = DayPilot.mo3(t, e); if (n.zi = i, n.Ok || n.Pk) { var a = n.eventHeight + n.lineSpace, r = Math.floor((i.y + n.eventHeight / 2) / a); r < 0 && (r = 0), r > n.Nk.length && (r = n.Nk.length), n.fl(r) } }, this.il = function (e) { n.gl() }, this.jl = function (e) { if (n.Ok) { var t = n.kl; n.bl(t), n.kl = null } }, this.ll = function () { var e = i(); n.nav.container = e; var t = n.nav.top; n.Sk = t.className || "", e.style.position = "relative", t.onmousemove = n.hl, t.onmouseleave = n.il, t.onmouseup = n.jl, t.appendChild(e) }, this.Yk = function (e, t) { var i = e, a = { element: i, data: t, keepElement: !0, externalCssClass: "", externalHtml: "", onDragStart: function (e) { n.Ok = !0, n.kl = t, i.style.opacity = "0.5" }, onDrop: function (e) { n.Ok = !1, i.style.opacity = ""; !!n.kl } }; DayPilot.Scheduler.makeDraggable(a) }, this.ph = function (e) { if (e) { var t = { "events": { "preInit": function () { var e = this.data; e && (n.events.list = e) } } }; for (var i in e) if (t[i]) { var a = t[i]; a.data = e[i], a.preInit && a.preInit() } else n[i] = e[i] } }, this.X = {}, this.X.reactDOM = null, this.X.react = null, this.X.W = function (e, t) { var i = n.X.reactDOM; if ("function" == typeof i.createRoot) { var a = t.na; a || (a = i.createRoot(t), t.na = a), a.render(e) } else i.render(e, t) }, this.X.la = function (e) { var t = n.X.reactDOM; if ("function" == typeof t.createRoot) { var i = e.na; setTimeout(function () { i.unmount() }, 0) } else t.unmountComponentAtNode(e) }, this.kh = function (e) { if (!e) return null; for (var t = 0; t < n.elements.events.length; t++) { var i = n.elements.events[t]; if (DayPilot.Util.isSameEvent(i.event, e)) return i } return null }, this.multiselect = {}, this.multiselect.add = function (e) { "number" != typeof e && "string" != typeof e || (e = n.events.find(e)), e instanceof DayPilot.Event && (e = e.data); var t = n.kh(e); t && n.Ea.M(t) }, this.multiselect.clear = function () { n.Ea.Tk() }, this.multiselect.get = function () { var e = [], t = a.Kc[0]; if (t) { var n = t.event; e.push(n) } return e }, this.events.add = function (e) { e instanceof DayPilot.Event && (e = e.data), n.events.list.push(e), n.Jd() }, this.events.remove = function (e) { if (e) { "number" != typeof e && "string" != typeof e || (e = n.events.find(e)), e instanceof DayPilot.Event && (e = e.data); var t = n.ml(e); t && n.events.list.splice(t.index, 1), n.Ea.yd(e.id) && n.multiselect.clear(), n.Jd() } }, this.events.update = function (e) {
            if (e instanceof DayPilot.Event && (e = e.data), n.events.find(e.id)) {
                var t = n.ml(e); t && n.events.list.splice(t.index, 1, e),
                    n.Jd()
            }
        }, this.events.find = function (e) { var t = n.events.list.find(function (t) { return t.id === e }); return t ? new DayPilot.Event(t, n) : null }, this.ml = function (e) { if (!n.events.list) return null; for (var t = 0; t < this.events.list.length; t++) { var i = this.events.list[t]; if (n.Gd(i, e)) { var a = {}; return a.ex = i, a.index = t, a.modified = !n.nl(e, i), a } } return null }, this.Gd = function (e, t) { return DayPilot.Util.isSameEvent(e, t) }, this.nl = function (e, t) { for (var n in e) if (("object" != typeof e[n] || e[n] instanceof DayPilot.Date) && e[n] !== t[n]) return !1; for (var n in t) if ("object" != typeof t[n] && e[n] !== t[n]) return !1; return !0 }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fh(), this.nav.top.dp) { if (this.nav.top.dp === n) return n; throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.") } return this.dl(), this.ll(), this.Jd(), this }, this.update = function (e) { if (n.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."); n.ph(e), n.Jd() }, this.dispose = function () { var e = n.nav.top; DayPilot.Scheduler.unregisterDropTarget({ element: e }), e.innerHTML = "", n.Ba = !0 }, this.Z = {}, this.Z.Ke = null, this.Z._ = function (e, t, i) { var a = n.Z.Ke; if ("function" == typeof a.createVNode && "function" == typeof a.render) { var r = a.createVNode(e, i); a.render(r, t) } }, this.Z.Me = function (e, t) { var i = n.Z.Ke; if ("function" == typeof i.render) { var a = e; DayPilot.isArray(e) && (a = i.h("div", null, e)), i.render(a, t) } }, this.Z.ma = function (e) { var t = n.Z.Ke; "function" == typeof t.render && t.render(null, e) }, this.internal = {}, this.internal.loadOptions = function (e) { n.ph(e) }, this.internal.enableReact = function (e, t) { n.X.react = e, n.X.reactDOM = t }, this.internal.reactRefs = function () { return DayPilot.Util.copyProps(n.X, {}, ["react", "reactDOM"]) }, this.internal.findEventDiv = this.kh, this.internal.enableVue = function (e) { n.Z.Ke = e }, this.internal.vueRef = function () { return n.Z.Ke }, this.internal.vueRendering = function () { return n.Z.Le }, this.ph(t)
    }, DayPilot.Queue.def = {})
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; if ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) {
    function t(e) { for (var t = e.touches[0].clientX, n = e.touches[0].clientY, i = document.elementFromPoint(t, n); i && i.parentNode;)if (i = i.parentNode, i.daypilotMainD) return i.calendar; return !1 } function n(e) { var t = e.touches[0].pageX, n = e.touches[0].pageY, i = {}; return i.x = t, i.y = n, i } if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
        var i = {}, a = function () { }, o = !1, s = function () { return document.body }, l = function () { return document.createElement("div") }, d = DayPilot.Util.overlaps, c = DayPilot.Util.removeClass, u = DayPilot.Util.addClass, h = DayPilot.Util.div, f = DayPilot.Util.atLeast, v = DayPilot.Util.isNullOrUndefined, p = DayPilot.Util.copyProps, m = DayPilot.Util.isReactComponent, g = DayPilot.Util.isVueComponent, y = DayPilot.Util.isVueVNode, b = DayPilot.Util.mouseButton, w = DayPilot.Global, x = DayPilot.list, k = DayPilot.contains, C = DayPilot.de, _ = DayPilot.indexOf, E = DayPilot.isArray; DayPilot.Scheduler = function (t, o) {
            function D(e) { e.div.style.height = e.height + "px", e.div.style.top = e.top + "px", H.Lt(e.div, e.enabled()), e.divHeader.style.height = e.heightRes + "px", e.divHeader.style.top = e.top + "px", H.Lt(e.divHeader, e.enabled()), e.divSpace && (e.divSpace.style.top = e.height + "px") } function A(e, t) { return 1 - e / t } this.v = "2024.4.6294"; var H = this; this.id = t, this.isScheduler = !0, this.allowDefaultContextMenu = !1, this.allowEventOverlap = !0, this.allowMultiMove = !1, this.allowMultiRange = !1, this.allowMultiResize = !1, this.allowMultiSelect = !0, this.api = 2, this.autoRefreshCommand = "refresh", this.autoRefreshEnabled = !1, this.autoRefreshInterval = 60, this.autoRefreshMaxCount = 20, this.autoScroll = "Drag", this.autoScrollDelay = 200, this.autoScrollHorizontal = !0, this.autoScrollRectangleSelection = !0, this.autoScrollSpeed = 50, this.autoScrollVertical = !0, this.blockOnCallBack = !1, this.navigatorBackSync = null, this.backendUrl = null, this.beforeCellRenderCaching = !0, this.businessBeginsHour = 9, this.businessEndsHour = 18, this.businessWeekends = !1, this.cellDuration = 60, this.cellGroupBy = "Day", this.cellSweeping = !0, this.cellSweepingCacheSize = 1e3, this.cellWidth = 40, this.cellWidthMin = 1, this.cellWidthSpec = "Fixed", this.cellsMarkBusiness = !0, this.cornerText = "", this.cornerHtml = null, this.crosshairTimeHeaderLevel = "Last", this.crosshairType = "Header", this.cssClass = null, this.cssClassPrefix = "scheduler_default", this.days = 1, this.doubleClickTimeout = 300, this.dragOutAllowed = !1, this.drawBlankCells = !0, this.durationBarHeight = null, this.durationBarVisible = !0, this.durationBarMode = "Duration", this.dynamicEventRendering = "Progressive", this.dynamicEventRenderingMargin = 50, this.dynamicEventRenderingMarginX = null, this.dynamicEventRenderingMarginY = null, this.dynamicEventRenderingCacheSweeping = !1, this.dynamicEventRenderingCacheSize = 200, this.dynamicLoading = !1, this.eventBorderRadius = null, this.eventEditMinWidth = 100, this.eventEditTabNext = !1, this.eventEndSpec = "DateTime", this.eventHeight = 35, this.eventHtmlLeftMargin = 10, this.eventHtmlRightMargin = 10, this.eventMarginLeft = 0, this.eventMarginRight = 0, this.eventMarginBottom = 0, this.eventMinWidth = 1, this.eventMoveMargin = 5, this.eventMoveToPosition = !1, this.eventMoveSkipNonBusiness = !1, this.eventPadding = null, this.eventResizeMargin = 5, this.eventStackingLineHeight = 100, this.eventTapAndHoldHandling = "Move", this.eventTextWrappingEnabled = !1, this.eventUpdateInplaceOptimization = !1, this.eventsLoadMethod = "GET", this.eventVersionHeight = 25, this.eventVersionMargin = 2, this.eventVersionPosition = "Above", this.eventVersionsEnabled = !1, this.eventVersionsReserveSpace = !1, this.floatingEvents = !DayPilot.browser.ios, this.floatingTimeHeaders = !0, this.groupConcurrentEvents = !1, this.groupConcurrentEventsLimit = 1, this.headerHeight = 30, this.heightSpec = "Max", this.height = 600, this.hideBorderFor100PctHeight = !1, this.hideUntilInit = !0, this.infiniteScrollingEnabled = !1, this.infiniteScrollingMargin = 50, this.infiniteScrollingStepDays = 30, this.initEventEnabled = !0, this.jointEventsResize = !0, this.jointEventsMove = !0, this.keyboardEnabled = !1, this.keyboardTarget = "document", this.layout = "Auto", this.linkCreateHandling = "Disabled", this.linkBottomMargin = 17, this.linkDotSize = 8, this.linkLayer = "Above", this.linkPointSize = 10, this.linkShape = "Curved", this.linksLoadMethod = "GET", this.linkWidth = "Auto", this.locale = "en-us", this.loadingLabelText = "Loading...", this.loadingLabelHtml = null, this.loadingLabelVisible = !0, this.overrideWheelScrolling = !1, this.messageBarPosition = "Top", this.messageHideAfter = 5e3, this.messageHideOnMouseOut = !0, this.multiRangeMode = "CtrlOrMeta", this.multiMoveVerticalMode = "Disabled", this.moveBy = "Full", this.notifyCommit = "Immediate", this.progressiveRowRendering = !0, this.progressiveRowRenderingPreload = 25, this.rectangleSelectMode = "Free", this.rectangleSelectHandling = "Disabled", this.rowCreateHeight = null, this.rowCreateHtml = null, this.rowCreateText = "New row...", this.rowDragHandleWidth = 10, this.rowEmptyHeight = null, this.rowFilterParentsAlwaysVisible = !0, this.rowHeaderColumnDefaultWidth = 80, this.rowHeaderColumnHeaderHeight = null, this.rowHeaderColumnsResizable = !0, this.rowHeaderColumnsMode = "Tabular", this.rowHeaderColumns = null, this.rowHeaderColumnsMergeParents = !0, this.rowHeaderHideIconEnabled = !1, this.rowHeaderScrolling = !1, this.rowHeaderSplitterWidth = 3, this.rowHeaderWidthAutoFit = !0, this.rowHeaderWidthAutoFitShrink = !1, this.rowHeaderWidthMarginRight = 0, this.rowHeaderWidthMin = 20, this.rowHeaderWidth = 80, this.rowMarginBottom = 0, this.rowMarginTop = 0, this.rowMinHeight = 0, this.rowsLoadMethod = "GET", this.rowSortingMode = "LeavesOnly", this.scale = "CellDuration", this.scaleManualLimitBeyond = !0, this.scrollDelayDynamic = 500, this.scrollDelayEvents = 200, this.scrollDelayCells = DayPilot.browser.ios ? 100 : 0, this.scrollDelayFloats = 0, this.scrollDelayRows = 0, this.scrollStep = null, this.scrollX = 0, this.scrollY = 0, this.selectedRows = [], this.separators = [], this.showCurrentTimeHeader = !1, this.showNonBusiness = !0, this.showNonBusinessForceHours = !1, this.showToolTip = !0, this.snapToGrid = !0, this.snapToGridTimeRangeSelecting = !0, this.snapToGridEventMoving = !0, this.snapToGridEventResizing = !0, this.startDate = DayPilot.Date.today(), this.syncResourceTree = !1, this.tapAndHoldTimeout = 300, this.timeHeaders = [{ "groupBy": "Default" }, { "groupBy": "Cell" }], this.timeHeaderPosition = "Top", this.timeHeaderTextWrappingEnabled = !1, this.treeAnimation = !0, this.treeAutoExpand = !0, this.treeEnabled = !1, this.treeIndent = 20, this.treeImageMarginLeft = 0, this.treeImageMarginTop = 3, this.treeImageMarginRight = 5, this.treeImageWidth = 10, this.treeImageHeight = 10, this.treePreventParentUsage = !1, this.timeFormat = "Auto", this.timeline = null, this.useEventBoxes = "Always", this.viewType = "Resources", this.visible = !0, this.watchWidthChanges = !0, this.weekStarts = "Auto", this.width = null, this.xssProtection = "Enabled", this.zoomLevels = [], this.zoomPosition = "left", this.eventClickHandling = "Enabled", this.eventDeleteHandling = "Disabled", this.eventHoverHandling = "Bubble", this.eventDoubleClickHandling = "Disabled", this.eventEditHandling = "Update", this.eventMoveHandling = "Update"; this.eventResizeHandling = "Update"; this.eventRightClickHandling = "ContextMenu", this.eventSelectHandling = "Update", this.resourceCollapseHandling = "Enabled", this.resourceExpandHandling = "Enabled", this.rowClickHandling = "Enabled", this.rowDoubleClickHandling = "Disabled", this.rowRightClickHandling = "ContextMenu", this.rowCreateHandling = "Disabled", this.rowEditHandling = "Update", this.rowHeaderColumnResizedHandling = "Update", this.rowSelectHandling = "Update", this.rowMoveHandling = "Disabled", this.rowMoveSameLevelOnly = !1, this.timeHeaderClickHandling = "Enabled", this.timeHeaderRightClickHandling = "Enabled", this.timeRangeClickHandling = "Enabled", this.timeRangeDoubleClickHandling = "Disabled", this.timeRangeSelectedHandling = "Enabled", this.timeRangeRightClickHandling = "ContextMenu", this.timeRangeSelectingStartEndEnabled = !1, this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy", this.eventMovingStartEndEnabled = !1, this.eventMovingStartEndFormat = "MMMM d, yyyy", this.eventResizingStartEndEnabled = !1, this.eventResizingStartEndFormat = "MMMM d, yyyy", "function" == typeof DayPilot.Bubble ? this.bubble = new DayPilot.Bubble : this.bubble = null, this.cellBubble = null, this.resourceBubble = null, this.linkBubble = null, this.groupBubble = null, this.rowHeaderColumnBubble = null, this.contextMenu = null, this.contextMenuResource = null, this.contextMenuSelection = null, this.contextMenuLink = null, 1 === H.api && (this.onEventMove = function () { }, this.onEventResize = function () { }, this.onResourceExpand = function () { }, this.onResourceCollapse = function () { }), this.onEventClick = null, this.onEventClicked = null, this.onEventEdit = null, this.onEventEdited = null, this.onEventEditKeyDown = null, this.onEventMove = null, this.onEventMoved = null, this.onEventMoving = null, this.onEventResize = null, this.onEventResized = null, this.onEventResizing = null, this.onEventRightClick = null, this.onEventRightClicked = null, this.onEventMouseEnter = null, this.onEventMouseLeave = null, this.onEventMouseOver = null, this.onEventMouseOut = null, this.onIncludeTimeCell = null, this.onKeyboardFocusChange = null, this.onKeyboardFocusChanged = null, this.onLinkClick = null, this.onLinkClicked = null, this.onLinkCreate = null, this.onLinkCreated = null, this.onRowClick = null, this.onRowClicked = null, this.onRowDoubleClick = null, this.onRowDoubleClicked = null, this.onRowMouseOver = null, this.onRowMouseOut = null, this.onRowRightClick = null, this.onRowRightClicked = null, this.onScroll = null, this.onScrollEnd = null, this.onTimeHeaderClick = null, this.onTimeHeaderClicked = null, this.onTimeHeaderRightClick = null, this.onTimeHeaderRightClicked = null, this.onTimeRangeClick = null, this.onTimeRangeClicked = null, this.onTimeRangeDoubleClick = null, this.onTimeRangeDoubleClicked = null, this.onTimeRangeSelect = null, this.onTimeRangeSelected = null, this.onTimeRangeSelecting = null, this.onTimeRangeRightClick = null, this.onTimeRangeRightClicked = null, this.onRowHeaderColumnResized = null, this.onRowHeaderResized = null, this.onCellMouseEnter = null, this.onCellMouseLeave = null, this.onCellMouseOver = null, this.onCellMouseOut = null, this.onGridMouseDown = null, this.onBeforeCellRender = null, this.onBeforeCellDomAdd = null, this.onBeforeCellDomRemove = null, this.onBeforeCornerRender = null, this.onBeforeCornerDomAdd = null, this.onBeforeCornerDomRemove = null, this.onBeforeEventRender = null, this.onBeforeEventDomAdd = null, this.onBeforeEventDomRemove = null, this.onBeforeGridLineRender = null, this.onBeforeLinkRender = null, this.onBeforeTimeHeaderRender = null, this.onBeforeTimeHeaderDomAdd = null, this.onBeforeTimeHeaderDomRemove = null, this.onBeforeResHeaderRender = null, this.onBeforeRowHeaderRender = null, this.onBeforeRowHeaderColumnRender = null, this.onBeforeRowHeaderDomAdd = null, this.onBeforeRowHeaderDomRemove = null, this.onBeforeCellExport = null, this.onBeforeCornerExport = null, this.onBeforeEventExport = null, this.onBeforeTimeHeaderExport = null, this.onBeforeRowHeaderExport = null, this.onAfterEventRender = null, this.onAfterCellRender = null, this.onAfterEventEditRender = null, this.onEventFilter = null, this.onRowFilter = null, this.onRectangleSelecting = null, this.onRectangleSelect = null, this.onRectangleSelected = null, this.onDimensionsChanged = null, this.onAfterUpdate = null, this.onAfterRender = null, this.za = 0, this.ol = !0, this.ql = !1, this.rl = !1, this.sl = !1, this.ul = -1, this.vl = -1, this.Ba = !1, this.wl = -1, this.xl = !1, this.yl = !0, this.rowlist = x(), this.itline = x(), this.events = {}, this.cells = {}, this.elements = {}, this.elements.events = [], this.elements.bars = [], this.elements.text = [], this.elements.cells = [], this.elements.linesVertical = [], this.elements.separators = [], this.elements.range = [], this.elements.breaks = [], this.elements.links = [], this.elements.linkpoints = [], this.elements.rectangle = [], this.elements.hover = [], this.elements.timeHeader = [], this.wa = {}, this.wa.cells = [], this.wa.zl = {}, this.wa.Al = {}, this.wa.timeHeaderGroups = [], this.wa.timeHeader = {}, this.wa.pixels = [], this.wa.breaks = [], this.wa.events = [], this.wa.Bl = [], this.clientState = {}, this.members = {}, this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"], this.members.ignoreFilter = function (e) { return 0 === e.indexOf("div") }, this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts", "rowHeaderCols"], this.members.noCssOnly = [], this.Ca = "javasc", this.nav = {}, this.Qa = function (e, t) { var e = JSON.parse(e); if (H.onScrollCalled = !1, e.VsUpdate) { var n = document.createElement("input"); n.type = "hidden", n.name = H.id + "_vsupdate", n.id = n.name, n.value = e.VsUpdate, H.uj.innerHTML = "", H.uj.appendChild(n) } if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect); if (e.BubbleGuid) { var i = e.BubbleGuid, a = this.bubbles[i]; return delete this.bubbles[i], H.kb(), "undefined" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a), void H.Cl() } if ("function" == typeof H.onCallBackResult) { var r = {}; if (r.result = e, r.preventDefault = function () { r.preventDefault.value = !0 }, H.onCallBackResult(r), r.preventDefault.value) return H.zc(), H.kb(), H.Gb(), e.Message && H.message && H.message(e.Message), H.lb(e.CallBackData, !0), H.Cl(), void H.Ga() } return "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "undefined" != typeof e.ClientState && (null === e.ClientState ? H.clientState = {} : H.clientState = e.ClientState), "None" === e.UpdateType ? (H.kb(), H.Cl(), e.Message && H.message(e.Message), void H.lb(e.CallBackData, !0)) : ("undefined" != typeof e.TagFields && (H.tagFields = e.TagFields), "undefined" != typeof e.SortDirections && (H.sortDirections = e.SortDirections), H.wa.drawArea = null, "Full" === e.UpdateType && (H.resources = e.Resources, H.colors = e.Colors, H.palette = e.Palette, H.dirtyColors = e.DirtyColors, H.cellProperties = e.CellProperties, H.cellConfig = e.CellConfig, H.separators = e.Separators, H.timeline = e.Timeline, H.timeHeader = e.TimeHeader, H.timeHeaders = e.TimeHeaders, "undefined" != typeof e.Links && (H.links.list = e.Links), "undefined" != typeof e.RowHeaderColumns && (H.rowHeaderColumns = e.RowHeaderColumns), H.startDate = e.StartDate ? new DayPilot.Date(e.StartDate) : H.startDate, H.days = e.Days ? e.Days : H.days, H.cellDuration = e.CellDuration ? e.CellDuration : H.cellDuration, H.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : H.cellGroupBy, H.cellWidth = e.CellWidth ? e.CellWidth : H.cellWidth, "undefined" != typeof e.CellWidthSpec && (H.cellWidthSpec = e.CellWidthSpec), "undefined" != typeof e.Scale && (H.scale = e.Scale), H.viewType = e.ViewType ? e.ViewType : H.viewType, "undefined" != typeof e.ShowNonBusiness && (H.showNonBusiness = e.ShowNonBusiness), H.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : H.businessBeginsHour, H.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : H.businessEndsHour, "undefined" != typeof e.DynamicLoading && (H.dynamicLoading = e.DynamicLoading), "undefined" != typeof e.TreeEnabled && (H.treeEnabled = e.TreeEnabled), H.locale = e.Locale ? e.Locale : H.locale, "undefined" != typeof e.TimeZone && (H.timeZone = e.TimeZone), H.timeFormat = e.TimeFormat ? e.TimeFormat : H.timeFormat, H.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : H.rowHeaderCols, "undefined" != typeof e.DurationBarMode && (H.durationBarMode = e.DurationBarMode), "undefined" != typeof e.CornerHTML && (H.cornerHtml = e.CornerHTML), H.hashes = e.Hashes, H.Dl(), H.El(), H.Fl(), H.pb(), H.Gl()), "Scroll" !== e.Action && (H.qb(e.Events), N.Hl()), "Full" === e.UpdateType && (H.Il(), H.Jl(), H.Kl(), H.Ll()), H.Ml(), H.E(), H.Eb(), H.wa.drawArea = null, "Scroll" !== e.Action ? (H.Nl(), H.rb(), "Auto" !== H.heightSpec && "Max" !== H.heightSpec || H.yb(), H.Ol(), H.Va(), H.Pl(), H.multiselect.clear(!0), H.multiselect.Ql(e.SelectedEvents), H.Rl(), H.Sl(), H.Cb()) : (H.multiselect.clear(!0), H.multiselect.Ql(e.SelectedEvents), H.Tl(e.Events)), "HoldForever" !== H.timeRangeSelectedHandling && H.Ul(), "Full" === e.UpdateType && (H.setScroll(e.ScrollX, e.ScrollY), H.sk()), H.Vl(), H.zc(), e.SelectedRows && H.Wl(e.SelectedRows), H.kb(), "Full" === e.UpdateType && navigator.appVersion.indexOf("MSIE 7.") !== -1 && window.setTimeout(function () { H.Il(), H.Jl(), H.yb() }, 0), H.Gb(), e.Message && H.message && H.message(e.Message), H.lb(e.CallBackData, !0), H.Cl(), H.Ga(), void ("Full" !== e.UpdateType || "Scroll" === e.Action || H.onScrollCalled || setTimeout(function () { H.Xl() }, 0))) }, this.zc = function () { if (H.Yl && H.Yl.Zl) { var e = H.Yl.Zl; e.parentNode.removeChild(e), H.Yl.Zl = null } }, this.lb = function (e, t) { var n = function (e, t) { return function () { if (H.Hb()) { if ("function" == typeof H.onAfterRender) { var n = {}; n.isCallBack = t, n.isScroll = !1, n.data = e, H.onAfterRender(n) } } else H.afterRender && H.afterRender(e, t) } }; window.setTimeout(n(e, t), 0) }, this.scrollTo = function (e, t, n) { if (H.infiniteScrollingEnabled) { if (H.Aa) { var i = H.getPixels(H.visibleEnd()).left, a = i - H.infiniteScrollingMargin - H.nav.scroll.clientWidth, r = H.getDate(a, !0, !0); if (!d(H.visibleStart(), r, e, e)) return void H.infinite.scrollTo(e) } return void H.$l(e, t, n) } H._l.enabled ? (H._l.scrollToRequested = e, setTimeout(function () { var e = H._l.scrollToRequested; e && (H.bm = null, H.$l(e, t, n)) }, 0)) : H.$l(e, t, n) }, this.$l = function (e, t, n) { if (e) { if (!H.Aa) return void (H.bm = { "date": e, "animated": t, "position": n }); if (H.cm && H.nav.scroll) { if ("Days" === H.viewType) { var i = new DayPilot.Date(e), a = H.dm(i); if (!a) return; if (H.X.react) { var r = a.top - H.em.top.height; H.nav.scroll.scrollTop = r } else setTimeout(function () { var e = a.top - H.em.top.height; H.nav.scroll && (H.nav.scroll.scrollTop = e) }, 100); var o = i.getTimePart(); e = H.visibleStart().getDatePart().addTime(o) } var s; if (e instanceof DayPilot.Date) s = this.getPixels(e).left; else if ("string" == typeof e) s = this.getPixels(new DayPilot.Date(e)).left; else { if ("number" != typeof e) throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object"); s = e } var l = H.cm.clientWidth, d = H.nav.scroll.clientWidth; switch (n = n || "left", n.toLowerCase()) { case "left": break; case "middle": s -= d / 2; break; case "right": s -= d }if (s < 0 && (s = 0), s > l - d && (s = l - d), !t) return void H.fm(s); var c = Math.abs(H.nav.scroll.scrollLeft - s), u = c / l, h = 50; if ("number" == typeof t) h = t; else if ("string" == typeof t) switch (t) { case "fast": h = 30; break; case "normal": h = 50; break; case "slow": h = 100; break; case "linear": h = Math.floor(100 * u) }u > .6 && (h = Math.min(h, 80)), H.gm(s, h) } } }, this.gm = function (e, t) { function n(e) { var t = e.next(); return "undefined" == typeof t ? void (e.finished && e.finished()) : (H.setScrollX(t), window.clearTimeout(H.refreshTimeout), void setTimeout(function () { n(e) }, e.delay)) } var i = {}; i.steps = [], i.index = 0, i.delay = 10, i.next = function () { var e = i.steps[i.index]; return i.index += 1, e }, i.finished = function () { H.Xl() }; for (var a = H.getScrollX(), t = t || 100, r = e - a, o = 0; o < t; o++) { var s = o / t, l = 2 * (s - .5) / (Math.pow(2 * (s - .5), 2) + 1) + .5; i.steps.push(a + r * l) } i.steps.push(e), n(i) }, this.scrollToResource = function (e) { DayPilot.complete(function () { var t; if ("string" == typeof e || "number" == typeof e) t = H.hm(e); else { if (!(e instanceof DayPilot.Row)) throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected"); t = H.hm(e.id) } t && setTimeout(function () { var e = 0; if ("main" === t.grid) { e = H.em.top.height; var n = t.top - e; H.nav.scroll.scrollTop = n } }, 100) }) }, this.im = function () { if (this.floatingTimeHeaders && this.timeHeader) { var e = H.rd(); if (e) { H.jm(); for (var t = e.pixels.left + R.km, n = e.pixels.right + R.km + e.sw, i = [], a = 0; a < this.timeHeader.length; a++)for (var r = 0; r < this.timeHeader[a].length; r++) { var o = this.timeHeader[a][r], s = o.left, l = o.left + o.width, d = null; if (s < t && t < l && (d = {}, d.x = r, d.y = a, d.marginLeft = t - s, d.marginRight = 0, d.div = H.wa.timeHeader[r + "_" + a], i.push(d)), s < n && n < l) { d || (d = {}, d.x = r, d.y = a, d.marginLeft = 0, d.div = H.wa.timeHeader[r + "_" + a], i.push(d)), d.marginRight = l - n; break } } for (var c = 0; c < i.length; c++) { var d = i[c]; H.lm(d.div, d.marginLeft, d.marginRight) } } } }, this.Vl = function () { H.im(), H.mm() }, this.nm = {}; var M = H.nm; M.om = function (e, t, n, i) { var a = e, r = e + n, o = t, s = t + i; return x(H.elements.events).filter(function (e) { var t = e.event, n = t.part.left, i = t.part.left + t.part.width, l = H.rowlist[t.part.dayIndex], c = l.top + t.part.top, u = c + t.part.height; if (d(n, i, a, r) && d(c, u, o, s)) return !0 }) }, M.Nk = function (e) { var t = [], e = e || "All", n = H.rd(); if (!n) return x(t); for (var i = n.pixels.left, a = n.pixels.right, r = 0; r < H.elements.events.length; r++) { var o = H.elements.events[r], s = o.event, l = s.part.left, c = s.part.left + s.part.width; switch (e) { case "Left": l < i && i < c && t.push(o); break; case "All": d(l, c, i, a) && t.push(o) } } return x(t).addProps({ "area": n }) }, this.mm = function () { if (this.floatingEvents) { var e = M.Nk("Left"); H.pm(), e.filter(function (e) { return "Milestone" !== e.event.data.type }).forEach(function (t) { var n = t.event, i = e.area.pixels.left, a = n.part.left, r = i - a; H.qm(t, r, 0) }) } }, this.elements.sections = [], this.elements.hsections = [], this.lm = function (e, t, n) { var i = l(); i.setAttribute("unselectable", "on"), i.className = H.da("_timeheader_float"), i.style.position = "absolute", i.style.left = t + "px", i.style.right = n + "px", i.style.top = "0px", i.style.bottom = "0px", i.style.overflow = "hidden"; var a = l(); a.className = H.da("_timeheader_float_inner"), a.setAttribute("unselectable", "on"); var r = e.cell.th; if (a.innerHTML = H.Ha(r.text, r.innerHTML), r.fontColor && (a.style.color = r.fontColor), i.appendChild(a), e.section = i, e.insertBefore(i, e.firstChild.nextSibling), e.domArgs && e.domArgs.element) { var o = e.firstChild && e.firstChild.firstChild; o && (o.style.display = "none") } else e.firstChild.innerHTML = ""; this.elements.hsections.push(e) }, this.jm = function () { for (var e = 0; e < this.elements.hsections.length; e++) { var t = this.elements.hsections[e], n = t.cell; if (n && t.firstChild) if (t.domArgs && t.domArgs.element) { var i = t.firstChild && t.firstChild.firstChild; i && (i.style.display = "") } else t.firstChild.innerHTML = H.Ha(n.th.text, n.th.innerHTML); C(t.section), t.section = null } this.elements.hsections = [] }, this.qm = function (e, t, n) { var i = l(); i.setAttribute("unselectable", "on"), i.className = H.da(Z.eventFloat), i.style.position = "absolute", i.style.left = t + "px", i.style.right = n + "px", i.style.top = "0px", i.style.bottom = "0px", i.style.overflow = "hidden"; var a = 2; "number" == typeof H.durationBarHeight && (a = H.durationBarHeight); var r = l(); if (r.className = H.da(Z.eventFloatInner), r.style.marginTop = a + "px", r.style.paddingTop = "0px", r.setAttribute("unselectable", "on"), r.innerHTML = e.event.client.html(), i.appendChild(r), e.section = i, e.insertBefore(i, e.firstChild.nextSibling), e.domArgs && e.domArgs.element) { var o = e && e.firstChild && e.firstChild.firstChild; o && (o.style.display = "none") } else e.firstChild.innerHTML = ""; var s = e.event, d = s.cache || s.data, c = s.cache ? s.cache.areas : s.data.areas; c = c || [], d.fontColor && (r.style.color = d.fontColor); var u = { "offsetX": H.rm(r), "eventDiv": e, "areas": c.filter(function (e) { return !(e.start || e.end || e.nonFloating) }) }; DayPilot.Areas.attach(i, e.event, u), DayPilot.Areas.disable(e), this.elements.sections.push(e) }, this.sm = null, this.rm = function (e) { return null === H.sm && (H.sm = parseInt(new DayPilot.StyleReader(e).get("padding-left"))), H.sm }, this.pm = function () { for (var e = 0; e < this.elements.sections.length; e++) { var t = this.elements.sections[e], n = t.event; if (n) if (t.domArgs && t.domArgs.element) { var i = t && t.firstChild && t.firstChild.firstChild; i && (i.style.display = "") } else t.firstChild.innerHTML = n.client.html(); C(t.section), DayPilot.Areas.enable(t), t.section = null } this.elements.sections = [] }, this.setScrollX = function (e) { H._l.enabled ? (H._l.scrollXRequested = e, setTimeout(function () { var e = H._l.scrollXRequested; "number" == typeof e && H.fm(e) }, 0)) : H.fm(e) }, this.fm = function (e) { var t = H.nav.scroll, n = H.tm(); t.clientWidth + e > n && (e = n - t.clientWidth), H.divTimeScroll.scrollLeft = e, t.scrollLeft = e }, this.setScrollY = function (e) { H._l.enabled ? (H._l.scrollYRequested = e, setTimeout(function () { var e = H._l.scrollYRequested; "number" == typeof e && H.um(e) }, 0)) : H.um(e) }, this.um = function (e) { var t = H.nav.scroll, n = H.wl; t.clientHeight + e > n && (e = n - t.clientHeight), H.divResScroll.scrollTop = e, t.scrollTop = e }, this.setScroll = function (e, t) { H.setScrollX(e), H.setScrollY(t) }, this.vm = function () { return H.wm() + $.xm() - 1 }, this.message = function (e, t) { if (null !== e && H.Aa) { var n, i = {}; "object" == typeof arguments[1] ? (i = arguments[1], n = i.delay) : n = t; var a = ""; a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e), n = n || this.messageHideAfter || 2e3; var r, o = H.ym() + 1, s = H.vm(), d = DayPilot.sw(H.nav.scroll) + 1, c = DayPilot.sh(H.nav.scroll); if (this.nav.message) r = H.nav.message; else { r = l(), r.style.position = "absolute", r.style.left = s + "px", r.style.right = d + "px", r.style.display = "none", DayPilot.rePassive(r, DayPilot.touch.start, function (e) { H.nav.message.style.display = "none", e.stopPropagation() }), r.onmousemove = function () { H.messageHideOnMouseOut && r.messageTimeout && !r.status && clearTimeout(r.messageTimeout) }, r.onmouseout = function () { H.messageHideOnMouseOut && "none" !== H.nav.message.style.display && (r.messageTimeout = setTimeout(H.Ub, 500)) }; var h = l(); h.onclick = function () { H.nav.message.style.display = "none" }, h.className = H.da("_message"), r.appendChild(h); var f = l(); f.style.position = "absolute", f.className = H.da("_message_close"), f.onclick = function () { H.nav.message.style.display = "none" }, r.appendChild(f), this.nav.top.appendChild(r), this.nav.message = r } var v = function () { if (H.nav.message) { var e = H.nav.message.firstChild; e.className = H.da("_message"), i.cssClass && u(e, i.cssClass), e.innerHTML = a; var t = DayPilot.sw(H.nav.scroll); H.nav.message.style.right = t + "px"; var s = H.messageBarPosition || "Top"; "Bottom" === s ? (H.nav.message.style.bottom = c + "px", H.nav.message.style.top = "") : "Top" === s && (H.nav.message.style.bottom = "", H.nav.message.style.top = o + "px"); var l = function () { r.messageTimeout = setTimeout(H.Ub, n) }; DayPilot.fade(H.nav.message, .2, l) } }; clearTimeout(r.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(H.nav.message, -.2, v) : v() } }, this.Ub = function () { if (H.nav && H.nav.message) { var e = function () { H.nav.message.style.display = "none" }; DayPilot.fade(H.nav.message, -.2, e) } }, this.zm = function () { H.nav && H.nav.message && (H.nav.message.style.display = "none") }, this.message.show = function (e) { H.message(e) }, this.message.hide = function () { H.Ub() }, this.Am = null, this.yb = function () { if (this.nav.scroll) { !function () { var e = H.tm(); H.cm.style.height = H.wl + "px", H.cm.style.width = e + "px", "Auto" !== H.cellWidthSpec || H.Bm ? e > H.nav.scroll.clientWidth ? H.nav.scroll.style.overflowX = "auto" : H.nav.scroll.style.overflowX = "hidden" : (H.nav.scroll.style.overflowX = "hidden", H.nav.scroll.scrollLeft = 0) }(); var e = "None" === H.timeHeaderPosition ? 0 : 1; null !== this.Am && (this.nav.top.style.border = this.Am, this.Am = null), "Parent100Pct" !== this.heightSpec && "Max100Pct" !== this.heightSpec || (this.nav.top.style.height = "100%", this.hideBorderFor100PctHeight && (this.Am = this.nav.top.style.border, this.nav.top.style.border = "0 none"), this.height = parseInt(this.nav.top.clientHeight, 10) - this.ym() - e), this.nav.scroll.style.height = "30px"; var t = this.bf(), n = t + this.ym() + e; if (t >= 0 && (this.nav.scroll.style.height = t + "px", this.Cm.style.height = t + "px"), this.nav.divider && ((!n || isNaN(n) || n < 0) && (n = 0), this.nav.divider.style.height = n + "px"), "Parent100Pct" !== this.heightSpec && (this.nav.top.style.height = n + "px"), H.nav.resScrollSpace) { var i = 30 + H.em.bottom.height; "Auto" === H.heightSpec && (i = DayPilot.sh(H.nav.scroll)), H.nav.resScrollSpace.style.height = i + "px" } for (var a = 0; a < this.elements.separators.length; a++)this.elements.separators[a].style.height = this.wl + "px"; for (var a = 0; a < this.elements.linesVertical.length; a++)this.elements.linesVertical[a].style.height = this.wl + "px"; H.Dm(), H.Em() } }, this.El = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart(), this.wa.pixels = [], this.itline = x(); var e = "Auto" === this.cellWidthSpec; if (function () { if (e) { var t = 0; H.ka() && H.timeline ? t = H.timeline.length : "Manual" === H.scale ? t = H.timeline.length : (H.Fm(), t = H.itline.length, H.itline = x()); var n = H.Gm(); if (t > 0 && n > 0) { var i = n / t; H.cellWidth = f(i, H.cellWidthMin), H.Bm = i < H.cellWidthMin } } }(), this.ka() && this.timeline) { if (this.timeline) { this.itline = x(); for (var t = null, n = 0, i = 0; i < this.timeline.length; i++) { var a = this.timeline[i], r = {}; if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), a.width) r.left = a.left || n, r.width = a.width || this.cellWidth, n += r.width; else { var o = Math.floor(n + this.cellWidth), s = o - Math.floor(n); r.left = Math.floor(n), r.width = s, n += this.cellWidth } r.breakBefore = t && t.ticks !== r.start.ticks, t = r.end, this.itline.push(r) } } e && this.Hm() } else { if (this.timeHeader = [], "Manual" === this.scale) { this.itline = x(); for (var n = 0, t = null, i = 0; this.timeline && i < this.timeline.length; i++) { var a = this.timeline[i], r = {}; if (r.start = new DayPilot.Date(a.start), r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration), t && r.start.ticks < t.ticks) throw new DayPilot.Exception("The timeline must be sequential"); var l = a.width || this.cellWidth, o = Math.floor(n + l), s = o - Math.floor(n); r.left = Math.floor(n), r.width = s, n += l, r.breakBefore = t && t.ticks !== r.start.ticks, t = r.end, this.itline.push(r) } } else this.Fm(); this.Im() } }, this.infinite = {}, this.infinite.shiftStart = function (e) { R.Jm(e) }, this.infinite.scrollTo = function (e) { R.Km(e) }, this.Lm = {}; var R = this.Lm; R.km = 0, R.t = !1, R.Mm = function () { H.Nm().forEach(function (e, t) { e.start = H.Rb(), e.data = null, H.Om(e.index, e.grid) }) }, R.Pm = function () { return H.infiniteScrollingEnabled && !H.ka() }, R.Km = function (e) { e = new DayPilot.Date(e); var t = e.addDays(-H.infiniteScrollingStepDays).getDatePart(), n = new DayPilot.Duration(t.getTime() - H.startDate.getDatePart().getTime()).totalDays(); R.Jm(n, e) }, R.Jm = function (e, t) { var n; R.t = !0; var a = H.startDate, r = H.startDate.addDays(e); e > 0 && (n = -H.getPixels(r).left), H.startDate = H.startDate.addDays(e), H.itline = x(), H.wa.pixels = [], H.Qm = {}, H.Fm(), R.Mm(), e < 0 && (n = H.getPixels(a).left), H.timeHeader = [], H.Im(), H.Ll(), H.cellProperties = {}, H.Ol(), H.Pl(), H.qb(), N.Hl(), H.Va(), H.Ml(), H.Nl(), H.yb(), "undefined" != typeof t ? (H.scrollTo(new DayPilot.Date(t)), H.Xl()) : H.nav.scroll.scrollLeft += n, H.Sl(), H.Cb(); var o = i.Rm; o && (o.start.x += n, o.start.width += n, K.draw()), R.t = !1 }, this.Fm = function () {
                !H.Aa && R.Pm() && (this.startDate = this.startDate.addDays(-this.infiniteScrollingStepDays)); for (var e = "Days" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, n = this.Sm(t), i = !1, a = 0, r = null; n.ticks <= e.ticks && n.ticks > t.ticks;) {
                    var o = t, s = n; H.showNonBusinessForceHours && "Day" === H.scale && (o = t.addHours(H.businessBeginsHour), s = t.addHours(H.businessEndsHour)); var l = this.Tm(o, s, !0); if (!l.cell.start || !l.cell.end) throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified"); if (l.cell.start = new DayPilot.Date(l.cell.start), l.cell.end = new DayPilot.Date(l.cell.end), l.cell.start >= l.cell.end) throw new DayPilot.Exception("Invalid timeline cell start/end: end before start"); if (r && r.ticks > l.cell.start.ticks) throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");
                    i = !!(r && r.ticks < l.cell.start.ticks); var d = l.cell.width || H.cellWidth; if (l.cell.visible) { var c = Math.floor(a + d), u = c - Math.floor(a), h = {}; h.start = l.cell.start, h.end = l.cell.end, h.left = Math.floor(a), h.width = u, h.breakBefore = i, this.itline.push(h), a += d, r = l.cell.end } t = n, n = this.Sm(t)
                }
            }, this.Hm = function () { if (this.timeHeader) for (var e = 0; e < this.timeHeader.length; e++)for (var t = this.timeHeader[e], n = 0; n < t.length; n++) { var i = t[n]; i.left = this.getPixels(new DayPilot.Date(i.start)).left; var a = this.getPixels(new DayPilot.Date(i.end)).left, r = a - i.left; i.width = r } }, this.Im = function () { var e = this.timeHeaders; if (e || (e = [{ "groupBy": this.cellGroupBy }, { "groupBy": "Cell" }]), this.itline.isEmpty()) { this.timeHeader = []; for (var t = 0; t < e.length; t++)this.timeHeader[t] = [] } else for (var n = H.ce(), t = 0; t < e.length; t++) { var i = e[t].groupBy, a = e[t].format; "Default" === i && (i = this.cellGroupBy); for (var r = [], o = this.Rb(); o.ticks < n.ticks;) { var s = {}; if (s.start = o, s.end = this.Um(s.start, i), s.start.ticks === s.end.ticks) break; s.left = this.getPixels(s.start).left; var l = this.getPixels(s.end).left, d = l - s.left; if (s.width = d, s.colspan = Math.ceil(d / (1 * this.cellWidth)), "string" == typeof a ? s.text = s.start.toString(a, $.Tc()) : s.text = this.Vm(s, i), d > 0) { if ("function" == typeof this.onBeforeTimeHeaderRender) { var c = {}; c.start = s.start, c.end = s.end, c.text = s.text, c.html = null, c.toolTip = H.Ha(s.text), c.backColor = null, c.fontColor = null, c.level = this.timeHeader.length, c.cssClass = null; var u = {}; u.header = c, u.control = H, this.onBeforeTimeHeaderRender(u), s.innerHTML = H.Ha(c.text, c.html), s.text = c.text, s.html = c.html, s.backColor = c.backColor, s.fontColor = c.fontColor, s.toolTip = c.toolTip, s.areas = c.areas, s.cssClass = c.cssClass } r.push(s) } o = s.end } this.timeHeader.push(r) } }, this.Tm = function (e, t) { var n = {}; n.start = e, n.end = t, n.visible = !0, n.width = null; var i = {}; if (i.cell = n, "function" == typeof this.onIncludeTimeCell) return this.onIncludeTimeCell(i), i; if (this.showNonBusiness) return i; var a = "Days" === H.viewType; return i.cell.visible = this.isBusiness({ "start": e, "end": t }, a), i }, this.getPixels = function (e) { var t = e.ticks, n = this.wa.pixels[t]; if (n) return n; var i = 2218768416e5; if (0 === this.itline.length || t < this.itline[0].start.ticks) { var a = {}; return a.cut = !1, a.left = 0, a.boxLeft = a.left, a.boxRight = a.left, a.i = null, a } for (var r = this.Wm(e), o = f(r.i - 1, 0), s = o; s < this.itline.length; s++) { var l = this.itline[s], d = l.start.ticks, c = l.end.ticks; if (d < t && t < c) { var u = t - d, a = {}; a.cut = !1, a.left = l.left + this.Sf(l, u), a.boxLeft = l.left, a.boxRight = l.left + l.width, a.i = s; break } if (d === t) { var a = {}; a.cut = !1, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left + l.width, a.i = s; break } if (c === t) { var a = {}; a.cut = !1, a.left = l.left + l.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = s + 1; break } if (t < d && t > i) { var a = {}; a.cut = !0, a.left = l.left, a.boxLeft = a.left, a.boxRight = a.left, a.i = s; break } i = c } if (!a) { var h = this.itline[this.itline.length - 1], a = {}; a.cut = !0, a.left = h.left + h.width, a.boxLeft = a.left, a.boxRight = a.left, a.i = null } return this.wa.pixels[t] = a, a }, this.getDate = function (e, t, n) { var i = this.Xm(e, n); if (!i) return null; var a = i.x, r = this.itline[a]; if (!r) return null; var o = n && !t ? r.end : r.start; return t ? o.addTime(this.Ym(i.cell, i.offset)) : o }, this.Xm = function (e, t) { if (0 === this.itline.length) return null; for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) { var r = this.itline[a]; if (n += r.width || this.cellWidth, e < n || t && e === n) { var o = {}; return o.x = a, o.offset = e - i, o.cell = r, o } i = n } var r = H.itline.last(), o = {}; return o.x = this.itline.length - 1, o.offset = r.width || this.cellWidth, o.cell = r, o }, this.Zm = function (e) { return this.Wm(e) }, this.Wm = function (e) { var t = new DayPilot.Date(e), n = 0, i = this.itline[0]; if (t.ticks < i.start.ticks) { var a = {}; return a.hidden = !0, a.previous = null, a.current = null, a.next = this.itline[0], a.i = -1, a } var r = this.itline.length - 1, o = this.itline[r]; if (t.ticks > o.end.ticks) { var a = {}; return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a } if (t.ticks === o.end.ticks) { var a = {}; return a.past = !1, a.current = this.itline[this.itline.length - 1], a.i = this.itline.length - 1, a } for (var s = function () { for (var e, i = H.itline; n <= r;)if (e = Math.floor((n + r) / 2), i[e].start.ticks > t.ticks) r = e - 1; else { if (!(i[e].end.ticks < t.ticks)) return e; n = e + 1 } return n }(), l = s; l < this.itline.length; l++) { var d = this.itline[l]; if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) { var a = {}; return a.hidden = !1, a.current = d, a.i = l, a } if (t.ticks < d.start.ticks) { var a = {}; return a.hidden = !0, a.previous = l > 0 ? this.itline[l - 1] : null, a.current = null, a.next = this.itline[l], a.i = l, a } } var a = {}; return a.past = !0, a.previous = this.itline[this.itline.length - 1], a.i = this.itline.length, a }, this.Sf = function (e, t) { var n = e.width || this.cellWidth, i = e.end.ticks - e.start.ticks; return Math.floor(n * t / i) }, this.Ym = function (e, t) { var n = e.end.ticks - e.start.ticks, i = e.width || this.cellWidth; return Math.floor(t / i * n) }, this.Kj = function (e) { w.touch.start || i.$m || (H._m = {}, H.Wb(this, e)) }, this.eventClickPostBack = function (e, t) { this.Ka("EventClick", e, t) }, this.eventClickCallBack = function (e, t) { this.Ma("EventClick", e, t) }, this.Wb = function (e, t) { var n = e.event; if (n) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), !n.client.doubleClickEnabled()) return void H.Xb(e, t); H.an.click || (H.an.click = []); var i = function (e, t) { return function () { H.Xb(e, t) } }; H.an.click.push(window.setTimeout(i(e, t), H.doubleClickTimeout)) } }, this.bn = function (e) { return H.itline[e] }, this.Xb = function (e, t) { if ("boolean" == typeof t) throw new DayPilot.Exception("Invalid _eventClickSingle parameters"); var n = e.event; if (n) { var i = t.ctrlKey, a = t.metaKey; if (n.client.clickEnabled()) { if (!!(t.clientX || t.clientY || t.changedTouches) && H.cn(t), H.Hb()) { var r = {}; if (r.e = n, r.control = H, r.div = e, r.originalEvent = t, r.ctrl = i, r.meta = a, r.shift = t.shiftKey, r.preventDefault = function () { this.preventDefault.value = !0 }, r.toJSON = function () { return p(r, {}, ["e", "ctrl", "meta", "shift"]) }, "function" == typeof H.onEventClick && (H.onEventClick(r), r.preventDefault.value)) return; switch (H.eventClickHandling) { case "PostBack": H.eventClickPostBack(n); break; case "CallBack": H.eventClickCallBack(n); break; case "Edit": H.Yb(e); break; case "Select": H.Zb(e, n, i, a); break; case "ContextMenu": var o = n.client.contextMenu(); o ? o.show(n) : H.contextMenu && H.contextMenu.show(n); break; case "Bubble": H.bubble && H.bubble.showEvent(n); break; case "RectangleSelect": if ("Disabled" !== $.dn()) return K.start(), !1 }"function" == typeof H.onEventClicked && H.onEventClicked(r) } else switch (H.eventClickHandling) { case "PostBack": H.eventClickPostBack(n); break; case "CallBack": H.eventClickCallBack(n); break; case "JavaScript": H.onEventClick(n); break; case "Edit": H.Yb(e); break; case "Select": H.Zb(e, n, i, a); break; case "ContextMenu": var o = n.client.contextMenu(); o ? o.show(n) : H.contextMenu && H.contextMenu.show(n); break; case "Bubble": H.bubble && H.bubble.showEvent(n); break; case "RectangleSelect": if ("Disabled" !== $.dn()) return K.start(), !1 } } } }, this.gc = function (e) { if (H.Hb()) { var t = function () { if (!n.preventDefault.value) { switch (n.loaded = function () { }, H.eventDeleteHandling) { case "PostBack": H.eventDeletePostBack(e); break; case "CallBack": H.eventDeleteCallBack(e); break; case "Update": H.events.remove(e), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive() }"function" == typeof H.onEventDeleted && H.onEventDeleted(n) } }, n = {}; n.async = !1, n.e = e, n.preventDefault = function () { this.preventDefault.value = !0 }, n.control = H, n.toJSON = function () { return p(n, {}, ["e"]) }, n.loaded = function () { t() }, "function" == typeof H.onEventDelete && H.onEventDelete(n), n.async || t() } else switch (H.eventDeleteHandling) { case "PostBack": H.eventDeletePostBack(e); break; case "CallBack": H.eventDeleteCallBack(e); break; case "JavaScript": H.onEventDelete(e) } }, this.eventDeletePostBack = function (e, t) { this.Ka("EventDelete", e, t) }, this.eventDeleteCallBack = function (e, t) { this.Ma("EventDelete", e, t) }, this.setHScrollPosition = function (e) { this.nav.scroll.scrollLeft = e }, this.getScrollX = function () { return this.nav.scroll.scrollLeft }, this.getHScrollPosition = this.getScrollX, this.getScrollY = function () { return this.nav.scroll.scrollTop }, this.Zb = function (e, t, n, i) { H.Jc(e, t, n, i) }, this.eventSelectPostBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ka("EventSelect", i, n) }, this.eventSelectCallBack = function (e, t, n) { var i = {}; i.e = e, i.change = t, this.Ma("EventSelect", i, n) }, this.Jc = function (e, t, n, i) { var a = H.multiselect, r = a.isSelected(t); if (n || i || !r || 1 !== a.Kc.length) if (H.Hb()) { a.ud = a.events(); var o = {}; if (o.e = t, o.selected = r, o.ctrl = n, o.meta = i, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onEventSelect && (H.onEventSelect(o), o.preventDefault.value)) return; switch (H.eventSelectHandling) { case "PostBack": H.eventSelectPostBack(t, s); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), H.eventSelectCallBack(t, s); break; case "Update": a.Nc(e, n, i) }"function" == typeof H.onEventSelected && (o.change = a.isSelected(t) ? "selected" : "deselected", o.selected = a.isSelected(t), H.onEventSelected(o)) } else { a.ud = a.events(), a.Nc(e, n, i); var s = a.isSelected(t) ? "selected" : "deselected"; switch (H.eventSelectHandling) { case "PostBack": H.eventSelectPostBack(t, s); break; case "CallBack": "undefined" != typeof WebForm_InitCallback && (window.Lc = "", window.Mc = [], WebForm_InitCallback()), H.eventSelectCallBack(t, s); break; case "JavaScript": H.onEventSelect(t, s) } } }, this.eventRightClickPostBack = function (e, t) { this.Ka("EventRightClick", e, t) }, this.eventRightClickCallBack = function (e, t) { this.Ma("EventRightClick", e, t) }, this._b = function (e) { if (!w.touch.active && !w.touch.start) { var t = this.event; if (e.cancelBubble = !0, H.allowDefaultContextMenu || e.preventDefault(), !this.event.client.rightClickEnabled()) return !1; if (H.cn(e), H.Hb()) { var n = {}; if (n.e = t, n.div = this, n.originalEvent = e, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onEventRightClick && (H.onEventRightClick(n), n.preventDefault.value)) return !1; switch (H.eventRightClickHandling) { case "PostBack": H.eventRightClickPostBack(t); break; case "CallBack": H.eventRightClickCallBack(t); break; case "ContextMenu": var i = t.client.contextMenu(); i ? i.show(t) : H.contextMenu && H.contextMenu.show(this.event); break; case "Bubble": H.bubble && H.bubble.showEvent(t) }"function" == typeof H.onEventRightClicked && H.onEventRightClicked(n) } else switch (H.eventRightClickHandling) { case "PostBack": H.eventRightClickPostBack(t); break; case "CallBack": H.eventRightClickCallBack(t); break; case "JavaScript": H.onEventRightClick(t); break; case "ContextMenu": var i = t.client.contextMenu(); i ? i.show(t) : H.contextMenu && H.contextMenu.show(this.event); break; case "Bubble": H.bubble && H.bubble.showEvent(t) }return !1 } }, this.eventDoubleClickPostBack = function (e, t) { this.Ka("EventDoubleClick", e, t) }, this.eventDoubleClickCallBack = function (e, t) { this.Ma("EventDoubleClick", e, t) }, this.$b = function (e) { if ("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), H.an.click) { for (var t in H.an.click) window.clearTimeout(H.an.click[t]); H.an.click = null } var n = this.event; if (e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0, H.Hb()) { var i = {}; if (i.e = n, i.originalEvent = e, i.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onEventDoubleClick && (H.onEventDoubleClick(i), i.preventDefault.value)) return; switch (H.eventDoubleClickHandling) { case "PostBack": H.eventDoubleClickPostBack(n); break; case "CallBack": H.eventDoubleClickCallBack(n); break; case "Edit": H.Yb(this); break; case "Select": H.Zb(div, n, e.ctrlKey, e.metaKey); break; case "Bubble": H.bubble && H.bubble.showEvent(n); break; case "ContextMenu": var a = n.client.contextMenu(); a ? a.show(n) : H.contextMenu && H.contextMenu.show(n) }"function" == typeof H.onEventDoubleClicked && H.onEventDoubleClicked(i) } else switch (H.eventDoubleClickHandling) { case "PostBack": H.eventDoubleClickPostBack(n); break; case "CallBack": H.eventDoubleClickCallBack(n); break; case "JavaScript": H.onEventDoubleClick(n); break; case "Edit": H.Yb(this); break; case "Select": H.Zb(div, n, e.ctrlKey, e.metaKey); break; case "Bubble": H.bubble && H.bubble.showEvent(n); break; case "ContextMenu": var a = n.client.contextMenu(); a ? a.show(n) : H.contextMenu && H.contextMenu.show(n) } }, this.eventResizePostBack = function (e, t, n, i) { this.qc("PostBack", e, t, n, i) }, this.eventResizeCallBack = function (e, t, n, i) { this.qc("CallBack", e, t, n, i) }, this.qc = function (e, t, n, i, a) { var r = t && !!t.preventDefault, o = {}; if (r) { var s = t; o.e = s.e, o.newStart = s.newStart, o.newEnd = s.newEnd, o.multiresize = [], s.multiresize.forEach(function (e) { var t = {}; t.e = e.event, t.newStart = e.start, t.newEnd = e.end, o.multiresize.push(t) }) } else o.e = t, o.newStart = n, o.newEnd = i; this.hc(e, "EventResize", o, a) }, this.nc = function (e, t, n, i) { if ("Disabled" !== this.eventResizeHandling) { n = H.Xj(n); var a = {}; a.e = e, a.async = !1, a.loaded = function () { o() }, a.newStart = t, a.newEnd = n, a.what = i, a.areaData = w.resizingAreaData, a.preventDefault = function () { this.preventDefault.value = !0 }, a.multiresize = x(z.list), a.control = H, a.toJSON = function () { return p(a, {}, ["e", "async", "newStart", "newEnd", "multiresize"]) }; var r = {}; if (r.event = e, r.start = t, r.end = n, a.multiresize.splice(0, 0, r), H.Hb()) { var o = function () { if (V.C(), !a.preventDefault.value) { switch (a.loaded = function () { }, t = a.newStart, n = a.newEnd, H.eventResizeHandling) { case "PostBack": H.eventResizePostBack(a); break; case "CallBack": H.eventResizeCallBack(a); break; case "Notify": H.eventResizeNotify(a); break; case "Update": H.en(a) }"function" == typeof H.onEventResized && H.onEventResized(a) } }; "function" == typeof H.onEventResize && H.onEventResize(a), a.async ? H.blockOnCallBack && V.E() : o() } else switch (H.eventResizeHandling) { case "PostBack": H.eventResizePostBack(a); break; case "CallBack": H.eventResizeCallBack(a); break; case "JavaScript": H.onEventResize(e, t, n); break; case "Notify": H.eventResizeNotify(a); break; case "Update": H.en(a) } } }, this.eventMovePostBack = function (e, t, n, i, a, r) { this.Ac("PostBack", e, t, n, i, a, r) }, this.eventMoveCallBack = function (e, t, n, i, a, r) { this.Ac("CallBack", e, t, n, i, a, r) }, this.Ac = function (e, t, n, i, a, r, o) { var s = t && !!t.preventDefault, l = {}; if (s) { var d = t; l.e = d.e, l.newStart = d.newStart, l.newEnd = d.newEnd, l.newResource = d.newResource, l.position = d.position, l.multimove = [], d.multimove.forEach(function (e) { var t = {}; if (t.e = e.event, t.newStart = e.start, t.newEnd = e.end, t.newResource = e.event.resource(), t.e === d.e || t.e.data.id == d.e.data.id) t.newResource = d.newResource; else if (U.rowoffset) { var n = e.event.part.dayIndex + U.rowoffset; t.newResource = H.rowlist[n].id } l.multimove.push(t) }) } else l.e = t, l.newStart = n, l.newEnd = i, l.newResource = a, l.position = o; this.hc(e, "EventMove", l, r) }, this.gn = function (e, t, n) { var i = {}; i.start = t.start, i.end = t.end, i.resource = t.resource, i.multirange = [], t.multirange.forEach(function (e) { var t = {}; t.start = e.start, t.end = e.end, t.resource = e.resource, i.multirange.push(t) }), this.hc(e, "TimeRangeSelected", i, n) }, this.hc = function (e, t, n, i) { if ("PostBack" === e) H.Ka(t, n, i); else if ("CallBack" === e) H.Ma(t, n, i, "CallBack"); else if ("Immediate" === e) H.Ma(t, n, i, "Notify"); else if ("Queue" === e) H.queue.add(new DayPilot.Action(this, t, n, i)); else { if ("Notify" !== e) throw new DayPilot.Exception("Invalid event invocation type"); "Notify" === $.ic() ? H.Ma(t, n, i, "Notify") : H.queue.add(new DayPilot.Action(H, t, n, i)) } }, this.eventMoveNotify = function (e, t, n, i, a, r) { if (e && !!e.preventDefault) { var o = e; o.old = new DayPilot.Event(o.e.copy(), H), o.multimove.forEach(function (e) { e.old = new DayPilot.Event(e.event.copy(), H) }), H.en(o), o.e = o.old, delete o.old, o.multimove.forEach(function (e) { e.event = e.old, delete e.old }) } else { e = new DayPilot.Event(e.copy(), H); var s = H.events.hn(e.data); e.start(t), e.end(n), e.resource(i), e.commit(), s = s.concat(H.events.in(e.data)), H.jn(s), H.kn(), H.ln(s) } this.Ac("Notify", e, t, n, i, a, r) }, this.eventResizeNotify = function (e, t, n, i) { if (e && !!e.preventDefault) { var a = e; a.old = new DayPilot.Event(a.e.copy(), H), a.multiresize.forEach(function (e) { e.old = new DayPilot.Event(e.event.copy(), H) }), H.en(a), a.e = a.old, delete a.old, a.multiresize.forEach(function (e) { e.event = e.old, delete e.old }) } else { e = new DayPilot.Event(e.copy(), H); var r = H.events.hn(e.data); e.start(t), e.end(n), e.commit(), r = r.concat(H.events.in(e.data)), H.jn(r), H.kn(), H.ln(r) } this.qc("Notify", e, t, n, i) }, this.zoom = {}, this.zoom.active = -1, this.zoom.setActive = function (e, t, n) { var i; if ("number" == typeof e) i = H.zoomLevels[e]; else { if ("string" != typeof e) throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e); var a = H.zoom.od(e); i = H.zoomLevels[a] } if (!i) throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")"); (e !== H.zoom.active || n) && (n || (n = H.zoom.Ek(t)), n && (H.startDate = n), H.zoom.qd(e, n), H.Aa && H.update(), n && H.scrollTo(n, null, t || H.zoomPosition)) }, this.zoom.od = function (e) { return x(H.zoomLevels).findIndex(function (t) { return t.id === e }) }, this.zoom.Ek = function (e) { e = e || H.zoomPosition || "left"; var t = null; if (!H.nav.scroll) return null; var n = H.getViewPort(); switch (e) { case "left": t = n.start; break; case "middle": t = n.start && n.start.addTime((H.getViewPort().end.getTime() - H.getViewPort().start.getTime()) / 2); break; case "right": t = n.end }return t }, this.zoom.qd = function (e, t) { var n = H.zoomLevels.length - 1; e > n && (e = n), e < 0 && (e = 0), H.zoom.active = e; var i = H.zoomLevels[e], a = {}; return a.date = t || new DayPilot.Date(H.startDate), a.level = i, DayPilot.Util.ownPropsAsArray(i.properties).forEach(function (e) { if (0 !== e.key.indexOf("on")) return "function" == typeof e.val ? void (H[e.key] = e.val(a)) : void (H[e.key] = e.val) }), a }, this.multiselect = {}, this.multiselect.Kc = [], this.multiselect.td = [], this.multiselect.ud = [], this.multiselect.Ql = function (e) { H.multiselect.Kc = x(e).map(function (e) { return new DayPilot.Event(e, H) }) }, this.multiselect.vd = function () { var e = H.multiselect; return JSON.stringify(e.events()) }, this.multiselect.events = function () { var e = H.multiselect, t = x(); t.ignoreToJSON = !0; for (var n = 0; n < e.Kc.length; n++)t.push(e.Kc[n]); return t }, this.multiselect.get = function () { return H.multiselect.events() }, this.multiselect.xd = function () { }, this.multiselect.Nc = function (e, t, n) { var i = H.multiselect; if (i.isSelected(e.event)) if (H.allowMultiSelect) if (t || n) i.remove(e.event, !0); else { var a = i.Kc.length; i.clear(), a > 1 && i.add(e.event, !0) } else i.clear(); else H.allowMultiSelect && (t || n) ? i.add(e.event, !0) : (i.clear(), i.add(e.event, !0)); i.Jd(e), i.xd() }, this.multiselect.yd = function (e) { var t = H.multiselect; return t.zd(e, t.Kc) }, this.multiselect.Ad = function () { for (var e = H.multiselect, t = [], n = 0; n < e.Kc.length; n++) { var i = e.Kc[n]; t.push(i.value()) } alert(t.join("\n")) }, this.multiselect.add = function (e, t) { var n = H.multiselect; n.Bd(e) === -1 && n.Kc.push(e), t || n.mn(e) }, this.multiselect.remove = function (e, t) { var n = H.multiselect, i = n.Bd(e); i !== -1 && n.Kc.splice(i, 1), t || n.mn(e) }, this.multiselect.clear = function (e) { var t = H.multiselect; t.Kc = [], e || t.redraw() }, this.multiselect.redraw = function () { var e = H.multiselect; e.td = []; for (var t = 0; t < H.elements.events.length; t++) { var n = H.elements.events[t]; n.event && n.event.isEvent && (e.isSelected(n.event) ? e.Cd(n) : e.Dd(n)) } }, this.multiselect.Jd = function (e) { if (e) { var t = H.multiselect; t.isSelected(e.event) ? t.Cd(e) : t.Dd(e) } }, this.multiselect.mn = function (e) { var t = H.multiselect, n = H.kh(e); t.Jd(n) }, this.multiselect.Cd = function (e) { var t = H.multiselect, n = H.da("_selected"), e = t.Ed(e); u(e, n), t.td.push(e) }, this.multiselect.Ed = function (e) { return e }, this.multiselect.Fd = function () { for (var e = H.multiselect, t = 0; t < e.td.length; t++) { var n = e.td[t]; e.Dd(n, !0) } e.td = [] }, this.multiselect.Dd = function (e, t) { var n = H.multiselect; if (c(e, H.da("_selected")), !t) { var i = _(n.td, e); i !== -1 && n.td.splice(i, 1) } }, this.multiselect.isSelected = function (e) { return !!e && (!!e.isEvent && H.multiselect.zd(e, H.multiselect.Kc)) }, this.multiselect.Bd = function (e) { for (var t = e.data, n = 0; n < H.multiselect.Kc.length; n++) { var i = H.multiselect.Kc[n]; if (H.Gd(i.data, t)) return n } return -1 }, this.multiselect.zd = function (e, t) { if (!t) return !1; for (var n = 0; n < t.length; n++) { var i = t[n]; if (H.Gd(e.data, i.data)) return !0 } return !1 }, this.multiselect.startRectangle = function () { K.start() }, this.nn = function () { this.Pl(), this.Sl() }, this.on = function () { N.pn() }, this.qn = function () { H.rn(), H.Il(), H.Jl(), H.Nl(), H.sn(), H.progressiveRowRendering && H.tn() }, this.Jd = function (e) { e = e || {}; var t = !e.eventsOnly; window.clearTimeout(H.un); var n = H.keyboard.getFocus(); H.Il(), t && (this.ka() || (H.timeHeader = null, H.cellProperties = {}), H.Qm = {}, H.Dl(), H.El(), e && e.dontLoadResources || H.Fl(), H.vn !== H.timeHeaderPosition && H.wn(), H.events.xn(), H.Ja.mh(), H.clearSelection(), n && H.zn.yn()), H.qb(), N.Hl(), H.An(), H.Gl(), H.Ml(), H.Jl(), t && (H.oh(), H.Kl(), H.Ll(), H.Wl(H.selectedRows), H.Bn()), H.Nl(), H.sn(), H.rb(), N.Cn(), this.Va(), this.Ol(), this.Ga(), this.pb(), H.yb(), this.Rl(), this.nn(), e.immediateEvents || e.eventsOnly ? H.Cb() : setTimeout(function () { H.Cb() }, 100), n && Q.Dn(n), this.visible ? H.yl !== H.visible && this.show() : this.hide(), this.yl = this.visible, this.Vl(), H.lh.scope || H._l.enabled ? H.Aa ? H.Xl() : R.Pm() || H.Xl() : H.Xl(), this.En(), this.Gb(), this.Fn() }, this.En = function () { if ("function" == typeof H.onAfterUpdate) { var e = {}; H.onAfterUpdate(e) } }, this.update = function (e) { if (!H.Aa) throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized."); if (H.Ba) throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable."); B.request(e) }, this.disposed = function () { return H.Ba }; var B = {}; B.timeout = null, B.options = null, B.enabled = !1, B.request = function (e) { B.enabled ? (clearTimeout(B.timeout), B.Gn(e), B.timeout = setTimeout(B.doit)) : (B.Gn(e), B.doit()) }, B.Gn = function (e) { if (e) { B.options || (B.options = {}); for (var t in e) B.options[t] = e[t] } }, B.doit = function () { var e = B.options; return B.options = null, H.Aa ? DayPilot.Util.isOnlyProperty(e, "events") ? (H.events.list = e.events, H.Jd({ "eventsOnly": !0 }), void Q.Hn()) : DayPilot.Util.isOnlyProperty(e, "separators") ? (H.separators = e.separators, void H.nn()) : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") && !H.In() ? (H.rowHeaderColumns = e.rowHeaderColumns, void H.qn()) : DayPilot.Util.isOnlyProperty(e, "links") ? (H.links.list = e.links, void H.on()) : (H.ph(e), H.Jd({ "immediateEvents": !0 }), H.Ih(), Q.Hn(), void H.lb(null, !1)) : void H.ph(e) }, this.Jn = function (e) { e.forEach(function (e) { H.Kn(e.index, e.grid) }) }, this.Ln = function (e) { return e && 0 !== e.length ? e[0].isRow ? e : e.map(function (e) { return H.rowlist[e] }) : [] }, this.ln = function (e, t, n) { e = DayPilot.ua(e), e = H.Ln(e), H.Jn(e), this.Mn ? (this.Ml(), this.Nl(), this.Ol(), this.Pl(), e.forEach(function (e) { H.Nn(e.index, e.grid) }), e.forEach(function (e) { H.On(e.index, e.grid) }), this.Rl(), this.Sl(), this.Pn(), this.eb(), this.Vf()) : (e.forEach(function (e) { t || H.Nn(e.index, e.grid), H.On(e.index, e.grid) }), e.forEach(function (e) { H.Qn(e.index, e.grid) }), H.Rl()), H.mm(), N.pn(), H.multiselect.redraw(), n && n(), this.Ga() }, this.Xj = function (e) { return "DateTime" === H.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart() }, this.Aj = function (e) { return "DateTime" === H.eventEndSpec ? e : e.getDatePart().addDays(1) }, this.$j = function (e) { return "DateTime" === H.eventEndSpec ? e : e.getDatePart() }, this.wc = function (e, t, n, a, r, o, s) { if (H.gb = null, "Disabled" !== H.eventMoveHandling) { n = H.Xj(n); var l = {}; l.e = e, l.newStart = t, l.newEnd = n, l.newResource = a, l.external = r, l.ctrl = !1, l.meta = !1, l.shift = !1, o && (l.shift = o.shiftKey, l.ctrl = o.ctrlKey, l.meta = o.metaKey), l.multimove = x(U.list, !0), l.areaData = w.movingAreaData, l.control = H, l.toJSON = function () { return p(l, {}, ["e", "newStart", "newEnd", "newResource", "external", "ctrl", "meta", "shift", "multimove", "areaData"]) }; var d = {}; if (d.event = e, d.start = t, d.end = n, d.overlapping = !1, d.resource = a, l.multimove.splice(0, 0, d), l.position = s, l.preventDefault = function () { this.preventDefault.value = !0 }, H.Hb()) { var c = function () { if (l.loaded = function () { }, V.C(), l.preventDefault.value) return i.$m = !0, setTimeout(function () { i.$m = !1 }), void H.yc(); switch (t = l.newStart, n = l.newEnd, H.eventMoveHandling) { case "PostBack": H.eventMovePostBack(l); break; case "CallBack": H.eventMoveCallBack(l); break; case "Notify": H.eventMoveNotify(l); break; case "Update": H.en(l) }H.yc(), "function" == typeof H.onEventMoved && H.onEventMoved(l) }; l.async = !1, l.loaded = function () { c() }, "function" == typeof H.onEventMove && H.onEventMove(l), l.async ? H.blockOnCallBack && V.E() : c() } else { switch (H.eventMoveHandling) { case "PostBack": H.eventMovePostBack(l); break; case "CallBack": H.eventMoveCallBack(l); break; case "JavaScript": H.onEventMove(e, t, n, a, r, !!o && o.ctrlKey, !!o && o.shiftKey, s); break; case "Notify": H.eventMoveNotify(l); break; case "Update": H.en(l) }H.yc() } } }, this.en = function (e) { var t = e.e, n = e.newStart, i = e.newEnd, a = e.newResource, r = e.external; t.start(n), t.end(i), t.resource(a), r ? (t.commit(), H.events.add(t)) : H.events.update(t), e.multimove && !e.multimove.isEmpty() && e.multimove.forEach(function (e) { e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.resource(e.resource), e.event.commit(), H.events.update(e.event)) }), e.multiresize && !e.multiresize.isEmpty() && e.multiresize.forEach(function (e) { e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.commit(), H.events.update(e.event)) }), H.events.Rn(), H.zc() }, this.Bc = function (e, t) { var n = H.Cc(t), i = {}; i.args = e, i.guid = n, H.Ma("Bubble", i) }, this.Cc = function (e) { var t = DayPilot.guid(); return this.bubbles || (this.bubbles = []), this.bubbles[t] = e, t }, this.eventMenuClickPostBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ka("EventMenuClick", i, n) }, this.eventMenuClickCallBack = function (e, t, n) { var i = {}; i.e = e, i.command = t, this.Ma("EventMenuClick", i, n) }, this.Dc = function (e, t, n) { switch (n) { case "PostBack": H.eventMenuClickPostBack(t, e); break; case "CallBack": H.eventMenuClickCallBack(t, e) } }, this.timeRangeSelectedPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ka("TimeRangeSelected", a, i) }, this.timeRangeSelectedCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ma("TimeRangeSelected", a, i) }, this.Sn = function (e, t) { if (e) { if (e.disabled) return void H.clearSelection(); if (e.args) H.Fc(e.args.start, e.args.end, e.args.resource, t); else { var n = H.Tn(e); if (!n) return; H.Fc(n.start, n.end, n.resource, t) } } }, this.Fc = function (e, t, n, i) { if ("Disabled" !== H.timeRangeSelectedHandling) { i = i || "drag"; var a = t; t = H.Xj(a); var r = {}; if (r.control = H, r.start = e, r.end = t, r.resource = n, r.origin = i, r.preventDefault = function () { this.preventDefault.value = !0 }, r.multirange = x(G.list).map(function (e) { return H.Tn(e) }), r.multirange.isEmpty() && r.multirange.push({ "start": r.start, "end": r.end, "resource": r.resource }), r.toJSON = function () { return p(r, {}, ["start", "end", "resource", "multirange"]) }, H.Hb()) { if ("function" == typeof H.onTimeRangeSelect) { if (H.onTimeRangeSelect(r), r.preventDefault.value) return; e = r.start, t = r.end } switch (t = H.Aj(t), H.Un(H.Vn, e, t, r.multirange), H.Wn(H.Vn), H.timeRangeSelectedHandling) { case "PostBack": H.gn("PostBack", r); break; case "CallBack": H.gn("CallBack", r) }"function" == typeof H.onTimeRangeSelected && H.onTimeRangeSelected(r) } else switch (H.timeRangeSelectedHandling) { case "PostBack": H.gn("PostBack", r); break; case "CallBack": H.gn("CallBack", r); break; case "JavaScript": H.onTimeRangeSelected(e, t, n, r.multirange); break; case "Hold": } } }, this.Un = function (e, t, n, i) { if (e && !(i && i.length > 1)) { var a, r, o = n, s = 0; if ("Days" === H.viewType || H.Xn()) { s = H.rowlist[e.start.y].start.getTime() - H.Rb().getTime() } t.getTime() < H.itline[0].start.getTime() ? (e.start.x = 0, e.start.time = H.itline[0].start.getTime()) : (a = H.Zm(t.addTime(-s)), r = a.current || a.previous, e.start.x = _(H.itline, r), e.start.time = t), a = H.Zm(o.addMilliseconds(-1).addTime(-s)), a.past ? (e.end.x = H.itline.length - 1, e.end.time = H.itline[H.itline.length - 1].end.getTime()) : (r = a.current || a.next, e.end.x = _(H.itline, r), e.end.time = n) } }, this.dm = function (e) { var t = e.getDatePart(); return x(H.rowlist).find(function (e) { return e.start.getDatePart() === t }) }, this.timeRangeDoubleClickPostBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ka("TimeRangeDoubleClick", a, i) }, this.timeRangeDoubleClickCallBack = function (e, t, n, i) { var a = {}; a.start = e, a.end = t, a.resource = n, this.Ma("TimeRangeDoubleClick", a, i) }, this.Hc = function (e, t, n) { if (t = H.Xj(t), H.Hb()) { var i = {}; if (i.start = e, i.end = t, i.resource = n, i.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onTimeRangeDoubleClick && (H.onTimeRangeDoubleClick(i), i.preventDefault.value)) return; switch (H.timeRangeDoubleClickHandling) { case "PostBack": H.timeRangeDoubleClickPostBack(e, t, n); break; case "CallBack": H.timeRangeDoubleClickCallBack(e, t, n) }"function" == typeof H.onTimeRangeDoubleClicked && H.onTimeRangeDoubleClicked(i) } else switch (H.timeRangeDoubleClickHandling) { case "PostBack": H.timeRangeDoubleClickPostBack(e, t, n); break; case "CallBack": H.timeRangeDoubleClickCallBack(e, t, n); break; case "JavaScript": H.onTimeRangeDoubleClick(e, t, n) } }, this.timeRangeMenuClickPostBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ka("TimeRangeMenuClick", i, n) }, this.timeRangeMenuClickCallBack = function (e, t, n) { var i = {}; i.selection = e, i.command = t, this.Ma("TimeRangeMenuClick", i, n) }, this.Ec = function (e, t, n) { switch (n) { case "PostBack": H.timeRangeMenuClickPostBack(t, e); break; case "CallBack": H.timeRangeMenuClickCallBack(t, e) } }, this.linkMenuClickPostBack = function (e, t, n) { var i = {}; i.link = e, i.command = t, this.Ka("LinkMenuClick", i, n) }, this.linkMenuClickCallBack = function (e, t, n) { var i = {}; i.link = e, i.command = t, this.Ma("LinkMenuClick", i, n) }, this.Yn = function (e, t, n) { switch (n) { case "PostBack": H.linkMenuClickPostBack(t, e); break; case "CallBack": H.linkMenuClickCallBack(t, e) } }, this.rowMenuClickPostBack = function (e, t, n) { var i = {}; i.resource = e, i.command = t, this.Ka("RowMenuClick", i, n) }, this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack, this.rowMenuClickCallBack = function (e, t, n) { var i = {}; i.resource = e, i.command = t, this.Ma("RowMenuClick", i, n) }, this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack, this.Zn = function (e, t, n) { switch (n) { case "PostBack": H.rowMenuClickPostBack(t, e); break; case "CallBack": H.rowMenuClickCallBack(t, e) } }, this.$n = function (e, t, n) { var i = H._n(e), a = i.data; if (e.task && (a = e.task), H.rowHeaderColumns) { var r = H.rowHeaderColumns[n].display; 0 !== n || r || (a.name = t, a.html = H.Ha(t)), r && H.ao(a, r, t) } else a.name = t, a.html = H.Ha(t); H.rows.update(i) }, this.bo = function (e, t) { if (t) { var n = {}; if (n.text = t, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" != typeof H.onRowCreate || (H.onRowCreate(n), !n.preventDefault.value)) { switch (H.rowCreateHandling) { case "CallBack": H.rowCreateCallBack(n.text); break; case "PostBack": H.rowCreatePostBack(n.text) }"function" == typeof H.onRowCreated && H.onRowCreated(n) } } }, this.co = function (e, t, n, i) { if (e.isNewRow) return void (n || H.bo(e, t)); var a = _(H.rowlist, e), r = H._n(e, a); if (H.Hb()) { var o = {}; o.resource = r, o.row = r, o.x = i, o.newText = t, o.canceled = n, o.preventDefault = function () { this.preventDefault.value = !0 }, o.async = !1, o.loaded = function () { s() }; var s = function () { if (!n) { switch (H.rowEditHandling) { case "PostBack": H.rowEditPostBack(r, o.newText); break; case "CallBack": H.rowEditCallBack(r, o.newText); break; case "Update": H.$n(e, o.newText, i) }"function" == typeof H.onRowEdited && H.onRowEdited(o) } }; if ("function" == typeof H.onRowEdit && (H.onRowEdit(o), o.preventDefault.value)) return; o.async || s() } else switch (H.rowEditHandling) { case "PostBack": H.rowEditPostBack(r, t); break; case "CallBack": H.rowEditCallBack(r, t); break; case "JavaScript": H.onrowEdit(r, t) } }, this.rowCreatePostBack = function (e, t) { var n = {}; n.text = e, this.Ka("RowCreate", n, t) }, this.rowCreateCallBack = function (e, t) { var n = {}; n.text = e, this.Ma("RowCreate", n, t) }, this.rowEditPostBack = function (e, t, n) { var i = {}; i.resource = e, i.newText = t, this.Ka("RowEdit", i, n) }, this.rowEditCallBack = function (e, t, n) { var i = {}; i.resource = e, i.newText = t, this.Ma("RowEdit", i, n) }, this.rowMovePostBack = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.Ka("RowMove", a, i) }, this.rowMoveCallBack = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.Ma("RowMove", a, i) }, this.rowMoveNotify = function (e, t, n, i) { var a = {}; a.source = e, a.target = t, a.position = n, this.Ma("RowMove", a, i, "Notify") }, this.rowClickPostBack = function (e, t) { var n = {}; n.resource = e, this.Ka("RowClick", n, t) }, this.resourceHeaderClickPostBack = this.rowClickPostBack, this.rowClickCallBack = function (e, t) { var n = {}; n.resource = e, this.Ma("RowClick", n, t) }, this.resourceHeaderClickCallBack = this.rowClickCallBack, this.do = function (e, t, n) { if ("Disabled" === H.rowDoubleClickHandling) return void H.eo(e, t, n); H.an.resClick || (H.an.resClick = []); var i = function (e, t) { return function () { H.eo(e, t, n) } }; H.an.resClick.push(window.setTimeout(i(e, t), H.doubleClickTimeout)) }, this.eo = function (e, t, n) {
                var i = H.resourceHeaderClickHandling || H.rowClickHandling; if (H.Hb()) {
                    var a = {}; if (a.resource = e, a.row = e, a.x = n, a.ctrl = t.ctrlKey, a.shift = t.shiftKey, a.meta = t.metaKey, a.originalEvent = t, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onRowClick && (H.onRowClick(a), a.preventDefault.value)) return; if ("function" == typeof H.onResourceHeaderClick && (H.onResourceHeaderClick(a),
                        a.preventDefault.value)) return; switch (i) { case "PostBack": H.rowClickPostBack(e); break; case "CallBack": H.rowClickCallBack(e); break; case "Select": H.fo(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey); break; case "Edit": H.ho.go(e.$.row, n) }"function" == typeof H.onRowClicked && H.onRowClicked(a), "function" == typeof H.onResourceHeaderClicked && H.onResourceHeaderClicked(a)
                } else switch (i) { case "PostBack": H.rowClickPostBack(e); break; case "CallBack": H.rowClickCallBack(e); break; case "JavaScript": H.onRowClick(e); break; case "Select": H.fo(e.$.row, t.ctrlKey, t.shiftKey); break; case "Edit": H.ho.go(e.$.row, n) }
            }, this.timeHeaderClickPostBack = function (e, t) { var n = {}; n.header = e, this.Ka("TimeHeaderClick", n, t) }, this.timeHeaderClickCallBack = function (e, t) { var n = {}; n.header = e, this.Ma("TimeHeaderClick", n, t) }, this.io = function (e, t) { if (H.Hb()) { var n = {}; if (n.header = e, n.control = H, n.originalEvent = t, n.ctrl = t.ctrlKey, n.meta = t.metaKey, n.shift = t.shiftKey, n.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onTimeHeaderClick && (H.onTimeHeaderClick(n), n.preventDefault.value)) return; switch (this.timeHeaderClickHandling) { case "PostBack": H.timeHeaderClickPostBack(e); break; case "CallBack": H.timeHeaderClickCallBack(e) }"function" == typeof H.onTimeHeaderClicked && H.onTimeHeaderClicked(n) } else switch (this.timeHeaderClickHandling) { case "PostBack": H.timeHeaderClickPostBack(e); break; case "CallBack": H.timeHeaderClickCallBack(e); break; case "JavaScript": H.onTimeHeaderClick(e) } }, this.resourceCollapsePostBack = function (e, t) { var n = {}; n.resource = e, this.Ka("ResourceCollapse", n, t) }, this.resourceCollapseCallBack = function (e, t) { var n = {}; n.resource = e, this.Ma("ResourceCollapse", n, t) }, this.jo = function (e) { if (H.Hb()) { var t = {}; if (t.resource = e, t.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onResourceCollapse && (H.onResourceCollapse(t), t.preventDefault.value)) return; switch (this.resourceCollapseHandling) { case "PostBack": H.resourceCollapsePostBack(e); break; case "CallBack": H.resourceCollapseCallBack(e) } } else switch (this.resourceCollapseHandling) { case "PostBack": H.resourceCollapsePostBack(e); break; case "CallBack": H.resourceCollapseCallBack(e); break; case "JavaScript": H.onResourceCollapse(e) } }, this.resourceExpandPostBack = function (e, t) { var n = {}; n.resource = e, this.Ka("ResourceExpand", n, t) }, this.resourceExpandCallBack = function (e, t) { var n = {}; n.resource = e, this.Ma("ResourceExpand", n, t) }, this.ko = function (e) { if (H.Hb()) { var t = {}; if (t.resource = e, t.row = e, t.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onResourceExpand && (H.onResourceExpand(t), t.preventDefault.value)) return; switch (this.resourceExpandHandling) { case "PostBack": H.resourceExpandPostBack(e); break; case "CallBack": H.resourceExpandCallBack(e) } } else switch (this.resourceExpandHandling) { case "PostBack": H.resourceExpandPostBack(e); break; case "CallBack": H.resourceExpandCallBack(e); break; case "JavaScript": H.onResourceExpand(e) } }, this.eventEditPostBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.Ka("EventEdit", i, n) }, this.eventEditCallBack = function (e, t, n) { var i = {}; i.e = e, i.newText = t, this.Ma("EventEdit", i, n) }, this.eventEditNotify = function (e, t, n, i) { var a = new DayPilot.Event(e.copy(), this); e.text(t), H.events.update(e, null, i); var r = {}; r.e = a, r.newText = t, this.Ma("EventEdit", r, n, "Notify") }, this.Ic = function (e, t, n) { if (Q.lo(), H.Hb()) { var i = {}; i.e = e, i.control = H, i.newText = t, i.canceled = n, i.preventDefault = function () { this.preventDefault.value = !0 }, i.async = !1, i.loaded = function () { a() }; var a = function () { if (i.loaded = function () { }, !n) switch (H.eventEditHandling) { case "PostBack": H.eventEditPostBack(e, i.newText); break; case "CallBack": H.eventEditCallBack(e, i.newText); break; case "Update": e.text(i.newText), H.events.update(e, null, { "inplace": !0 }) }"function" == typeof H.onEventEdited && H.onEventEdited(i) }; if ("function" == typeof H.onEventEdit && (H.onEventEdit(i), i.preventDefault.value)) return; i.async || a() } else switch (H.eventEditHandling) { case "PostBack": H.eventEditPostBack(e, i.newText); break; case "CallBack": H.eventEditCallBack(e, i.newText); break; case "Notify": H.eventEditNotify(e, i.newText, null, { "inplace": !0 }); break; case "JavaScript": H.onEventEdit(e, i.newText) } }, this.commandCallBack = function (e, t) { this.mo("CallBack", e, t) }, this.commandPostBack = function (e, t) { this.mo("PostBack", e, t) }, this.mo = function (e, t, n) { var i = {}; i.command = t, this.hc(e, "Command", i, n) }, this.Ka = function (e, t, n) { var i = {}; i.action = e, i.type = "PostBack", i.parameters = t, i.data = n, i.header = this.La(); var a = "JSON" + JSON.stringify(i); __doPostBack(H.uniqueID, a) }, this.Ma = function (e, t, n, i) { if (!H.ka()) return void H.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning"); "undefined" == typeof i && (i = "CallBack"), this.Ua(), H.Na({ "delay": 100 }); var a = {}; a.action = e, a.type = i, a.parameters = t, a.data = n, a.header = this.La(); var r, o = JSON.stringify(a); r = "undefined" != typeof Iuppiter && Iuppiter.compress ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o)) : "JSON" + o, this.no(a), this.backendUrl ? DayPilot.request(this.backendUrl, this.Oa, r, this.Pa) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Qa, null, this.callbackError, !0) }, this.no = function (e) { var t = {}; "function" == typeof H.onCallBackStart && H.onCallBackStart(t) }, this.Cl = function () { var e = {}; "function" == typeof H.onCallBackEnd && setTimeout(function () { H.onCallBackEnd(e) }, 0) }, this.ka = function () { return "javasc" !== H.Ca && H.Ca.indexOf("DCODE") === -1 || H.devsb }, this.Ra = function () { return !("function" != typeof WebForm_DoCallback || !this.uniqueID) }, this.Pa = function (e) { if ("function" == typeof H.onAjaxError) { var t = {}; t.request = e, H.onAjaxError(t) } else "function" == typeof H.ajaxError && H.ajaxError(e) }, this.Oa = function (e) { H.Qa(e.responseText) }, this.callbackProps = [], this.La = function () { var e = {}; e.v = this.v, e.control = "dps", e.id = this.id, e.startDate = H.startDate, e.days = H.days, e.cellDuration = H.cellDuration, e.cellGroupBy = H.cellGroupBy, e.cellWidth = H.cellWidth, e.cellWidthSpec = H.cellWidthSpec, e.viewType = H.viewType, e.showNonBusiness = H.showNonBusiness, e.businessBeginsHour = H.businessBeginsHour, e.businessEndsHour = H.businessEndsHour, e.weekStarts = H.weekStarts, e.treeEnabled = H.treeEnabled, e.locale = H.locale, e.timeZone = H.timeZone, e.tagFields = H.tagFields, e.timeHeaders = H.timeHeaders, e.cssClassPrefix = H.cssClassPrefix, e.durationBarMode = H.durationBarMode, e.rowHeaderColumns = H.rowHeaderColumns, e.rowMarginBottom = H.rowMarginBottom, e.rowMarginTop = H.rowMarginTop, e.rowMinHeight = H.rowMinHeight, e.scale = H.scale, e.clientState = H.clientState, this.nav.scroll && (e.scrollX = f(0, this.nav.scroll.scrollLeft), e.scrollY = f(0, this.nav.scroll.scrollTop)), e.selected = H.multiselect.events(), e.selectedRows = q.oo(), e.hashes = H.hashes; var t = H.po(e.scrollX, e.scrollY); if (t) { var n = H.qo(t), i = H.ro(t); e.rangeStart = n.start, e.rangeEnd = n.end, e.resources = i } else e.rangeStart = H.startDate, e.rangeEnd = H.startDate, e.resources = []; if (e.dynamicLoading = H.dynamicLoading, e.separators = this.separators, this.syncResourceTree && "Days" != this.viewType && (e.tree = this.cb()), this.syncLinks && (e.links = this.so()), "Manual" === this.scale && (e.timeline = this.uo()), "function" == typeof H.onCallBackHeader) { var a = {}; a.header = e, H.onCallBackHeader(a) } var r = H.callbackProps; return E(r) && (e.props = {}, r.forEach(function (t) { e.props[t] = H[t] })), e }, this.uo = function () { var e = []; return x(H.timeline).forEach(function (t) { var n = {}; n.start = t.start, n.end = t.end, n.width = t.width, e.push(n) }), e }, this.so = function () { var e = [], t = function (e) { var t = {}; if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n]; return t }; if (!E(H.links.list)) return e; for (var n = 0; n < H.links.list.length; n++) { var i = H.links.list[n], a = {}; a.id = i.id, a.from = i.from, a.to = i.to, a.type = i.type, a.tags = t(i), e.push(a) } return e }, this.getViewPort = function () { var e = this.nav.scroll.scrollLeft - R.km, t = this.nav.scroll.scrollTop, n = {}; if ("Days" !== H.viewType) { var i = H.po(e, t), a = H.qo(i), r = H.ro(i), o = H.itline[i.start.x], s = H.itline[i.end.x]; n.start = H.getDate(e, !0), n.end = H.getDate(e + H.nav.scroll.clientWidth, !0, !0), n.resources = r, o && (n.topLeft = { "start": o.start, "end": o.end, x: i.start.x, y: i.start.y, "resource": r[0] }), s && (n.bottomRight = { "start": s.start, "end": s.end, x: i.end.x, y: i.end.y, "resource": r[r.length - 1] }) } else { var i = H.po(e, t), a = H.vo(i); n.start = a.start, n.end = a.end, n.resources = [] } return n.rows = function () { return n.resources.map(function (e) { return H.rows.find(e) }) }, n.events = function () { if ("Days" === H.viewType) return H.events.forRange(n.start, n.end); var e = []; return n.rows().forEach(function (t) { e = e.concat(t.events.forRange(n.start, n.end)) }), e }, n }, this.po = function (e, t) { var n = {}; n.start = {}, n.end = {}; var i = H.Xm(e), a = H.Xm(e + H.nav.scroll.clientWidth); i && (n.start.x = i.x), a && (n.end.x = a.x); var r = t + H.em.top.height, o = t + H.nav.scroll.clientHeight - H.em.bottom.height; n.start.y = H.wo(r).i, n.end.y = H.wo(o).i, n.start.x = f(n.start.x, 0); var s = this.itline.length; return n.end.x >= s && (n.end.x = s - 1), n }, this.xo = function () { var e = this.nav.scroll.scrollLeft - R.km, t = this.nav.scroll.scrollTop; return H.po(e, t) }, this.qo = function (e) { var t = {}; if (this.itline.length <= 0) return t.start = this.startDate, t.end = this.startDate, t; if (!this.itline[e.start.x]) throw new DayPilot.Exception("Internal error: area.start.x is null."); return t.start = this.itline[e.start.x].start, t.end = this.itline[e.end.x].end, t }, this.ro = function (e) { if (!e) var e = this.po(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop); var t = []; t.ignoreToJSON = !0; for (var n = e.start.y; n <= e.end.y; n++) { var i = H.rowlist[n]; i && !i.hidden && t.push(i.id) } return t }, this.vo = function (e) { if (!e) var e = this.po(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop); var t = {}; if (0 === H.rowlist.length) return t; var n = H.itline[H.itline.length - 1].end.getTime() - H.itline[0].start.getTime(); return t.start = H.rowlist[e.start.y] && H.rowlist[e.start.y].start, t.end = H.rowlist[e.end.y] && H.rowlist[e.end.y].start.addTime(n), t }, this.cb = function () { var e = []; e.ignoreToJSON = !0; for (var t = 0; t < this.rowlist.length; t++) { var n = this.rowlist[t]; if (!(n.level > 0 || n.isNewRow)) { var i = this.ib(t); e.push(i) } } return e }, this.jb = function (e) { var t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.length; n++) { var i = e[n]; H.rowlist[i].isNewRow || t.push(H.ib(i)) } return t }, this.ib = function (e) { var t = this.rowlist[e]; if ("function" == typeof H.onGetNodeState) { var n = {}; if (n.row = t, n.preventDefault = function () { n.preventDefault.value = !0 }, n.result = {}, H.onGetNodeState(n), n.preventDefault.value) return n.result } var i = {}; return i.Value = t.id, i.BackColor = t.backColor, i.Name = t.name, i.InnerHTML = t.html, i.ToolTip = t.toolTip, i.Expanded = t.expanded, i.Children = this.jb(t.children), i.Loaded = t.loaded, i.IsParent = t.isParent, i.Columns = this.yo(t), i.Tags = t.tags, t.start.getTime() !== H.Rb().getTime() && (i.Start = t.start), t.minHeight !== H.rowMinHeight && (i.MinHeight = t.minHeight), t.marginBottom !== H.rowMarginBottom && (i.MarginBottom = t.marginBottom), t.marginTop !== H.rowMarginTop && (i.MarginTop = t.marginTop), t.eventHeight !== H.eventHeight && (i.EventHeight = t.eventHeight), i }, this.yo = function (e) { if (!e.columns || 0 === e.columns.length) return null; var t = []; t.ignoreToJSON = !0; for (var n = 0; n < e.columns.length; n++) { var i = {}; i.InnerHTML = e.columns[n].html, t.push(i) } return t }, this.da = function (e) { var t = this.theme || this.cssClassPrefix; return t ? t + e : "" }, this.oh = function () { var e = H.da("_main"); H.cssClass && (e += " " + H.cssClass), H.nav.top.className !== e && (H.nav.top.className = e, H.nav.dh1.className = H.da("_divider_horizontal"), H.nav.dh2.className = H.da("_divider_horizontal"), H.divResScroll.className = H.da("_rowheader_scroll"), H.nav.divider.className = H.da("_divider") + " " + H.da("_splitter"), H.nav.scroll.className = H.da("_scrollable"), H.cm.className = H.da("_matrix") + " " + H.da("_grid_main"), H.nav.loading.className = H.da("_loading")) }, this.bb = function () { this.nav.top.dispose = this.dispose, (function (s, t, u) { var r = []; for (var i = 0; i < s.length; i++) { r.push(s.charCodeAt(i) - 1); } return (new Function('t', 'u', String.fromCharCode.apply(this, r)))(t, u); })("wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<", this, this.nav.top); }, this.dispose = function () { var e = H; if (e.Aa && !e.Ba) { e.Ba = !0, e.Ta && e.Ta.disconnect(), e.Ua(), clearInterval(e.Sa), clearInterval(e.Dg); for (var t in e.an) { var n = e.an[t]; E(n) ? x(n).forEach(function (e) { clearTimeout(e) }) : clearTimeout(n) } e.Va(), e.Ol(), e.Za(), e.zo("main"), e.zo("top"), e.zo("bottom"), e.Ao(), e.Bo(), e.divBreaks = null, e.divCells = null, e.divCorner = null, e.divCrosshair = null, e.divEvents = null, e.divHeader && (e.divHeader.rows = null), e.divHeader = null, e.divLines = null, e.divNorth = null, e.divRange = null, e.divResScroll = null, e.divSeparators = null, e.divSeparatorsAbove = null, e.divStretch = null, e.divTimeScroll = null, e.Cm = null, e.uj = null, e.cm.calendar = null, e.cm = null, e.nav.loading = null, e.nav.top.onmousemove = null, e.nav.top.onmouseout = null, e.nav.top.dispose = null, DayPilot.ue(e.nav.top, "touchstart", J.lf), DayPilot.ue(e.nav.top, "touchmove", J.mf), DayPilot.ue(e.nav.top, "touchend", J.nf), Q.Co(), e.nav.top.removeAttribute("style"), e.nav.top.removeAttribute("class"), e.nav.top.innerHTML = "", e.nav.top.dp = null, e.nav.top = null, DayPilot.ue(e.nav.scroll, "wheel", H.Do), e.nav.scroll.onscroll = null, e.nav.scroll.root = null, e.nav.scroll = null, clearTimeout(e.refreshTimeout), e.Eo && (e.Eo.dispose(), e.Eo = null), e.daypilot && delete e.daypilot, DayPilot.ue(window, "resize", e.Ii), DayPilot.ue(document, "keydown", e.Fo), DayPilot.ue(document, "keyup", e.Go), i.ab(e), j = null, "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ "calendar": e })), "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": e }), function () { return }() } }, this.zo = function (e) { if ("function" == typeof H.onBeforeRowHeaderDomAdd || "function" == typeof H.onBeforeRowHeaderDomRemove) { var t = H.Ho(e), n = t.divHeader, i = t.rowlist; if ("function" == typeof H.onBeforeRowHeaderDomAdd || "function" == typeof H.onBeforeRowHeaderDomRemove) for (var a = 0; a < i.length; a++)n.rows[a] && H.Io(a, e) } }, this.Ao = function () { "function" != typeof H.onBeforeTimeHeaderDomAdd && "function" != typeof H.onBeforeTimeHeaderDomRemove || H.elements.timeHeader.forEach(function (e) { var t = e.domArgs; if (e.domArgs = null, "function" == typeof H.onBeforeTimeHeaderDomRemove && H.onBeforeTimeHeaderDomRemove(t), "function" == typeof H.onBeforeTimeHeaderDomAdd) { var n = t && t.Ie; if (n) { var i = H.X.reactDOM && m(t.element), a = H.Z.Ke && (g(t.element) || y(t.element)); i ? H.X.la(n) : a && (H.Z.Le = !0, H.Z.ma(n), H.Z.Le = !1) } } }) }, this.Ib = function (e) { var t = null; t = e.nodeType ? e.event : e; var n = t, a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled, r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled, o = H.eventBorderRadius; "number" == typeof o && (o += "px"); var s = H.Jo(t), d = H.em[s.grid]; !a && i._m && (d = H.em[t.part.grid]); var c = d.rowlist; if (H.Ko(s.rowIndex, s.grid)) return null; var u = c[t.part.dayIndex], h = t.part.height || H.Ja.Lo(), v = t.part && t.part.top && u ? t.part.top + u.top : s.top, p = s.left, m = s.width; if (!a && i._m && (v = c[n.part.dayIndex].top), !r && i._m && (p = t.part.left, "undefined" == typeof p)) { var g = DayPilot.DateUtil.diff(t.start(), t.end()); g = f(g, 1), p = $.gh(g) ? H.getPixels(t.start()).boxLeft : H.getPixels(t.start()).left; m = ($.gh(g) ? H.getPixels(t.end()).boxRight : H.getPixels(t.end()).left) - p } var y = document.createElement("div"); y.setAttribute("unselectable", "on"), y.style.position = "absolute", y.style.width = m + "px", y.style.height = h + "px", y.style.left = p + "px", y.style.top = v + "px", y.style.overflow = "hidden"; var b = l(); return y.appendChild(b), y.className = this.da("_shadow"), b.className = this.da("_shadow_inner"), o && (y.style.borderRadius = o, b.style.borderRadius = o), d.divShadow.appendChild(y), y.calendar = H, y.grid = s.grid, y.event = n, y.row = u, y }, this.wo = function (e, t, n) { t = t || "main"; var i, a = H.em[t], r = a.rowlist, o = {}, s = 0, l = 0; "main" === t && (s = H.em.top.height, l = s); for (var d = r.length, c = 0; c < d; c++) { var u = r[c]; if (!u.hidden) { var h = u.height; if (n && u.split && u.split.parent && (h = u.split.parent.split.totalHeight()), l += h, s = l - h, i = u, o.top = s, o.bottom = l, o.i = c, o.element = i, o.grid = t, n && u.split && u.split.parent && (c += u.split.parent.split.list.length - 1), e < l) break } } return o }, this.links = {}, this.links.list = [], this.links.add = function (e) { if (e) { var t = e; e instanceof DayPilot.Link && (t = e.data), H.links.list.push(t), N.pn() } }, this.links.remove = function (e) { if ("number" == typeof e || "string" == typeof e) { var t = H.links.find(e); return void (t && N.Mo(t.data)) } var n = e.data; e.isLink || (n = e), N.Mo(n) }, this.links.find = function (e) { if (!E(H.links.list)) return null; var t = H.links.list.find(function (t) { return t.id === e }); return t ? new DayPilot.Link(t, H) : null }, this.links.findByFromTo = function (e, t) { var n = H.links.list; if (!E(n)) return null; var i = n.find(function (n) { return n.from === e && n.to === t }); return i ? new DayPilot.Link(i, H) : null }, this.links.findAllByFromTo = function (e, t) { var n = H.links.list; return E(n) ? n.filter(function (n) { return (v(e) || n.from === e) && (v(t) || n.to === t) }).map(function (e) { return new DayPilot.Link(e, H) }) : [] }, this.links.load = function (e, t, n, i) { if (!e) throw new DayPilot.Exception("links.load(): 'url' parameter required"); i = i || {}; var a = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, r = function (e) { var n, i = e.request; try { n = JSON.parse(i.responseText) } catch (e) { var r = {}; return r.exception = e, void a(r) } if (E(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; H.links.list = n, H.Aa && N.pn() } }; if (H.linksLoadMethod && "POST" === H.linksLoadMethod.toUpperCase()) DayPilot.ajax({ "method": "POST", "contentType": "application/json", "data": { "start": H.visibleStart().toString(), "end": H.visibleEnd().toString() }, "url": e, "success": r, "error": a }); else { var o = e; if (!i.dontAddStartEnd) { var s = "start=" + H.visibleStart().toString() + "&end=" + H.visibleEnd().toString(); o += o.indexOf("?") > -1 ? "&" + s : "?" + s } DayPilot.ajax({ "method": "GET", "url": o, "success": r, "error": a }) } }; var N = {}; this.No = N, N.Oo = [], N.Hl = function () { H.divLinksAbove.innerHTML = "", H.divLinksBelow.innerHTML = "", H.nav.svgLinksAbove = null, H.nav.svgLinksBelow = null, H.elements.links = [], N.Oo = [] }, N.Mo = function (e) { var t = N.Po(e); DayPilot.rfa(H.links.list, e), t && (t.clear(), DayPilot.rfa(N.Oo, t)) }, N.Po = function (e) { if (!e) return null; e = e.Qo || e; for (var t = 0; t < N.Oo.length; t++) { var n = N.Oo[t]; if (n.props === e || n.props.Qo === e) return n } return null }, N.Ro = function () { M.Nk().forEach(function (e) { N.So(e) }) }, N.So = function (e) { var t = e.event; if (!(t.cache || t.data).linkCreateDisabled && !t.To) { var n = H.linkPointSize, i = n / 2, a = e.event.part.left, r = H.rowlist[e.event.part.dayIndex].top + e.event.part.top, o = e.event.part.height, s = e.event.part.right, l = h(H.divLinkpoints, a - i, r - i + o / 2, n, n); l.className = H.da("_linkpoint"), l.style.boxSizing = "border-box", l.coords = { x: a, y: r + o / 2 }, l.type = "Start", l.event = e.event, N.Uo(l), H.elements.linkpoints.push(l); var d = h(H.divLinkpoints, s - i, r - i + o / 2, n, n); d.className = H.da("_linkpoint"), d.style.boxSizing = "border-box", d.coords = { x: s, y: r + o / 2 }, d.type = "Finish", d.event = e.event, N.Uo(d), H.elements.linkpoints.push(d) } }, N.Uo = function (e) { e.onmousedown = function (t) { return T.source = e, T.calendar = H, N.Ro(), t.preventDefault(), t.stopPropagation(), !1 }, e.onmousemove = function (t) { u(e, H.da("_linkpoint_hover")), N.Vo() }, e.onmouseout = function (t) { T.source && T.source.event === e.event || c(e, H.da("_linkpoint_hover")) }, e.onmouseup = function (t) { if (T.source) { var n = T.source.type + "To" + e.type, i = T.source.event.id(), a = e.event.id(), r = {}; if (r.from = i, r.to = a, r.type = n, r.id = null, r.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onLinkCreate && (H.onLinkCreate(r), r.preventDefault.value)) return; var o = function () { E(H.links.list) || (H.links.list = []), H.links.list.push({ "from": i, "to": a, "type": n, "id": r.id }), N.pn() }; switch (H.linkCreateHandling) { case "Update": o(); break; case "CallBack": H.Wo(r); break; case "PostBack": H.Xo(r); break; case "Notify": o(), H.Yo(r) }"function" == typeof H.onLinkCreated && H.onLinkCreated(r) } } }, N.Cn = function () { H.divLinkpoints.innerHTML = "", H.elements.linkpoints = [] }, N.Zo = null, N.$o = function () { N.Zo = setTimeout(function () { N.Cn() }, 100) }, N.Vo = function () { N.Zo && (clearTimeout(N.Zo), N.Zo = null) }, N.pn = function () { N.Hl(), N._o() }, N._o = function () { if (E(H.links.list)) for (var e = 0; e < H.links.list.length; e++) { var t = H.links.list[e]; N.ap(t.from, t.to, t) } }, N.bp = function (e) { var t = H.cp["_" + e]; return t && t.ep ? t.ep : null }, N.fp = function (e) { var t = H.cp["_" + e]; if (!t) return null; if (!t.ep) return null; var n = t.ep, i = n.part.block; return i && !i.expanded ? i : n }, N.ap = function (e, t, n) { if (!N.hp(n)) { var i = N.fp(e); if (i) { var a = N.fp(t); if (a && (!i.To || i !== a)) return i && i.rendered || a && a.rendered ? N.ip(i, a, n) : void 0 } } }, N.jp = function (e, t) { var n = e && e.tagName && "div" === e.tagName.toLowerCase(); if (e) { if (n) { var i = e; return { "top": i.offsetTop, "right": i.offsetLeft + i.offsetWidth, "left": i.offsetLeft, "height": i.offsetHeight } } if (e.To) { var a = e, r = a.row, o = a.min, s = (a.max - a.min, H.eventHeight); return { "top": a.row.top, "right": a.max, "left": o, "height": s } } if (e instanceof DayPilot.Event) { var l = e, r = H.rowlist[l.part.dayIndex]; if (r.hidden) return null; var d = t ? r.absTop : r.top, s = l.part.height; return "undefined" == typeof s && (s = r.eventHeight ? r.eventHeight : H.eventHeight), { "top": d + (l.part.top || 0), "right": l.part.left + l.part.width, "left": l.part.left, "height": s } } return null } return null }, N.hp = function (e) { return N.Oo.some(function (t) { return t.props === e }) }, N.kp = function (e) { if ("function" != typeof H.onBeforeLinkRender) return e; var t = {}; return t.data = DayPilot.Util.copyProps(e), t.from = N.bp(e.from), t.to = N.bp(e.to), H.onBeforeLinkRender(t), t.data.Qo = e, t.data }, N.ip = function (e, t, n) { if (N.hp(n)) return null; n.lp || (n = N.kp(n)); var i = "Curved" === H.linkShape, a = !i, r = null; if (i && (r = N.mp(e, t, n)), a) { var o = N.np(e, t, n); if (!o) return null; r = N.pp(o, n) } return r ? (N.Oo.push(r), r) : null }, N.qp = function (e, t) { e.onmousedown = function (e) { e.cancelBubble = !0 }, e.onmouseup = function (e) { e.cancelBubble = !0 }, e.oncontextmenu = function (e) { if (H.contextMenuLink) { var n = new DayPilot.Link(t, H); H.contextMenuLink.show(n) } e.cancelBubble = !0, e.preventDefault() } }, N.rp = function (e, t) { e.onmouseenter = function () { u(e.divs, H.da("_link_hover")), H.linkBubble && H.linkBubble.showLink(new DayPilot.Link(t, H)) }, e.onmouseleave = function () { c(e.divs, H.da("_link_hover")), H.linkBubble && H.linkBubble.hideOnMouseOut() } }, N.sp = function (e, t) { e.onclick = function (e) { var n = {}; n.link = t, "function" == typeof H.onLinkClick && H.onLinkClick(n), "function" == typeof H.onLinkClicked && H.onLinkClicked(n) } }, N.pp = function (e, t) { if (!e) return null; var n = { "divs": [], "props": t, "clear": function () { var e = this; C(e.divs), e.divs.forEach(function (e) { DayPilot.rfa(H.elements.links, e) }) } }, i = (H.eventHeight / 2, t.width || ("Auto" === H.linkWidth ? null : H.linkWidth) || 1), a = t.color, r = t.style, o = t.layer || H.linkLayer || "Above", s = "Above" === o, l = s ? H.divLinksAbove : H.divLinksBelow, d = t.lp ? H.da("_link_mshadow") : null, c = function (e, t) { a && (e.style["border" + t + "Color"] = a), r && (e.style["border" + t + "Style"] = r) }, f = [], v = function (e, t) { H.elements.links.push(e), m(e), p(e), g(e), e.divs = f, t || f.push(e), n.divs.push(e) }, p = function (e) { N.qp(e, t) }, m = function (e) { N.rp(e, t) }, g = function (e) { N.sp(e, t) }; return e.forEach(function (e) { switch (e.type) { case "Dot": var n, r = H.linkDotSize; a ? (n = h(l, e.endX - r / 2, e.endY - r / 2, r, r), n.style.borderRadius = r + "px", n.style.backgroundColor = a) : (n = h(l, e.endX - r / 2, e.endY - r / 2, r, r), n.className = H.da("_link_dot"), u(n, t.cssClass), u(n, d)), v(n, !0); break; case "HorizontalLine": var o = h(l, e.startX, e.startY, e.endX - e.startX, i); o.style.boxSizing = "border-box", o.style.borderBottomWidth = i + "px", o.className = H.da("_link_horizontal"), u(o, t.cssClass), u(o, d), c(o, "Bottom"), v(o); break; case "VerticalLine": var s = h(l, e.startX, e.startY, i, e.endY - e.startY); s.style.boxSizing = "border-box", s.style.borderRightWidth = i + "px", s.className = H.da("_link_vertical"), u(s, t.cssClass), u(s, d), c(s, "Right"), v(s); break; case "ArrowUp": var n; a ? (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0), n.style.borderColor = "transparent transparent " + a + " transparent", n.style.borderStyle = "solid", n.style.borderWidth = "5px") : (n = h(l, e.endX - 6 + Math.floor(i / 2), e.endY - 6, 6, 6), n.className = H.da("_link_arrow_up"), u(n, t.cssClass), u(n, d)), v(n, !0); break; case "ArrowDown": var n; a ? (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0), n.style.borderColor = a + " transparent transparent transparent", n.style.borderStyle = "solid", n.style.borderWidth = "5px") : (n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 6, 6, 6), n.className = H.da("_link_arrow_down"), u(n, t.cssClass), u(n, d)), v(n, !0); break; case "ArrowRight": var n; a ? (n = h(l, e.endX - 6, e.endY - 5, 0, 0), n.style.borderWidth = "6px", n.style.borderColor = "transparent transparent transparent " + a, n.style.borderStyle = "solid") : (n = h(l, e.endX - 6, e.endY - 5, 6, 6), n.className = H.da("_link_arrow_right"), u(n, t.cssClass), u(n, d)), v(n, !0); break; case "ArrowLeft": var n; a ? (n = h(l, e.endX - 6, e.endY - 5, 0, 0), n.style.borderColor = "transparent " + a + " transparent transparent", n.style.borderStyle = "solid", n.style.borderWidth = "6px") : (n = h(l, e.endX - 6, e.endY - 5, 6, 6), n.className = H.da("_link_arrow_left"), u(n, t.cssClass), u(n, d)), v(n, !0); break; default: throw new DayPilot.Exception("Invalid segment type") } }), n }, N.tp = null, N.up = {}, N.vp = function (e) { return N.tp || (N.tp = DayPilot.guid()), N.tp + e }, N.wp = function (e, t) { function n(e) { return e.replace(/[^a-zA-Z0-9-_]/g, "_") } var i = e ? e.replace(/[^a-zA-Z0-9-_]/g, "_") : "def", a = t && t.length > 0 ? t.map(n).join("_") : "def", r = i.replace("#", "_") + "_" + a, o = N.vp(r); if (!N.up[r]) { var s = H.nav.svgMarker, l = s.cloneNode(!0); l.setAttribute("id", o); var d = l.firstChild; d.style.fill = e, t && t.length > 0 && t.forEach(function (e) { d.classList.add(e) }), H.nav.svgDefs.appendChild(l), N.up[r] = l } return o }, N.mp = function (e, t, n, i) { function a(e, t) { var n = H.linkDotSize / 2, i = document.createElementNS(T, "circle"); return i.setAttribute("cx", e), i.setAttribute("cy", t), i.setAttribute("r", "" + n), i.classList.add(H.da("_link_curve_dot")), A.appendChild(i), i } function r(e, t, n, i) { var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), 50 + Math.abs(n - e) / 10), r = 0, o = 0; e < n ? r = i > t ? 40 : -40 : e > n && (o = i > t ? 40 : -40); var s = document.createElementNS(T, "path"), l = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n - a) + " " + (i - o) + ", " + n + " " + i; return s.setAttribute("d", l), s } function o(e, t, n, i) { var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), Math.abs(i - t) / 10 + 20); e !== n && (a = 50); var r = a + Math.abs(n - e) / 8, o = 0, s = 0; e < n ? s = i > t ? 40 : -40 : e > n && (o = i > t ? 40 : -40); var l = document.createElementNS(T, "path"), d = "M" + e + " " + t + " C " + (e + r) + " " + (t + o) + ", " + (n + r) + " " + (i - s) + ", " + n + " " + i; return l.setAttribute("d", d), l } function s(e, t, n, i) { var a = 18, r = (50 + Math.abs(n - e) / 8, 0); r = i > t ? 40 : -40; var o = document.createElementNS(T, "path"), s = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (e + a) + " " + t + ", " + (e + a) + " " + i; return o.setAttribute("d", s), o } function l(e, t, n, i) { var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), 100 + Math.abs(n - e) / 10), r = 40, o = document.createElementNS(T, "path"), s = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n + a) + " " + (i + r) + ", " + n + " " + i; return o.setAttribute("d", s), o } function d(e, t, n, i) { var a = 40; a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8); var r = document.createElementNS(T, "path"), o = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (n - a) + " " + i + ", " + n + " " + i; return r.setAttribute("d", o), r } function c(e, t, n, i) { var a = 40; a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8); var r = document.createElementNS(T, "path"), o = "M" + e + " " + t + " C " + (e - a) + " " + t + ", " + (n + a) + " " + i + ", " + n + " " + i; return r.setAttribute("d", o), r } function u(e, t, n, i) { function a(e) { return e > 1 ? 3 : 1.875 * e * e - 2.375 * e + 3.5 } var r = document.createElementNS(T, "path"), o = n - e, s = i - t, l = s / 7, d = 2 * Math.abs(l), c = 3 * Math.abs(l); c > Math.abs(o / 2) && (0 === o && Math.abs(s) < 45 ? (c = Math.min(20, c), d = c) : c = Math.min(Math.abs(o / 2), c)); var u = .2, h = 0, f = Math.abs(o) / Math.abs(s), v = a(f); v = 2.8, 0 === f && (v = 3.5); var p = v * l; if (f < 1) { var m = Math.abs(s) - 2 * Math.abs(p), g = m / 2, y = g / Math.abs(p); u = .5, u = y } var b = { x: e, y: t }, w = { x: e + d, y: t }, x = { x: e + h + c, y: t + (1 - u) * p }, k = { x: e + h, y: t + p }, C = { x: e + o + c, y: i - (1 + u) * p }, _ = { x: n - h, y: i - p }, E = { x: n - h - d, y: i }, S = { x: n, y: i }; r.setAttribute("d", "M " + b.x + " " + b.y + " C " + w.x + " " + w.y + "," + x.x + " " + x.y + "," + k.x + " " + k.y + " S " + C.x + " " + C.y + "," + _.x + " " + _.y + " S " + E.x + " " + E.y + "," + S.x + " " + S.y); return r } function h(e, t, n, i) { var a = document.createElementNS(T, "path"), r = n - e, o = i - t, s = o / 7, l = 2 * Math.abs(s), d = 3 * Math.abs(s); d > Math.abs(r / 2) && (0 === r && Math.abs(o) < 45 ? (d = Math.min(20, d), l = d) : d = Math.min(Math.abs(r / 2), d)); var c = .2, u = 0, h = Math.abs(r) / Math.abs(o), f = 2.8; 0 === h && (f = 3.5); var v = f * s; if (h < 1) { var p = Math.abs(o) - 2 * Math.abs(v), m = p / 2, g = m / Math.abs(v); c = .5, c = g } var y = { x: e, y: t }, b = { x: e - l, y: t }, w = { x: e - u - d, y: t + (1 - c) * v }, x = { x: e - u, y: t + v }, k = { x: e + r - d, y: i - (1 + c) * v }, C = { x: n + u, y: i - v }, _ = { x: n + u + l, y: i }, E = { x: n, y: i }; a.setAttribute("d", "M " + y.x + " " + y.y + " C " + b.x + " " + b.y + "," + w.x + " " + w.y + "," + x.x + " " + x.y + " S " + k.x + " " + k.y + "," + C.x + " " + C.y + " S " + _.x + " " + _.y + "," + E.x + " " + E.y); return a } var f = N.jp(e, i), v = N.jp(t, i); if (!f) return null; if (!v) return null; var p, m, g = n.type || "FinishToStart"; switch (g) { case "FinishToStart": p = { x: f.right, y: f.top }, m = { x: v.left, y: v.top }, p.y > m.y && v.top + v.height > f.top && (m.y = p.y); break; case "StartToFinish": p = { x: f.left, y: f.top }, m = { x: v.right, y: v.top }; break; case "StartToStart": p = { x: f.left, y: f.top }, m = { x: v.left, y: v.top }; break; case "FinishToFinish": p = { x: f.right, y: f.top }, m = { x: v.right, y: v.top } }var y = { "divs": [], "props": n.Qo || n, "clear": function () { var e = this; C(e.divs), e.divs.forEach(function (e) { DayPilot.rfa(H.elements.links, e) }) } }, b = n.width || ("Auto" === H.linkWidth ? null : H.linkWidth), w = n.color, x = n.style, k = n.layer || H.linkLayer || "Above", _ = "Above" === k, E = n.cssClass, S = n.lp ? H.da("_link_curve_mshadow") : null, T = "http://www.w3.org/2000/svg"; !function () { var e = H.tm(), t = H.wl; if (!H.nav.svgLinksAbove) { N.up = {}; var n = document.createElementNS(T, "svg"); n.setAttribute("viewBox", "0 0 " + e + " " + t), n.style.pointerEvents = "none", n.style.position = "absolute", n.style.left = "0", n.style.top = "0", n.style.width = e + "px", n.style.height = t + "px", H.divLinksAbove.appendChild(n), H.nav.svgLinksAbove = n; var i = N.vp("default"), a = document.createElementNS(T, "defs"), r = document.createElementNS(T, "marker"); r.setAttribute("id", i), r.setAttribute("markerWidth", "6"), r.setAttribute("markerHeight", "6"), r.setAttribute("refX", "6"), r.setAttribute("refY", "3"), r.setAttribute("orient", "auto"), r.setAttribute("markerUnits", "strokeWidth"); var o = document.createElementNS(T, "path"); o.setAttribute("d", "M3,1 L3,5 L6,3 z"), o.classList.add(H.da("_link_curve_marker")), r.appendChild(o), a.appendChild(r), n.appendChild(a), H.nav.svgDefs = a, H.nav.svgMarker = r } if (!H.nav.svgLinksBelow) { var n = document.createElementNS(T, "svg"); n.setAttribute("width", e), n.setAttribute("height", t), n.style.pointerEvents = "none", n.style.position = "absolute", n.style.left = "0", n.style.top = "0", H.divLinksBelow.appendChild(n), H.nav.svgLinksBelow = n } }(); var D, A = _ ? H.nav.svgLinksAbove : H.nav.svgLinksBelow, M = f.height / 2, R = v.height / 2; if (p.x === m.x && p.y + M === m.y + R) D = a(p.x, p.y + M); else if ("FinishToStart" === g) if (p.x < m.x) D = d(p.x, p.y + M, m.x, m.y + R); else if (p.x === m.x) { var B = 0; p.y > m.y && (B = v.height), D = s(p.x, p.y + M, m.x, m.y + B) } else D = p.y === m.y ? l(p.x, p.y + M, m.x, m.y + R) : u(p.x, p.y + M, m.x, m.y + R); else "StartToFinish" === g ? D = p.x <= m.x ? p.y === m.y ? l(p.x, p.y + M, m.x, m.y + R) : h(p.x, p.y + M, m.x, m.y + R) : c(p.x, p.y + M, m.x, m.y + R) : "StartToStart" === g ? D = r(p.x, p.y + M, m.x, m.y + R) : "FinishToFinish" === g && (D = o(p.x, p.y + M, m.x, m.y + R)); if (0 === D.classList.length && (D.setAttribute("style", "pointer-events: stroke"), D.setAttribute("marker-end", "url(#" + N.vp("default") + ")"), D.classList.add(H.da("_link_curve"))), E || w || S) { var P = [E, S].filter(Boolean), L = N.wp(w, P); D.setAttribute("marker-end", "url(#" + L + ")") } var I = "circle" === D.tagName; if (E && D.classList.add(E), S && D.classList.add(S), w && (I ? D.style.fill = w : D.style.stroke = w), b && !I && (D.style.strokeWidth = b), x && !I) switch (x) { case "dashed": D.style.strokeDasharray = "5,3"; break; case "dotted": D.style.strokeDasharray = "2,2" }if (N.sp(D, n), N.rp(D, n), N.qp(D, n), A.appendChild(D), n.text && "FinishToStart" === g) { var z = DayPilot.guid(); D.setAttribute("id", z); var U = document.createElementNS(T, "text"); U.setAttribute("transform", "translate(2, -4)"), U.classList.add(H.da("_link_curve_text")), E && U.classList.add(E), S && U.classList.add(S), w && (U.style.fill = w); var O = document.createElementNS(T, "textPath"); if (O.setAttribute("href", "#" + z), O.textContent = n.text, "center" === n.textAlignment) O.setAttribute("startOffset", "50%"), O.setAttribute("text-anchor", "middle"); else if ("end" === n.textAlignment) { var j = 10, W = D.getTotalLength(), q = W - j; O.setAttribute("startOffset", q), O.setAttribute("text-anchor", "end") } U.appendChild(O), A.appendChild(U), y.divs.push(U) } return H.elements.links.push(D), y.divs.push(D), y }, N.np = function (e, t, n, i) {
                var a = N.jp(e, i), r = N.jp(t, i); if (!a) return null; if (!r) return null; var o, s, l = n.type || "FinishToStart", d = n.width || ("Auto" === H.linkWidth ? null : H.linkWidth) || 1, c = H.eventHeight, u = H.linkBottomMargin, h = H.eventHeight / 2; switch (l) {
                    case "FinishToStart": o = { x: a.right, y: a.top }, s = { x: r.left, y: r.top }, o.y > s.y && (r.top + r.height > a.top ? s.y = o.y : o.x <= s.x && (s.y += r.height, s.bottom = !0)); break; case "StartToFinish": o = { x: a.left, y: a.top }, s = { x: r.right, y: r.top }; break; case "StartToStart": o = { x: a.left, y: a.top }, s = { x: r.left, y: r.top }; break; case "FinishToFinish":
                        o = { x: a.right, y: a.top }, s = { x: r.right, y: r.top }
                }var f = []; if ("FinishToStart" === l) if (o.y !== s.y || o.x !== s.x || s.bottom) if (o.y > s.y || o.y == s.y && s.bottom) if (o.x <= s.x) { var v = o.x, p = o.y + c - u, m = s.x + h, g = s.y; f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "VerticalLine", "startX": m, "startY": p + d, "endX": m, "endY": g }), f.push({ "type": o.y < s.y ? "ArrowDown" : "ArrowUp", "startX": m, "startY": g, "endX": m, "endY": g }) } else { var y = 5, b = s.y + c + y; f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h + d, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": b }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": b, "endX": o.x + h + d, "endY": b }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": b, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x - h + h, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else if (o.y === s.y) if (o.x < s.x) { var v = o.x, p = o.y + c - u, m = s.x; f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else { var y = 5, b = s.y + c + y; f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h + d, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": b }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": b, "endX": o.x + h + d, "endY": b }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": b, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else if (o.x > s.x) { var w = 5, b = s.y - w; f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": o.x + h, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": o.x + h, "startY": o.y + c - u, "endX": o.x + h, "endY": b + d }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": b, "endX": o.x + h, "endY": b }), f.push({ "type": "VerticalLine", "startX": s.x - h, "startY": b, "endX": s.x - h, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": s.x - h, "startY": s.y + c - u, "endX": s.x - h + h, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else { var v = o.x, p = o.y + c - u, m = s.x + h, g = s.y; f.push({ "type": "HorizontalLine", "startX": v, "startY": p, "endX": m, "endY": p }), f.push({ "type": "VerticalLine", "startX": m, "startY": p, "endX": m, "endY": g }), f.push({ "type": o.y < s.y ? "ArrowDown" : "ArrowUp", "startX": m, "startY": g, "endX": m, "endY": g }) } else { var m = o.x, g = o.y + c - u; f.push({ "type": "Dot", "startX": m, "startY": g, "endX": m, "endY": g }) } else if ("StartToFinish" === l) { var w = 5, b = s.y - w; f.push({ "type": "HorizontalLine", "startX": s.x, "startY": s.y + c - u, "endX": s.x + h + d, "endY": s.y + c - u }), f.push({ "type": "VerticalLine", "startX": s.x + h, "startY": s.y + c - u, "endX": s.x + h, "endY": b }), f.push({ "type": "HorizontalLine", "startX": o.x - h, "startY": b, "endX": s.x + h + d, "endY": b }), f.push({ "type": "VerticalLine", "startX": o.x - h, "startY": b, "endX": o.x - h, "endY": o.y + c - u }), f.push({ "type": "HorizontalLine", "startX": o.x - h, "startY": o.y + c - u, "endX": o.x, "endY": o.y + c - u }), f.push({ "type": "ArrowLeft", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else if ("StartToStart" === l) { var x = Math.min(o.x, s.x) - h; f.push({ "type": "HorizontalLine", "startX": x, "startY": o.y + c - u, "endX": o.x, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": x, "startY": o.y + c - u, "endX": x, "endY": s.y + c - u }), f.push({ "type": "HorizontalLine", "startX": x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }), f.push({ "type": "ArrowRight", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } else if ("FinishToFinish" === l) { var k = Math.max(s.x, o.x) + h; f.push({ "type": "HorizontalLine", "startX": o.x, "startY": o.y + c - u, "endX": k, "endY": o.y + c - u }), f.push({ "type": "VerticalLine", "startX": k, "startY": o.y + c - u, "endX": k, "endY": c - u + s.y + d }), f.push({ "type": "HorizontalLine", "startX": s.x, "startY": s.y + c - u, "endX": k, "endY": s.y + c - u }), f.push({ "type": "ArrowLeft", "startX": s.x, "startY": s.y + c - u, "endX": s.x, "endY": s.y + c - u }) } return f
            }, N.Ij = function () { H.divLinkShadow.innerHTML = "", H.elements.linkshadow = [] }, N.Ej = function (e, t) { N.Ij(); var n = H.divLinkShadow, i = DayPilot.line(e.x, e.y, t.x, t.y, { "arrow": !0, "cssClass": H.da("_link_shadow") }); n.appendChild(i), H.elements.linkshadow.push(i) }, this.Wo = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, H.Ma("LinkCreate", n, t) }, this.Yo = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, H.Ma("LinkCreate", n, t, "Notify") }, this.Xo = function (e, t) { var n = {}; n.from = e.from, n.to = e.to, n.type = e.type, H.Ka("LinkCreate", n, t) }, this.xp = function (e, t) { var n = 0, i = 0, a = 0, r = H.Ho(t), o = r.rowlist; if (e > o.length - 1) throw new DayPilot.Exception("Row index too high"); for (var s = 0; s <= e; s++) { var l = o[s]; l.hidden || (i += l.height, a++) } n = i - l.height; var d = {}; return d.top = n, d.height = l.height, d.bottom = i, d.i = a - 1, d.data = l, d }, this.Eh = function () { return !!this.backendUrl }, this.events.find = function (e) { if (!H.events.list || "undefined" == typeof H.events.list.length) return null; if ("function" == typeof e) return H.yp(e); for (var t = H.events.list.length, n = 0; n < t; n++)if (H.events.list[n].id === e) return new DayPilot.Event(H.events.list[n], H); return null }, this.events.findAll = function (e) { if ("function" == typeof e) { for (var t = H.events.list.length, n = [], i = 0; i < t; i++) { var a = new DayPilot.Event(H.events.list[i], H); e(a) && n.push(a) } return n } if ("object" == typeof e) return H.events.findAll(function (t) { for (var n in e) if (e[n] !== t.data[n]) return !1; return !0 }); throw new DayPilot.Exception("function or object argument expected") }, this.yp = function (e) { for (var t = H.events.list.length, n = 0; n < t; n++) { var i = new DayPilot.Event(H.events.list[n], H); if (e(i)) return i } return null }, this.events.focus = function (e) { var t = H.zp(e); t && t.focus() }, this.events.scrollIntoView = function (e) { if (H.zp(e)) { var t = e.start(), n = H.getViewPort(); !d(n.start, n.end, e.start(), e.end()) && d(H.Rb(), H.ce(), e.start(), e.end()) && H.scrollTo(t, "fast", "middle"); var i = e.resource(); H.getViewPort().resources.indexOf(i) === -1 && H.scrollToResource(i) } }, this.events.all = function () { for (var e = [], t = 0; t < H.events.list.length; t++) { var n = new DayPilot.Event(H.events.list[t], H); e.push(n) } return x(e) }, this.events.forRange = function (e, t) { function n(e, t) { for (var n = H.Ap, i = [], a = 0; a < n.length; a++) { var r = n[a]; if (r.end <= e || r.start >= t || i.push(n[a]), r.start > t) break } return i } e = e ? new DayPilot.Date(e) : H.visibleStart(), t = t ? new DayPilot.Date(t) : H.visibleEnd(); var i = H.events.list, a = n(e.getTime(), t.getTime()), r = []; return a.forEach(function (e) { r.push(new DayPilot.Event(i[e.i], H)) }), r }, this.events.filter = function (e, t) { H.events.fh = e, !t && H.Aa && H.Jd({ "eventsOnly": !0 }) }, this.events.edit = function (e) { e instanceof DayPilot.Event || (e = new DayPilot.Event(e)); var t = i.Bp; if (t) { if (H.Gd(t.event, e)) return; Q.Cp(), Q.Dp = !0, i.Bp.blur() } !x(H.events.Ep.rows).isEmpty() && (Q.Dp = !0, H.events.Rn({ "dontResetFocus": !0 })), Q.Dp = !1; var n = H.kh(e); return n ? (Q.Cp(), void H.Yb(n)) : void Q.lo() }, this.events.load = function (e, t, n) { if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, a = function (e) { var n, a = e.request; try { n = JSON.parse(a.responseText) } catch (e) { var r = {}; return r.exception = e, void i(r) } if (E(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; H.events.list = o.data, H.Aa && H.update() } }; if (H.eventsLoadMethod && "POST" === H.eventsLoadMethod.toUpperCase()) DayPilot.ajax({ "method": "POST", "contentType": "application/json", "data": { "start": H.visibleStart().toString(), "end": H.visibleEnd().toString() }, "url": e, "success": a, "error": i }); else { var r = e, o = "start=" + H.visibleStart().toString() + "&end=" + H.visibleEnd().toString(); r += r.indexOf("?") > -1 ? "&" + o : "?" + o, DayPilot.ajax({ "method": "GET", "url": r, "success": a, "error": i }) } }, this.events.findRecurrent = function (e, t) { if (!H.events.list || "undefined" == typeof H.events.list.length) return null; for (var n = H.events.list.length, i = 0; i < n; i++)if (H.events.list[i].recurrentMasterId === e && H.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(H.events.list[i], H); return null }, this.events.hn = function (e) { var t = []; H.Nm().forEach(function (n) { if (!n.isNewRow) { H.Om(n.index, n.grid); for (var i = 0; i < n.events.length; i++) { var a = n.events[i].data; if (H.Gd(a, e)) { t.push(n), n.events.splice(i, 1); break } } } }); var n = "_" + e.id; return H.cp[n] = null, t }, this.events.gp = function (e) { if (!e) return null; for (var t = H.Nm(), n = 0; n < t.length; n++) { var i = t[n]; if (!i.hidden && !i.isNewRow) { H.Om(i.index, i.grid); var a = i.blocks.find(function (t) { return !t.expanded && (!!t.events.find(function (t) { return !!H.Gd(t.data, e) }) || void 0) }); if (a) return a; for (var r = 0; r < i.events.length; r++) { var o = i.events[r]; if (H.Gd(o.data, e)) return i.events[r] } } } return null }, this.events.in = function (e) { var t = [], n = H.Fp() || "Days" === H.viewType, i = "_" + e.id; if (!H.temp.allowDuplicateEventIds && H.cp[i]) throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + i); H.cp[i] = {}; var a = _(H.events.list, e); H.Kg(a); var r = H.Nm(), o = !1; return r.forEach(function (r) { if (!o && !r.isNewRow) { H.Om(r.index, r.grid); var s = H.Gp(e, r, a); s && (H.cp[i].ep = s, "function" == typeof H.onBeforeEventRender && (s.cache = H.wa.events[a]), s.Hp = a, t.push(r), n || (o = !0)) } }), t }, this.Gd = function (e, t) { return DayPilot.Util.isSameEvent(e, t) }, this.events.update = function (e, t, n) { var i = function (e) { var t = Q.$k; if (t && "event" === t.type) { H.Gd(t.event.data, e) && (t.event = H.events.gp(e)) } }, r = e instanceof DayPilot.Event; if ("object" == typeof e && !r) { var o = H.events.find(e.id); return H.events.remove(o), H.events.add(e), void i(e) } var s = {}; s.oldEvent = new DayPilot.Event(e.copy(), H), s.newEvent = new DayPilot.Event(e.temp(), H); var n = n || {}, l = new DayPilot.Action(H, "EventUpdate", s, t); if (x(H.events.list).find(function (t) { return H.Gd(t, e.data) })) { if (H.lh.scope) H.lh.notify(function () { e.commit() }); else if (H._l.Ip && (H._l.skip = !0), (H.eventUpdateInplaceOptimization || n.inplace) && s.oldEvent.resource() === s.newEvent.resource() && s.oldEvent.start() === s.newEvent.start() && s.oldEvent.end() === s.newEvent.end()) { e.commit(), H.Jp(); var d = H.kh(e); if (d) { var c = d.event.part; H.Ne(d), DayPilot.rfa(H.elements.events, d), e.part = c } else a("Old div not found"); var u = H.events.hn(e.data); u = u.concat(H.events.in(e.data)), H.jn(u); var h = H.events.gp(e.data); h && H.Re(h), H.Kp() } else { var u = H.events.hn(e.data); e.commit(), u = u.concat(H.events.in(e.data)), H.Jp(), H.events.Lp(u) } return i(e.data), l } }, this.events.remove = function (e, t) { if (e) { if ("string" == typeof e || "number" == typeof e) { var n = H.events.find(e); return void H.events.remove(n) } var i = {}; i.e = new DayPilot.Event(e.data, H); var a = new DayPilot.Action(H, "EventRemove", i, t), r = H.ml(e.data); if (r) { H.events.list.splice(r.index, 1); var o = "_" + e.data.id; H.cp[o] = null } if (H.lh.scope) H.lh.notify(); else { H._l.Ip && (H._l.skip = !0); var s = H.events.hn(e.data); if (H.eventUpdateInplaceOptimization && 1 === s.length && !H.events.Uc(e)) { H.Mp(s[0]), H.Jp(); var l = H.kh(e); if (l) { var d = H.elements.events.indexOf(l); H.elements.events.splice(d, 1), H.Ne(l), H.Kp() } } else H.events.Lp(s) } return a } }, this.events.add = function (e, t, n) { var n = n || {}, i = n.renderOnly; e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), e.calendar = H, H.events.list || (H.events.list = []); var a = H.ml(e); if (i) { if (!a) throw new DayPilot.Exception("Unexpected: event not found in list") } else { if (a && !H.temp.allowDuplicateEventIds) throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required."); a || H.events.list.push(e.data) } var r = new DayPilot.Action(H, "EventAdd", o, t); if (!H.Aa) return r; if (H.lh.scope) H.lh.notify(); else { H._l.Ip && (H._l.skip = !0); var o = {}; o.e = e; var s = H.events.in(e.data), l = e.data.height || H.eventHeight; if (H.eventUpdateInplaceOptimization && 1 === s.length && !H.events.Uc(e) && l <= H.eventHeight && !H.eventVersionsEnabled) { var d = s[0]; H.Mp(d), H.Jp(); var c = d.events.find(function (t) { return t.data === e.data }); c.part.top = 0, c.part.height = l, c.part.line = 0, H.Re(c), H.Kp(), Q.Hn() } else H.events.Lp(s) } return r }, this.events.Uc = function (e) { var t = e instanceof DayPilot.Event ? e.data : e, n = new DayPilot.Date(t.start), i = new DayPilot.Date(t.end); return !!x(H.events.list).find(function (e) { return !H.Gd(t, e) && (t.resource === e.resource && d(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end))) }) }, this.events.addByData = function (e) { H.events.add(new DayPilot.Event(e)) }, this.events.removeByData = function (e) { var t = H.events.find(e.id); if (!t) throw new DayPilot.Exception("The event to be removed was not found"); H.events.remove(t) }, this.events.updateByData = function (e) { var t = H.events.find(e.id); if (!t) throw new DayPilot.Exception("The event to be updated was not found"); H.events.remove(t), H.events.add(new DayPilot.Event(e)) }, this.events.removeById = function (e) { var t = H.events.find(e); if (!t) throw new DayPilot.Exception("The event to be removed was not found"); H.events.remove(t) }, this.events.Ep = { "rows": [] }, this.events.Np = null, this.events.xn = function () { clearTimeout(H.events.Np), H.events.Np = null, H.events.Ep.rows = [] }, this.events.Op = 0, this.events.Lp = function (e) { var t = H.events.Ep.rows; x(e).forEach(function (e) { t.push(e) }), H.events.Ep.rows = DayPilot.ua(t); var n = function () { H.Jp(), H.events.Rn() }; H.events.Np || (H.events.Np = setTimeout(n, H.events.Op)) }, this.events.Rn = function (e) { e = e || {}, clearTimeout(H.events.Np), H.events.Np = null; var t = H.events.Ep.rows; H.events.Ep.rows = [], H.jn(t), H.kn(), H.Aa && ("Gantt" === H.viewType ? H.update() : (H.Mn && H.Ml(), H.yb(), H.ln(t), H.Kp(), e.dontResetFocus || Q.Hn())) }, this._l = {}, this._l.enabled = !1, this._l.skip = !1, this._l.skipUpdate = function () { return H._l.skip }, this._l.skipped = function () { H._l.skip = !1 }, this._l.Pp = !1, this._l.Ip = !1, this.X = {}, this.X.reactDOM = null, this.X.react = null, this.X.W = function (e, t) { var n = H.X.reactDOM; if ("function" == typeof n.createRoot) { var i = t.na; i || (i = n.createRoot(t), t.na = i), i.render(e) } else n.render(e, t) }, this.X.la = function (e) { var t = H.X.reactDOM; if ("function" == typeof t.createRoot) { var n = e.na; setTimeout(function () { n.unmount(), e.na = null }, 0) } else t.unmountComponentAtNode(e) }, this.Z = {}, this.Z.Ke = null, this.Z._ = function (e, t, n) { var i = H.Z.Ke; if ("function" == typeof i.createVNode && "function" == typeof i.render) { var a = i.createVNode(e, n); i.render(a, t) } }, this.Z.Me = function (e, t) { var n = H.Z.Ke; if ("function" == typeof n.render) { var i = e; E(e) && (i = n.h("div", null, e)), n.render(i, t) } }, this.Z.ma = function (e) { var t = H.Z.Ke; "function" == typeof t.render && t.render(null, e) }, this.queue = {}, this.queue.list = [], this.queue.list.ignoreToJSON = !0, this.queue.add = function (e) { if (e) { if (!e.isAction) throw new DayPilot.Exception("DayPilot.Action object required for queue.add()"); H.queue.list.push(e) } }, this.queue.notify = function (e) { var t = {}; t.actions = H.queue.list, H.Ma("Notify", t, e, "Notify"), H.queue.list = [] }, this.queue.clear = function () { H.queue.list = [] }, this.queue.pop = function () { return H.queue.list.pop() }, this.cells.find = function (e, t) { var n = H.Qp(e, t); return n ? this.findXy(n.x, n.y, n.grid) : P() }, this.cells.findByPixels = function (e, t) { var n = H.Xm(e); if (!n) return P(); var e = n.x, i = H.wo(t); if (!i) return P(); var t = i.i; return this.findXy(e, t) }, this.cells.all = function () { for (var e = [], t = H.itline.length, n = H.rowlist.length, i = 0; i < t; i++)for (var a = 0; a < n; a++) { var r = H.cells.findXy(i, a); e.push(r[0]) } return P(e) }, this.cells.me = function (e, t, n) { n = n || "main"; var i = H.em[n], a = i.rowlist, r = H.bn(e), o = a[t]; if (!r) return null; if (!o) return null; var s = o.start.getTime() - H.Rb().getTime(), l = r.start.addTime(s), d = r.end.addTime(s), c = {}; c.x = e, c.y = t, c.grid = n, c.displayY = o.displayY, c.i = n + "_" + e + "_" + t, !o.id, c.resource = o.id, function () { var e; Object.defineProperty(c, "row", { get: function () { return e || (e = new DayPilot.Row(o, H)), e } }) }(), c.start = l, c.end = d, c.calendar = H, c.isParent = !(!o.children || !o.children.length), c.update = function () { if (!a[c.y].hidden) { var e = H.wa.cells[c.i]; H.If(e); var t = H.rd(); t.xStart <= c.x && c.x <= t.xEnd && t.yStart <= c.y && c.y <= t.yEnd && H.Ye(c.x, c.y, c.grid) } }, c.utilization = function (e) { return o.isNewRow ? 0 : (o.sections || o.Rp(), o.sections.forRange(l, d).maxSum(e)) }, c.events = function () { return o.events.forRange(l, d) }, c.div = H.wa.cells[c.i]; var u = H.Sp(e, t, n); return c.properties = u, c }, this.cells.findXy = function (e, t, n) { if (n = n || "main", E(e)) { for (var i = [], a = 0; a < e.length; a++) { var r = e[a]; i.push(H.cells.me(r.x, r.y, n)) } return P(i) } return null === e || null === t ? P() : P(H.cells.me(e, t, n)) }, this.Qp = function (e, t) { var n; if (n = t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : H.hm(t), !n) return null; if (!H.itline || 0 === H.itline.length) return null; var i = n.start.getTime() - H.Rb().getTime(), a = new DayPilot.Date(e).addTime(-i), r = H.getPixels(a); if (!r) return null; if (null === r.i) return null; var o = {}; return o.x = r.i, o.y = n.index, o.grid = n.grid, o }, this.Tp = function (e) { var t = x(); if (E(e)) for (var n = 0; n < e.length; n++)t.push(e[n]); else "object" == typeof e && e && t.push(e); return t.cssClass = function (e) { return this.forEach(function (t) { t.properties.cssClass = DayPilot.Util.addClassToString(t.properties.cssClass, e), t.update() }), this }, t.removeClass = function (e) { return this.forEach(function (t) { t.properties.cssClass = DayPilot.Util.removeClassFromString(t.properties.cssClass, e), t.update() }), this }, t.addClass = t.cssClass, t.html = function (e) { return this.forEach(function (t) { t.properties.html = e, t.update() }), this }, t.invalidate = function () { return this.forEach(function (e) { delete H.Qm[e.i] }), this }, t }; var P = this.Tp; this.lh = {}, this.lh.scope = null, this.lh.notify = function (e) { H.lh.scope && DayPilot.Util.safeApply(H.lh.scope, e) }, this.debug = new DayPilot.Debug(this), this.Up = function (e) { if ("Days" !== H.viewType) throw new DayPilot.Exception("Checking row start when viewType !== 'Days'"); if (e.getTime() < H.visibleStart().getTime()) return H.visibleStart(); for (var t = 0; t < H.rowlist.length; t++) { var n = H.rowlist[t], i = n.element ? n.element.data : n.data, a = i.start; if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime()) return a } return null }, this.Vp = function (e) { var t = H.Rb(); if (e.ticks === t.ticks) return e; var n = t; if (e.ticks < t.ticks) { for (var i = this.itline[0].end.ticks - this.itline[0].start.ticks; n.ticks > e.ticks;)n = n.addTime(-i); return n } if ("Days" === H.viewType) { var a = 0, r = this.Zm(e.addTime(-0)); if (r.current) return r.current.start.addTime(a); if (r.past) return r.previous.end.addTime(a); throw new DayPilot.Exception("getBoxStart(): time not found") } var r = this.Zm(e); if (r.current) return r.current.start; if (r.past) return r.previous.end; if (r.hidden) { var o = r.next.start.getTime() - e.getTime(), s = r.next.end.getTime() - r.next.start.getTime(), l = Math.ceil(o / s) * s; return r.next.start.addTime(-l) } throw new DayPilot.Exception("getBoxStart(): time not found") }, this.Jo = function (e) { var t = this.wo(H.coords.y, H.coords.grid), n = H.scaleManualLimitBeyond; if ("function" != typeof e.end) throw new DayPilot.Exception("e.end function is not defined"); if (!e.end()) throw new DayPilot.Exception("e.end() returns null"); var a = DayPilot.DateUtil.diff(e.rawend(), e.start()); a = f(a, 1); var r = $.gh(a), o = e.data && "Milestone" === e.data.type, s = H.eventHeight, l = 0, d = H.coords.x; if (o && (d += s / 2), n && "Manual" === H.scale && !H.eventMoveSkipNonBusiness) { var c = function () { var e = H.getDate(H.coords.x, !0, !0), t = e.addTime(-a), n = H.getPixels(t).boxLeft, i = H.getPixels(e).boxRight, e = Math.min(i, H.coords.x); return e - n }(), u = Math.min(i.Wp ? i.Wp : 0, c); d = H.coords.x - u } var h = i.Xp ? i.Xp.calendar : H, v = 0, p = "Days" === this.viewType || this.Xn(), m = !e.part.external && h === H; if (p && m && (v = this.rowlist[e.part.dayIndex].start.getTime() - this.Rb().getTime()), r && !o && h === H) { var g = H.Zm(e.start()), y = !g.hidden && !g.past; l = e.start().getTime() - this.Vp(e.start().addTime(-v)).addTime(v).getTime(), y && (l = function (e, t) { var n = H.Yp(H.Zm(e).current), i = H.Yp(H.Xm(d).cell); if (n > 1.2 * i) { for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= i;)t -= i; t *= a } return t }(e.start(), l)) } h && h !== H && h.Zp() !== H.Zp() && (l = 0); var b = 0; if (!i.$p || "Manual" === H.scale && n || h !== H) b = 0; else if (r) { var w = e.start().addTime(-v), x = this.Vp(w); b = i.$p.getTime() - x.getTime(); var k = 60 * H.Zp() * 1e3; b = Math.floor(b / k) * k } else b = i.$p.getTime() - e.start().addTime(-v).getTime(); if (this.eventMoveToPosition && (b = 0), o) { var C = H.getDate(d, !0); b = -((H.getDate(d + s / 2, !0).getTime() - C.getTime()) / 2) } var _ = this.getDate(d, !0).addTime(-b).addTime(v); i._p && (_ = e.start()); var E = H.snapToGrid; i._m ? E = E && H.snapToGridEventMoving : i._p ? E = E && H.snapToGridEventResizing : i.aq && (E = E && H.snapToGridTimeRangeSelecting), E && (_ = this.Vp(_.addTime(-v)).addTime(v)), _ = _.addTime(l); var S = _.addTime(a), T = _, D = S; if (p) { T = _.addTime(-v), D = T.addTime(a); var A = t.element.data.start.getTime() - this.Rb().getTime(); if (_ = T.addTime(A), S = _.addTime(a), S > t.element.data.end) { var M = S.getTime() - t.element.data.end.getTime(), v = t.element.start.getTime() - this.Rb().getTime(); D = S.addTime(-M).addTime(-v) } } if (n && "Manual" === H.scale) { var R = t.element.bq(); if (S > R) { var M = S.getTime() - R.getTime(); _ = _.addTime(-M), S = S.addTime(-M) } T = _.addTime(-v), D = S.addTime(-v) } if (i._m && H.eventMoveSkipNonBusiness) { var B = t.i, N = 0; i.$p && (N = i.$p.addTime(v), E && (N = this.Vp(N.addTime(-v)).addTime(v))); var P = !e.part.dayIndex, L = 0; P || (L = H.cq(e.start(), N, e.part.dayIndex)); var a = H.dq(e), I = H.getDate(d, !0); E && (I = H.getDate(d)); var u = H.eq(I, L, B, t.grid); _ = I.addTime(-u).addTime(v), E && (_ = this.Vp(_.addTime(-v)).addTime(v)), l = P ? 0 : H.cq(this.Vp(e.start().addTime(-v)).addTime(v), e.start(), B, t.grid), _ = _.addTime(l), _ <= H.visibleStart() && (_ = H.fq(H.visibleStart(), B, t.grid).start), S = H.gq(_, a, B, t.grid), S >= H.visibleEnd() && (S = H.hq(H.visibleEnd(), B, t.grid).end, _ = S.addTime(-H.eq(S, a, B))), T = _.addTime(-v), D = S.addTime(-v) } var z = this.getPixels(T), U = this.getPixels(D), O = E ? z.boxLeft : z.left, j = E && r ? U.boxRight - O : U.left - O; o && (j = s, O -= j / 2); var W = {}; return W.top = t.top, W.left = O, W.row = t.element, W.rowIndex = t.i, W.grid = H.coords.grid, W.width = j, W.start = _, W.end = S, W.relativeY = H.coords.y - t.top, W }, this.iq = function (e, t) { var n = H.Zm(e), i = H.Zm(t), a = null, r = 0; n.hidden && (a = e); for (var o = n.i; o <= i.i; o++) { var s = H.itline[o]; a && a < s.start && (r += s.start.getTime() - a.getTime()), a = s.end } return r }, this.gq = function (e, t, n, i) { i = i || "main"; var a = t, r = H.rowlist[n], o = r.data.start.getTime() - H.Rb().getTime(), s = e.addTime(-o), l = H.fq(s, n, i); if (!l) throw new DayPilot.Exception("No next cell found"); var d = _(H.itline, l); if (l.start > e); else { if (a -= l.end.getTime() - s.getTime(), a <= 0) return e.addTime(t); d += 1 } for (var c = d; c < H.itline.length; c++) { var u = H.Sp(c, n, i), h = H.itline[c]; if (u.business) { var f = h.start.addTime(o), v = h.end.addTime(o), p = v.getTime() - f.getTime(); if (a <= p) return f.addTime(a); a -= p } } return H.itline[H.itline.length - 1].end.addTime(a) }, this.cq = function (e, t, n, i) { i = i || "main"; var a = H.Ho(i), r = a.rowlist, o = r[n], s = o.data.start.getTime() - H.Rb().getTime(), l = (H.Zm(e), e.addTime(-s)), d = t.addTime(-s), c = H.fq(l, n, i); if (!c) throw new DayPilot.Exception("No next cell found"); var u = 0, h = _(H.itline, c); if (c.start <= d) { if (t < c.end.addTime(s)) return c.start > l ? t.getTime() - c.start.addTime(s).getTime() : t.getTime() - e.getTime(); u += l > c.start ? c.end.getTime() - l.getTime() : c.end.getTime() - c.start.getTime(), h += 1 } for (var v = h; v < H.itline.length; v++) { if (H.Sp(v, n, i).business) { var p = H.itline[v], m = p.start.addTime(s), g = p.end.addTime(s), y = g.getTime() - m.getTime(); if (t < m) return u; if (t <= g) return u += t.getTime() - m.getTime(); u += y } } return u += f(0, t.getTime() - H.itline.last().end.addTime(s).getTime()) }, this.dq = function (e) { if (e.part.duration) { if (isNaN(e.part.duration)) throw new DayPilot.Exception("Unable to get calculated duration"); return e.part.duration } var t = e.part.dayIndex; return H.cq(e.start(), e.rawend(), t) }, this.eq = function (e, t, n, i) { i = i || "main"; var a = 0, r = t, o = H.Zm(e); if (!o.current) throw new DayPilot.Exception("Current cell not found."); var s = _(H.itline, o.current); if (H.Sp(s, n, i).business) { if (e.addTime(-t) >= o.current.start) return t } else if (0 === t || e.addTime(-t) >= o.current.start) { var l = H.fq(e, n, i); if (l) return e.getTime() - l.start.getTime(); var d = H.hq(e, n, i); return e.getTime() - d.start.getTime() } a += e.getTime() - o.current.start.getTime(), r -= e.getTime() - o.current.start.getTime(), s -= 1; for (var c = o.current.start; s >= 0;) { var o = H.itline[s]; c > o.end && (a += c.getTime() - o.end.getTime()), c = o.start; var u = o.end.getTime() - o.start.getTime(); if (H.Sp(s, n, i).business) { if (r <= u) return a += r; a += u, r -= u } else a += u; s -= 1 } return a + r }, this.hq = function (e, t, n) { n = n || "main"; var i = H.Zm(e), a = 0; if (i.past) return null; if (i.current) a = i.i; else { if (!i.previous) return null; a = _(H.itline, i.previous) } for (var r = a; r >= 0; r--) { if (H.Of(r, t, n)) return H.itline[r] } return null }, this.fq = function (e, t, n) { n = n || "main"; var i = H.Zm(e), a = 0; if (i.past) return null; if (i.current) a = i.i; else { if (!i.next) return null; a = _(H.itline, i.next) } for (var r = a; r < H.itline.length; r++) { if (H.Of(r, t, n)) return H.itline[r] } return null }, this.Of = function (e, t, n) { return n = n || "main", H.Sp(e, t, n).business }, this.Zp = function () { switch (this.scale) { case "CellDuration": return this.cellDuration; case "Minute": return 1; case "Hour": return 60; case "Day": return 1440; case "Week": return 10080; case "Month": return 43200; case "Year": return 525600; case "Manual": if (H.itline.length > 0) { var e = H.itline[0]; return (e.end.getTime() - e.start.getTime()) / 6e4 } return H.cellDuration }throw new DayPilot.Exception("can't guess cellDuration value") }, this.Yp = function (e) { return e.end.ticks - e.start.ticks }, this.Ko = function (e, t) { return t = t || "main", !("main" !== t || !this.treePreventParentUsage || !this.jq(e, t)) || !!this.kq(e, t) }, this.jq = function (e, t) { t = t || "main"; var n = H.em[t], i = n.rowlist, a = i[e]; return !!a.isParent || !!(this.treeEnabled && a.children && a.children.length > 0) }, this.kq = function (e, t) { t = t || "main"; var n = H.em[t], i = n.rowlist, a = i[e]; return !!a.isNewRow || !!a.resource.preventUsage }, this.lq = {}, this.mq = function () { if (H.treeAutoExpand) { var e = this.Jo(i.Xp), t = e.rowIndex, n = this.jq(t), a = this.lq; if (a.timeout && a.y !== t && (clearTimeout(a.timeout), a.timeout = null, a.y = null), n) { a.y = t; var r = !H.rowlist[a.y].expanded; !a.timeout && r && (a.timeout = setTimeout(function () { !H.rowlist[a.y].expanded && (H.nq(a.y, { "notAnimated": !0 }), H.oq()), a.timeout = null, a.y = null }, 500)) } } }, this.pq = function () { clearTimeout(H.lq.timeout), H.lq.timeout = null, H.lq.y = null }, this.Wf = function () { var e = i.qq.width, t = i.qq.left, n = i.rq, a = i._p.dpBorder, r = H.rowlist[n.part.dayIndex], o = 0; o = r.start.getTime() - H.Rb().getTime(); var s = null, l = null, d = H.snapToGrid && H.snapToGridEventResizing, c = !d; "left" === a ? (s = H.getDate(t, c).addTime(o), l = n.rawend()) : "right" === a && (s = n.start(), l = H.getDate(t + e, c, !0).addTime(o)), i.qq.start = s, i.qq.end = l }, this.exportAs = function (e, t) { if (!H.vg()) throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export."); var n = L.generate(e, t); return new DayPilot.Export(n) }, this["export"] = this.exportAs, this.uh = {}; var L = this.uh; L.wh = function () { var e = L.vh; switch (e) { case "viewport": return H.nav.top.offsetWidth; case "full": return H.tm() + L.getRowHeaderWidth(); case "range": return H.getPixels(L.getRangeEnd()).boxRight - H.getPixels(L.getRangeStart()).boxLeft + L.getRowHeaderWidth(); default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, L.xh = function () { var e = L.vh; switch (e) { case "viewport": return H.nav.top.offsetHeight - DayPilot.sh(H.nav.scroll) - 1; case "full": return H.sq() + H.ym() - DayPilot.sh(H.nav.scroll); case "range": var t = L.getRows(); if (0 === t.length) return H.ym(); var n = t.first(), i = t.last(), a = L.tq(i) - L.tq(n) + i.height + H.ym(); return a += H.em.top.height, a += H.em.bottom.height; default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, L.tq = function (e) { var t = L.B.includeHiddenRows ? e.absTop : e.top; return "bottom" === e.grid && ("viewport" === L.vh ? t += H.em.bottom.top - H.ym() : "full" === L.vh ? t += H.wl : "range" === L.vh && (t += L.xh() - H.ym() - H.em.bottom.height)), t }, L.uq = function (e) { var t = L.getViewportOffsetTop(); return "main" !== e.grid && (t = 0), t }, L.getRangeStart = function () { var e = L.B.dateFrom || H.Rb(); return new DayPilot.Date(e) }, L.getRangeEnd = function () { var e = L.B.dateTo || H.ce(); return new DayPilot.Date(e) }, L.getRangeResStart = function () { return L.B.resourceFrom ? H.hm(L.B.resourceFrom) : H.rowlist.find(function (e) { return !e.hidden }) }, L.getRangeResEnd = function () { return L.B.resourceTo ? H.hm(L.B.resourceTo) : H.rowlist.last() }, L.getRowHeaderWidth = function () { return H.wm() }, L.getTimeHeaderHeight = function () { return H.ym() }, L.getCanvas = function () { return L.canvas() }, L.getRectangles = function () { var e = L.getRowHeaderWidth(), t = L.getTimeHeaderHeight(), n = {}; n.main = { "x": 0, "y": 0, "w": L.wh(), "h": L.xh() }, n.corner = { "x": 0, "y": 0, "w": e, "h": t }, n.grid = { "x": e, "y": t, "w": L.wh() - e, "h": L.xh() - t }; var i = n.grid.w, a = H.itline.last(); a && a.left + a.width < n.grid.w && (i = a.left + a.width); var r = n.grid.h, o = H.rowlist.last(); return o && o.top + o.height < n.grid.h && (r = o.top + o.height), n.gridContent = { "x": e, "y": t, "w": i, "h": r }, n }, L.getRows = function () { var e, t, n, i, a = L.vh, r = x(); switch (a) { case "viewport": e = H.vq, t = e + H.nav.scroll.offsetHeight, n = H.wo(e).i, i = H.wo(t).i; break; case "full": e = 0, n = 0, i = H.rowlist.length; break; case "range": var o = L.getRangeResStart(), s = L.getRangeResEnd(); if (!o) throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export."); if (!s) throw new DayPilot.Exception("Resource specified using resourceTo option not found during export."); n = o.index, i = s.index }i < H.rowlist.length && (i += 1); for (var l = n; l < i; l++) { var d = H.rowlist[l]; !L.B.includeHiddenRows && d.hidden || r.push(d) } return r.offset = n, r }, L.getRowsTop = function () { return H.em.top.rowlist }, L.getRowsBottom = function () { return H.em.bottom.rowlist }, L.getRowsAll = function () { var e = L.getRows(); return e = e.concat(L.getRowsTop()), e = e.concat(L.getRowsBottom()) }, L.getRowsTopAndBottom = function () { var e = []; return e = e.concat(L.getRowsTop()), e = e.concat(L.getRowsBottom()) }, L.bottomFrozenY = function () { if (H.em.bottom.enabled()) { if ("viewport" === L.vh) return H.em.bottom.top; if ("full" === L.vh) return L.xh() - H.em.bottom.height; if ("range" === L.vh) return L.xh() - H.em.bottom.height } return L.xh() }, L.getEvents = function () { var e = L.vh; switch (e) { case "full": var t = x(); return x(H.rowlist).forEach(function (e) { e.hidden || x(e.events).forEach(function (e) { t.push(e) }) }), t; case "viewport": return M.Nk().filter(function (e) { return "main" === e.event.part.grid }).map(function (e) { return e.event }); case "range": var t = x(), n = L.getRangeStart(), i = L.getRangeEnd(); return L.getRows().forEach(function (e) { x(e.events).filter(function (e) { return d(e.start(), e.end(), n, i) }).forEach(function (e) { t.push(e) }) }), t; default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, L.getEventsFrozen = function () { var e = L.vh; switch (e) { case "full": var t = x(); return L.getRowsTopAndBottom().forEach(function (e) { e.hidden || x(e.events).forEach(function (e) { t.push(e) }) }), t; case "viewport": return M.Nk().filter(function (e) { return "main" !== e.event.part.grid }).map(function (e) { return e.event }); case "range": var t = x(), n = L.getRangeStart(), i = L.getRangeEnd(); return L.getRowsTopAndBottom().forEach(function (e) { x(e.events).filter(function (e) { return d(e.start(), e.end(), n, i) }).forEach(function (e) { t.push(e) }) }), t; default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, L.getLinks = function () { if (E(H.links.list)) { for (var e = [], t = 0; t < H.links.list.length; t++) { var n = H.links.list[t], i = H.events.find(n.from), a = H.events.gp(i && i.data), r = H.events.find(n.to), o = H.events.gp(r && r.data), s = N.np(a, o, n, L.B.includeHiddenRows); s && e.push(s) } return e } }, L.getTimeline = function () { var e = L.vh; switch (e) { case "full": return x(H.itline).addProps({ "offset": 0 }); case "viewport": return L.getViewportTimeline(); case "range": return L.getRangeTimeline(); default: throw new DayPilot.Exception("Unsupported export mode: " + e) } }, L.getRangeTimeline = function () { var e = x(); if (H.itline && H.itline.length > 0) { var t = H.Zm(L.getRangeStart()).i, n = H.Zm(L.getRangeEnd()).i, i = H.wq(); n = Math.min(n, i - 1), t = f(t, 0); for (var a = t; a <= n; a++) { var r = H.itline[a]; e.push(r) } e.offset = t } return e }, L.getViewportTimeline = function () { var e = x(); if (H.itline && H.itline.length > 0) { var t = H.xq, n = t + H.nav.scroll.offsetWidth, i = H.Xm(t).x, a = H.Xm(n, !0).x, r = H.wq(); a = Math.min(a, r), i = f(i, 0); for (var o = i; o <= a; o++) { var s = H.itline[o]; e.push(s) } e.offset = i } return e }, L.getTimeHeader = function (e) { if ("full" === L.vh) return x(H.timeHeader[e]); var t, n, i = x(); t = L.getViewportOffsetStart(), n = t + L.getViewportOffsetWidth(); var a = H.yq(e, t), r = H.yq(e, n); r || (r = { "x": H.timeHeader[e].length - 1 }); for (var o = a.x; o <= r.x; o++) { var s = H.timeHeader[e][o]; i.push(s) } return i }, L.getSeparators = function () {
                return x(H.separators).map(function (e) { var t = new DayPilot.Date(e.location); if (t.getTime() < H.Rb().getTime()) return null; if (t.getTime() >= H.ce().getTime()) return null; var n = H.getPixels(t); return n.cut ? null : n.left < 0 ? null : n.left > H.tm() ? null : { "left": n.left, "color": e.color, "width": e.width || 1 } }).filter(function (e) {
                    return !!e;
                })
            }, L.fakeDurationBar = function () { var e = l(); e.style.display = "none", e.className = H.da(Z.event); var t = l(); t.className = H.da(Z.eventBar); var n = l(); return n.className = H.da(Z.eventBarInner), s().appendChild(e), t.appendChild(n), e.appendChild(t), e }, L.fakeEventLeft = function () { var e = l(); return e.style.display = "none", e.className = H.da("_event_left"), s().appendChild(e), e }, L.fakeGroup = function () { var e = l(); e.style.display = "none", e.className = H.da(Z.event) + " " + H.da("_task_group"); var t = l(); return t.className = H.da(Z.eventInner), e.appendChild(t), H.divEvents.appendChild(e), e }, L.fakeMilestone = function () { var e = l(); e.style.display = "none", e.className = H.da(Z.event) + " " + H.da("_task_milestone"); var t = l(); return t.className = H.da(Z.eventInner), e.appendChild(t), H.divEvents.appendChild(e), e }, L.fakeCell = function () { var e = l(); e.style.display = "none", e.className = H.da("_cell"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = l(); return t.className = H.da("_cell_inner"), e.appendChild(t), H.divCells.appendChild(e), e }, L.fakeRowHeader = function () { var e = l(); e.style.display = "none", e.className = H.da("_rowheader"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = l(); return t.className = H.da("_rowheader_inner"), e.appendChild(t), H.divResScroll.appendChild(e), e }, L.zq = function () { var e = l(); e.style.display = "none", e.className = H.da("_corner"), e.style.position = "absolute", e.style.top = "-2000px", e.style.left = "-2000px"; var t = l(); return t.className = H.da("_corner_inner"), e.appendChild(t), H.nav.top.appendChild(e), e }, L.fakeExpand = function () { var e = l(); return e.style.display = "none", e.className = H.da("_tree_image_expand"), s().appendChild(e), e }, L.fakeIcon = function (e) { var t = document.createElement("i"); return t.className = e, t.style.position = "absolute", t.style.top = "-2000px", t.style.left = "-2000px", t }, L.extractUrl = function (e) { var t = /url\((")?([^"].*[^"])\1\)/.exec(e); return t ? t[2] : null }, L.getImages = function () { var e = {}, t = L.fakeExpand(); return e.expand = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")), t.className = H.da("_tree_image_collapse"), e.collapse = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")), t.className = H.da("_tree_image_no_children"), e.nochildren = L.extractUrl(new DayPilot.StyleReader(t).get("background-image")), C(t), e }, L.getFont = function (e) { return new DayPilot.StyleReader(e).getFont() }, L.getViewportOffsetStart = function () { switch (L.vh) { case "full": return 0; case "viewport": return H.nav.scroll.scrollLeft; case "range": return H.getPixels(L.getRangeStart()).boxLeft } }, L.getViewportOffsetTop = function () { switch (L.vh) { case "full": return 0; case "viewport": return H.nav.scroll.scrollTop; case "range": return L.tq(L.getRangeResStart()) - H.em.top.height } }, L.getViewportOffsetWidth = function () { switch (L.vh) { case "full": return H.tm(); case "viewport": return H.nav.scroll.offsetWidth; case "range": return H.getPixels(L.getRangeEnd()).boxRight - L.getViewportOffsetStart() } }, L.excelBoard = function () { var e = new DayPilot.Excel, t = e.worksheets.create("Scheduler"), n = new DayPilot.StyleReader(H.nav.corner).get("background-color"), i = new DayPilot.StyleReader(H.nav.top).get("border-top-color"), a = x(H.elements.events).filter(function (e) { return !e.event.data.type }).map(function (e) { return e.firstChild }).last(), r = new DayPilot.StyleReader(a).get("border-right-color"); e.styles.getDefault().setBackColor("#ffaaaa"); var o = e.styles.create(); o.setHorizontalAlignment("Center"), o.setBackColor(n), o.setBorderColor(i); var s = e.styles.create(); s.setVerticalAlignment("Top"), s.setBackColor(n), s.setBorderColor(i); var l = e.styles.create(); l.setVerticalAlignment("Top"), l.setBackColor("#ff0000"), l.setBorderColor(r), t.enableGridlines(!1), t.cell(0, 0).setRowspan(H.timeHeader.length).setStyle(o), t.cell(10, 10).setText("hi there"), x(H.timeHeader).forEach(function (e, n) { var i = { "x": 1, "y": 0 }; L.getTimeHeader(n, "full").forEach(function (e, a) { var r = e.colspan; t.cell(a + i.x, n + i.y).setText(e.innerHTML).setColspan(r).setStyle(o) }) }), x(H.rowlist).forEach(function (e, n) { for (var i = { "x": 0, "y": 1 }, a = "", r = 0; r < e.level; r++)a += "  "; t.cell(i.x, n + i.y).setText(a + e.html).setRowspan(e.lines.length).setStyle(s) }); var d = { "x": 0, "y": H.timeHeader.length }, c = d.y; return x(H.rowlist).forEach(function (e, n) { x(e.lines).forEach(function (e, i) { var a = d.x; x(e).forEach(function (e) { var i = H.Zm(e.start()).i, r = H.Zm(e.end()).i, o = 1 + r - i; t.cell(i + a, n + c).setText(e.client.html()).setColspan(o).setStyle(l), a += o - 1 }) }), c += e.lines.length - 1 }), e }, L.B = null, L.vh = null, L.generate = function (e, t) { function n(e) { var t = v.grid.y + L.tq(e) - L.uq(e); t += f(0, v.grid.y - t); var n = H.treeEnabled && !e.isNewRow, i = 10, a = n ? e.level * H.treeIndent + H.treeImageMarginLeft + 5 : 5; "Disabled" !== H.rowMoveHandling && (a += 10); var r = { "x": 0, "y": t, "w": v.grid.x + 1, "h": e.height + 1 }, o = e; if (pe) { o = H.Cq(e).row } var s = H.rowHeaderCols ? H.rowHeaderCols.length : 0, l = H.In(), c = H.internalUseStandardColumns && !e.isNewRow, u = c || l && E(H.rowHeaderColumns), h = {}; if (h.text = o.html, $.Bq().length > 0 && u) { var g = o.columns.find(function (e, t) { return !H.rowHeaderColumns[t].hidden }); h.text = g.text || g.html } h.backColor = o.backColor || ae, h.fontSize = ne.size, h.fontFamily = ne.family, h.fontStyle = ne.style, h.fontColor = o.fontColor || ie, h.borderColor = b, h.horizontalAlignment = "left", h.verticalAlignment = "center", h.row = H._n(e), h.columns = [], h.row.columns = h.columns, o.columns && o.columns.forEach(function (e) { var t = p(e, {}, ["text", "html", "backColor", "horizontalAlignment", "verticalAlignment"]); t.text = e.text || e.html, t.fontSize = h.fontSize, t.fontFamily = h.fontFamily, t.fontStyle = h.fontStyle, t.fontColor = h.fontColor, t.horizontalAlignment = t.horizontalAlignment || h.horizontalAlignment, t.verticalAlignment = t.verticalAlignment || h.verticalAlignment, t.backColor = t.backColor || h.backColor, h.columns.push(t) }), e.isNewRow && (h.text = H.rowCreateText), me && H.onBeforeRowHeaderExport(h); var y = 10, w = { "x": a, "y": t + H.treeImageMarginTop + 2, "w": 10, "h": y }, k = { "size": h.fontSize, "family": h.fontFamily, "style": h.fontStyle }; "center" === h.verticalAlignment && (w.y = t + r.h / 2 - 5); var C = n ? a + i + 3 : a, _ = n ? r.w - C : r.w, S = { "x": C, "y": t, "w": _, "h": e.height + 1 }; if (H.rowHeaderCols && (S.w = H.rowHeaderCols[0] - C), d.fillRect(r, h.backColor), d.text(S, h.text, k, h.fontColor, h.horizontalAlignment, 0, h.verticalAlignment), d.rect(r, h.borderColor), n) { var T = null; T = x(e.children).isEmpty() ? m.nochildren : e.expanded || L.B.includeHiddenRows ? m.collapse : m.expand, d.image(w, T) } var D = x(h.row.columns); if (u && (D = D.filter(function (e, t) { return !H.rowHeaderColumns[t].hidden }), s = D.length), H.rowHeaderCols) { var a = r.x; x(H.rowHeaderCols).forEach(function (e, t) { if (0 !== t) { var n = c || H.In() ? 0 : 1, i = t - n, o = D[i] || {}, s = p(r); s.x = a, s.w = e + 1; var l = 3, u = p(s); u.x += l, u.w -= l; var f = o.backColor || h.backColor; d.fillRect(s, f), o.text && d.text(u, o.text, { "size": o.fontSize, "family": o.fontFamily, "style": o.fontStyle }, o.fontColor, o.horizontalAlignment, 0, o.verticalAlignment), d.rect(s, h.borderColor) } a += e }) } } function i(e, t, n) { n = n || "main"; var i = H.itline[e], a = H.em[n].rowlist[t], r = H.Sp(e, t, n), o = r.business, s = H.Dq(e, t, n); s || (s = {}, s.cell = H.cells.findXy(e, t, n)[0]); var l = r.html, c = r.horizontalAlignment || "left", u = r.backColor || (o ? W : j); s.areas = s.cell && s.cell.properties && s.cell.properties.areas || [], s.text = l, s.horizontalAlignment = c, s.backColor = u, s.fontSize = q.size, s.fontFamily = q.family, s.fontStyle = q.style, s.fontColor = s.cell && s.cell.properties && s.cell.properties.fontColor || F, ge && (H.onBeforeCellExport(s), l = s.text, c = s.horizontalAlignment, u = s.backColor); var h = v.grid.y + L.tq(a) - L.uq(a); h += f(0, v.grid.y - h); var p = v.grid.x + i.left - ue; p += f(0, v.grid.x - p); var m = { "x": p, "y": h, "w": i.width, "h": a.height }; d.fillRect(m, u); var g = {}; g.x = m.x + 1, g.y = m.y + 1, g.w = m.w - 2, g.h = m.h - 2; var y = { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }; l && d.text(g, l, y, s.fontColor, c), x(s.areas).forEach(function (e) { if (DayPilot.Areas.isVisible(e)) { var t = { "type": "cell-area" }; "undefined" != typeof e.id && (t.id = e.id), d.groupStart(t); var n = 0; "number" == typeof e.left ? n = e.left : e.start ? n = H.getPixels(new DayPilot.Date(e.start)).left - i.left : "number" == typeof e.right && (n = i.width - e.right - e.width); var a = e.width || e.w; "number" == typeof e.right ? a = i.width - e.right - n : e.end && (a = H.getPixels(new DayPilot.Date(e.end)).left - e.left - i.left + 1); var r = e.top || 0, o = e.height || e.h; "number" == typeof e.bottom && (o = i.height - e.bottom - r), o || (o = i.height - r); var l = { "x": p + n, "y": h + r, "w": a, "h": o }; if (e.backColor && d.fillRect(l, e.backColor), e.icon) { var c = H.uh.areaIcon(e.icon); d.text(l, c.text, c.font, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment) } else if (e.image) { var u = new Image; u.src = e.image, d.image(l, u) } else e.symbol ? d.symbol(l, e.symbol, { color: e.fontColor || s.fontColor }) : (e.text || e.html) && d.text(l, e.text || e.html, { "size": e.fontSize || s.fontSize, "family": e.fontFamily || s.fontFamily, "style": e.fontStyle || s.fontStyle }, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment); d.groupEnd() } }) } function a(e) { var t = v.grid.y + L.tq(e) - L.uq(e); if (t += f(0, v.grid.y - t), t !== v.grid.y && !("main" === e.grid && t > L.bottomFrozenY())) { var n = V, i = {}; if (ye) { if (i.row = H._n(e), i.hidden = !1, i.cssClass = null, i.type = "HorizontalLine", i.color = null, H.onBeforeGridLineRender(i), i.hidden) return; n = i.color || V } d.line(v.gridContent.x + 1, t, v.gridContent.x + v.gridContent.w - 1, t, n), "top" === e.grid && e === H.em.top.rowlist.last() && d.line(v.gridContent.x + 1, t + e.height, v.gridContent.x + v.gridContent.w - 1, t + e.height, V) } } function r(e, t) { var n = v.grid.x + e.left - ue; if (n += f(0, v.grid.x - n), n !== v.grid.x) { var i = v.grid.y + 1, a = v.grid.y + v.grid.h - 2; "top" === t && (a = i + H.em.top.height), "bottom" === t && (i = L.bottomFrozenY()); var r = J, o = {}; if (ye) { if (o.start = e.start, o.end = e.end, o.hidden = !1, o.cssClass = null, o.type = "VerticalLine", o.color = null, H.onBeforeGridLineRender(o), o.hidden) return; r = o.color || J } d.line(n, i, n, a, r) } } function o(e) { function t() { var e = E.backColor; d.diamond(A, e) } function n() { var e = { "x": u, "y": c, "w": s, "h": E.barHeight }, t = { "x": u + w, "y": c, "w": k, "h": E.barHeight }, n = p.backColor || B, i = { x: u, y: c + 5, h: A.h - 6 - 5, w: A.w }; d.fillRect(i, n); var a = p.text || p.html; d.text(i, a, { "size": E.fontSize, "family": E.fontFamily, "style": E.fontStyle }, E.fontColor, E.horizontalAlignment, E.textPadding, E.verticalAlignment, H.eventTextWrappingEnabled), d.upperRightCorner({ x: u + A.w - 6, y: i.y + i.h, w: 6, h: 6 }, n), d.upperLeftCorner({ x: u, y: i.y + i.h, w: 6, h: 6 }, n), l && (d.fillRect(e, g), k > 0 && d.fillRect(t, m)) } function i(t, n) { var i = p.versions[n]; d.groupStart({ "type": "event-version", "event-id": e.id() }); var a = t.width, r = v.grid.y + o + t.top - he; r += f(0, v.grid.y - r); var s = v.grid.x + t.left - ue + 1, l = f(0, v.grid.x - s); s += l, a -= l; var c = H.eventVersionHeight, u = H.durationBarVisible && !i.barHidden, h = u ? $.Eq() : 0, m = { "x": s, "y": r, "w": a, "h": c }; d.fillRect(m, i.backColor || E.backColor); var g = { "x": s + C, "y": r + h, "w": f(0, a - C), "h": c - h }; if (d.text(g, i.text, { "size": E.fontSize, "family": E.fontFamily, "style": E.fontStyle }, E.fontColor, E.horizontalAlignment, E.textPadding, E.verticalAlignment, H.eventTextWrappingEnabled), d.rect(m, i.borderColor || E.borderColor), u) { var y = i.barBackColor || P, b = i.barColor || I, w = 100 * t.barLeft / a, x = Math.ceil(100 * t.barWidth / a), k = { "x": s, "y": r + 1, "w": a, "h": h }, _ = { "x": s + w, "y": r + 1, "w": x, "h": h }; d.fillRect(k, y), x > 0 && d.fillRect(_, b) } d.groupEnd() } function a() { var t = { "x": u, "y": c, "w": s, "h": E.barHeight }, n = { "x": u + w, "y": c, "w": k, "h": E.barHeight }, i = { "x": u + C, "y": c + E.barHeight, "w": s - C, "h": e.part.height - E.barHeight }; d.fillRect(A, E.backColor), d.text(i, E.text, { "size": E.fontSize, "family": E.fontFamily, "style": E.fontStyle }, E.fontColor, E.horizontalAlignment, E.textPadding, E.verticalAlignment, H.eventTextWrappingEnabled), d.rect(A, E.borderColor), l && (d.fillRect(t, g), k > 0 && d.fillRect(n, m)), x(E.areas).forEach(function (t) { if (DayPilot.Areas.isVisible(t)) { var n = { "type": "event-area" }; "undefined" != typeof t.id && (n.id = t.id), d.groupStart(n); var i = 0; "number" == typeof t.left ? i = t.left : t.start ? i = H.getPixels(new DayPilot.Date(t.start)).left - e.part.left : "number" == typeof t.right && (i = e.part.width - t.right - t.width); var a = t.width || t.w; "number" == typeof t.right ? a = e.part.width - t.right - i : t.end && (a = H.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1); var r = t.top || 0, o = t.height || t.h; "number" == typeof t.bottom && (o = e.part.height - t.bottom - r), o || (o = e.part.height - r); var s = { "x": u + i, "y": c + r, "w": a, "h": o }; if (t.backColor && d.fillRect(s, t.backColor), t.icon) { var l = H.uh.areaIcon(t.icon); d.text(s, l.text, l.font, t.fontColor || E.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment) } else if (t.image) { var h = new Image; h.src = t.image, d.image(s, h) } else t.symbol ? d.symbol(s, t.symbol, { color: t.fontColor || E.fontColor }) : (t.text || t.html) && d.text(s, t.text || t.html, { "size": t.fontSize || E.fontSize, "family": t.fontFamily || E.fontFamily, "style": t.fontStyle || E.fontStyle }, t.fontColor || E.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment); d.groupEnd() } }) } var r = H.em[e.part.grid].rowlist[e.part.dayIndex], o = L.tq(r), s = e.part.width, l = e.client && e.client.barVisible && e.client.barVisible(), c = v.grid.y + o + e.part.top - L.uq(r), u = v.grid.x + e.part.left - ue + 1, h = f(0, v.grid.x - u); u += h, s -= h; var p = e.cache || e.data, m = p.barColor || I, g = p.barBackColor || P, y = p.backColor || D, b = p.fontColor || T, w = e.part.barLeft, k = e.part.barWidth; "PercentComplete" === H.durationBarMode && (w = 0, k = f(0, Math.floor(e.part.width * (p.complete || 0) / 100))), "Milestone" === e.data.type && (y = M); var C = 2, E = {}; E.e = e, E.text = e.text ? e.text() : e.client.html(), E.areas = DayPilot.Util.createArrayCopy(p.areas), E.fontSize = S.size, E.fontFamily = S.family, E.fontStyle = S.style, E.fontColor = b, E.backColor = y, E.borderColor = _, E.horizontalAlignment = "left", E.verticalAlignment = "center", E.barHeight = 4, E.textPadding = 2, E.textLeft = p.textLeft || p.htmlLeft, E.textRight = p.textRight || p.htmlRight, "function" == typeof H.onBeforeEventExport && H.onBeforeEventExport(E); var A = { "x": u, "y": c, "w": s, "h": e.part.height }; d.groupStart({ "type": "event", "id": e.id() }), "Milestone" === e.data.type ? t() : "Group" === e.data.type ? n() : a(); var R = E.textLeft; if (R) { var N = { "size": E.fontSize, "family": E.fontFamily, "style": E.fontStyle }, z = d.textWidth(R, N), O = { "x": u - (H.eventHtmlLeftMargin + z), "y": c, "w": z, "h": e.part.height }; d.text(O, R, N, U, null, 0, "center", !1) } var j = E.textRight; if (j) { var W = { "size": E.fontSize, "family": E.fontFamily, "style": E.fontStyle }, q = d.textWidth(j, W), F = { "x": u + s + H.eventHtmlRightMargin, "y": c, "w": q, "h": e.part.height }; d.text(F, j, W, U, null, 0, "center", !1) } d.groupEnd(), (e.versions || []).forEach(i) } "object" == typeof e && (t = e, e = null); var t = t || {}, e = e || t.format || "svg", s = t.scale || 1; if ("xls" === e) return L.excelBoard(); "jpg" === e.toLowerCase() && (e = "jpeg"); var l = t.area || "viewport"; L.B = p(t), L.vh = l, L.B.includeHiddenRows = L.B.includeHiddenRows && "range" === l, L.getRows().forEach(function (e) { H.Aq(e) }); var d, c = L.wh(), h = L.xh(); switch (e.toLowerCase()) { case "svg": d = new DayPilot.Svg(c, h); break; case "png": d = new DayPilot.Canvas(c, h, "image/png", s); break; case "jpeg": d = new DayPilot.Canvas(c, h, "image/jpeg", s, t.quality); break; default: throw new DayPilot.Exception("Export format not supported: " + e) }var v = L.getRectangles(), m = L.getImages(), g = new DayPilot.StyleReader(H.nav.top).get("background-color"), y = new DayPilot.StyleReader(H.nav.corner).get("background-color"), b = new DayPilot.StyleReader(H.nav.top).get("border-top-color"), w = new DayPilot.StyleReader(H.nav.divider).get("background-color"), k = x(H.elements.events).filter(function (e) { return !e.event.data.type }).map(function (e) { return e.firstChild }).last(), _ = new DayPilot.StyleReader(k).get("border-right-color"), S = L.getFont(k), T = new DayPilot.StyleReader(k).get("color"), D = new DayPilot.StyleReader(k).get("background-color"); D = DayPilot.Util.isTransparentColor(D) ? "white" : D; var A = L.fakeMilestone(), M = new DayPilot.StyleReader(A.firstChild).get("background-color"); C(A); var R = L.fakeGroup(), B = new DayPilot.StyleReader(R.firstChild).get("background-color"); C(R); var N = L.fakeDurationBar(), P = new DayPilot.StyleReader(N.firstChild).get("background-color"), I = new DayPilot.StyleReader(N.firstChild.firstChild).get("background-color"); C(N); var z = L.fakeEventLeft(), U = new DayPilot.StyleReader(z).get("color"); C(z); var O = L.fakeCell(), j = new DayPilot.StyleReader(O).get("background-color"); u(O, H.da("_cell_business")); var W = new DayPilot.StyleReader(O).get("background-color"), q = L.getFont(O), F = new DayPilot.StyleReader(O).get("color"); C(O); var X = DayPilot.Util.firstPropValue(H.wa.Al), V = new DayPilot.StyleReader(X).get("background-color"), Y = DayPilot.Util.firstPropValue(H.wa.zl), J = new DayPilot.StyleReader(Y).get("background-color"), Z = H.wa.timeHeader["0_0"], K = L.getFont(Z), G = new DayPilot.StyleReader(Z).get("color"), Q = new DayPilot.StyleReader(Z).get("background-color"), te = L.fakeRowHeader(), ne = L.getFont(te), ie = new DayPilot.StyleReader(te).get("color"), ae = new DayPilot.StyleReader(te).get("background-color"); C(te); var re = L.zq(), oe = L.getFont(re), se = new DayPilot.StyleReader(re).get("color"), y = new DayPilot.StyleReader(re).get("background-color"); if (H.rowHeaderColumns && H.Eo && H.Eo.blocks[0]) var le = H.Eo.blocks[0].section.firstChild, de = new DayPilot.StyleReader(le).getFont(), ce = new DayPilot.StyleReader(le).get("color"); var ue = L.getViewportOffsetStart(), he = L.getViewportOffsetTop(); d.fillRect(v.main, "white"), d.fillRect(v.main, g), function () { var e = {}; e.backColor = y, e.text = H.cornerText, e.fontSize = oe.size, e.fontFamily = oe.family, e.fontStyle = oe.style, e.fontColor = se, e.horizontalAlignment = "left", e.verticalAlignment = "top", e.control = H, "function" == typeof H.onBeforeCornerExport && H.onBeforeCornerExport(e); var t = { "size": e.fontSize, "family": e.fontFamily, "style": e.fontStyle }; d.fillRect(v.corner, e.backColor), d.text(v.corner, e.text, t, e.fontColor, e.horizontalAlignment, 0, e.verticalAlignment) }(); var fe = v.corner.x; $.Bq().forEach(function (e, t) { var n = H.rowHeaderCols[t], i = {}; i.x = fe, i.w = n + 1, i.y = v.corner.h - H.Eo.height, i.h = H.Eo.height + 1; var a = 3, r = p(i); r.x += a, r.w -= a; var o = e.name || e.title || e.text || ""; d.fillRect(i, y), d.text(r, o, de, ce, "left", 0, "center"), d.rect(i, b), fe += n }); var ve = "function" == typeof H.onBeforeTimeHeaderExport, pe = "function" == typeof H.onBeforeRowHeaderRender, me = "function" == typeof H.onBeforeRowHeaderExport, ge = "function" == typeof H.onBeforeCellExport; L.getRows().forEach(n), L.getRowsTop().forEach(n), L.getRowsBottom().forEach(n), L.getRows().forEach(function (e, t, n) { var t = e.index; L.getTimeline().forEach(function (n, a, r) { var a = r.offset + a; i(a, t, e.grid) }) }); var ye = "function" == typeof H.onBeforeGridLineRender; L.getRows().forEach(a), L.getTimeline().forEach(function (e) { r(e, "main") }); var be = L.getTimeline().last(); return function (e) { if (e) { var t = J, n = {}; if (ye) { if (n.start = e.end, n.end = e.end, n.hidden = !1, n.cssClass = null, n.type = "VerticalLine", n.color = null, H.onBeforeGridLineRender(n), n.hidden) return; t = n.color || J } var i = v.grid.x + e.left - ue + e.width; d.line(i, v.grid.y + 1, i, v.grid.y + v.grid.h - 2, t) } }(be), L.getSeparators().forEach(function (e) { var t = v.grid.x + e.left - ue; t < L.getRowHeaderWidth() || d.line(t, v.grid.y + 1, t + e.width, v.grid.y + v.grid.h - 2, e.color) }), L.getLinks().forEach(function (e) { e && e.map(function (e) { return L.shiftableSegment(e).shift(v.grid.x - ue, v.grid.y - he) }).forEach(function (e) { switch (e.type) { case "HorizontalLine": d.line(e.startX, e.startY, e.endX, e.endY, "red"); break; case "VerticalLine": d.line(e.startX, e.startY, e.endX, e.endY, "red"); break; case "ArrowRight": d.triangle({ x: e.startX - 10, y: e.startY - 4.5, w: 10, h: 10 }, "red"); break; case "ArrowDown": d.triangle({ x: e.startX - 4.5, y: e.startY - 10, w: 10, h: 10 }, "red", 90); break; case "ArrowLeft": d.triangle({ x: e.startX, y: e.startY - 4.5, w: 10, h: 10 }, "red", 180); break; case "ArrowUp": d.triangle({ x: e.startX - 4.5, y: e.startY, w: 10, h: 10 }, "red", -90) } }) }), L.getEvents().forEach(o), L.getRowsTopAndBottom().forEach(function (e, t, n) { var t = e.index; L.getTimeline().forEach(function (n, a, r) { var a = r.offset + a; i(a, t, e.grid) }), a(e) }), L.getTimeline().forEach(function (e) { r(e, "top"), r(e, "bottom") }), L.getEventsFrozen().forEach(o), x(H.timeHeader).forEach(function (e, t) { L.getTimeHeader(t, l).forEach(function (e) { var n = v.grid.x + e.left - ue, i = e.width, a = ee.Fq(t), r = a.top, o = a.height, s = {}; s.header = {}, s.header.start = e.start, s.header.end = e.end, s.header.level = t, s.header.text = e.text, s.header.html = e.innerHTML, s.text = e.text, s.backColor = e.backColor, s.verticalAlignment = "center", s.horizontalAlignment = "center", s.fontColor = G, s.fontSize = K.size, s.fontFamily = K.family, s.fontStyle = K.style, ve && H.onBeforeTimeHeaderExport(s); var l = f(0, v.grid.x - n); n += l, i -= l; var l = f(0, n + i - (v.grid.x + v.grid.w)); i -= l; var c = { "x": n, "y": r, "w": i + 1, "h": o + 1 }, u = { "size": s.fontSize, "family": s.fontFamily, "style": s.fontStyle }; d.fillRect(c, s.backColor || Q), d.rect(c, b), d.text(c, s.text, u, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment) }) }), d.rect(v.main, b), d.line(v.grid.x, 0, v.grid.x, v.main.h, w), d.line(0, v.grid.y, v.main.w, v.grid.y, w), d }, L.areaIcon = function (e) { var t = L.fakeIcon(e); s().appendChild(t); var n = window.getComputedStyle(t, ":before").content.replace(/"/g, ""), i = new DayPilot.StyleReader(t).getFont(); return s().removeChild(t), { "text": n, "font": i } }, L.shiftableSegment = function (e) { return { "startX": e.startX, "endX": e.endX, "startY": e.startY, "endY": e.endY, "type": e.type, "shift": function (t, n) { return L.shiftableSegment({ "startX": e.startX + t, "endX": e.endX + t, "startY": e.startY + n, "endY": e.endY + n, "type": e.type }) } } }, this.Gq = {}; var I = this.Gq; I.findJointDivs = function (e) { var t = e.data.join; return t ? x(H.elements.events).filter(function (n) { return n.event.data.join === t && n.event !== e }) : x() }, this.Hq = {}; var z = this.Hq; z.divs = [], z.list = [], z.forbidden = !1, z.Iq = function () { var e = x(), t = H.multiselect.isSelected(i._p.event), n = H.allowMultiResize, e = x(); if (t && n && (e = x(H.multiselect.td).filter(function (e) { return e !== i._p })), H.jointEventsResize) { var a = I.findJointDivs(i.rq); e = e.concat(a) } return e }, z.update = function () { z.clear(), z.draw() }, z.clear = function () { C(z.divs), z.divs = [] }, z.isInvalid = function () { return z.divs.some(function (e) { return e.info.invalid }) }, z.Jq = function () { return H.Kq(z.list) }, z.Lq = function () { if (i._p) { var e = i.rq, t = i.qq, n = t.start.getTime() - e.start().getTime(), a = t.end.getTime() - e.end().getTime(), r = 0; z.list = [], z.forbidden = !1, z.invalid = !1, z.rowoffset = r, z.Iq().forEach(function (e) { if (e.event) { var t = e.event, i = H.rowlist[t.part.dayIndex + r]; if (!i) return void (z.invalid = !0); var o = t.start().addTime(n), s = t.end().addTime(a), l = {}; l.$ = {}, o >= s && (l.invalid = !0, n > 0 ? (l.$.Mq = o, l.$.Nq = s.addSeconds(-1)) : a < 0 && (l.$.Oq = s, l.$.Pq = o.addSeconds(1))), l.event = t, l.start = o, l.end = s, l.$.Qq = i, z.list.push(l) } }) } }, z._o = function () { var e = 0, t = H.eventBorderRadius; if ("number" == typeof t && (t += "px"), z.list.forEach(function (e) { var n = e.event, i = e.$.Qq, a = n.part.top + i.top, r = n.part.height, o = new DayPilot.Date(e.start), s = new DayPilot.Date(e.end), d = H.getPixels(o), c = H.getPixels(s); e.$.Mq === o && e.$.Nq && (d = H.getPixels(e.$.Nq)), e.$.Oq === s && e.$.Pq && (c = H.getPixels(e.$.Pq)); var u = DayPilot.DateUtil.diff(n.rawend(), n.start()); u = f(u, 1); var h = $.gh(u), v = h ? d.boxLeft : d.left, p = h ? c.boxRight - v : c.left - v, m = l(); m.style.position = "absolute", m.style.left = v + "px", m.style.top = a + "px", m.style.height = r + "px", m.style.width = p + "px", m.style.zIndex = 101, m.style.overflow = "hidden", m.className = H.da("_shadow"), m.info = e; var g = l(); g.className = H.da("_shadow_inner"), m.appendChild(g), t && (m.style.borderRadius = t, g.style.borderRadius = t), H.cm.appendChild(m), z.divs.push(m) }), z.invalid) { var n = H.da("_shadow_overlap"); return void x(z.divs).forEach(function (e) { u(e, n) }) } x(z.divs).forEach(function (t) { if (t.info) { var n = t, a = t.info, r = t.info.event, o = H.rowlist[r.part.dayIndex + e], s = H.getPixels(a.start), l = H.getPixels(a.end), d = s.left, c = l.left - d; t.info.invalid && u(t, H.da("_shadow_invalid")); var h = x(z.list).map(function (e) { return e.event.data }).add(i._p.event.data); H.Rq(n, o, d, c, h), H.Sq(n, a.start, a.end, r.resource()), n.overlapping && (a.overlapping = !0, z.forbidden = !0) } }) }, z.draw = function () { z.Lq(), z._o() }, this.Tq = {}, this.Tq.modifiedProps = function () { var e = new DayPilot.Scheduler, t = DayPilot.Util.members(H, 2), n = []; return n.push("<div id='dp'></div>"), n.push("<script>"), n.push("var dp = new DayPilot.Scheduler('dp');"), t.properties.forEach(function (t) { var i, a, r = t.name, o = r.split("."); if (o.length > 1) { var s = o[0], l = o[1]; i = JSON.stringify(e[s][l]), a = JSON.stringify(H[s][l]) } else i = JSON.stringify(e[r]), a = JSON.stringify(H[r]); i !== a && n.push("dp." + r + " = " + a + ";") }), t.events.forEach(function (e) { var t = e.name; "function" == typeof H[t] && n.push("dp." + t + " = " + H[t].toString() + ";") }), n.push("dp.init();"), n.push("</script>"), n.join("\n") }, this.Uq = {}; var U = this.Uq; U.divs = [], U.list = [], U.forbidden = !1, U.Vq = 0, U.Wq = function () { return "All" === H.multiMoveVerticalMode }, U.Iq = function () { var e = x(), t = H._m, n = H.multiselect.isSelected(i.Xp), a = H.allowMultiMove; if (n && a && (e = x(H.multiselect.td).filter(function (e) { var n = e && e.event, a = i.Xp, r = t.Xp; return !(H.Gd(n, a) || H.Gd(n, r)) })), H.jointEventsMove) { var r = I.findJointDivs(i.Xp); e = e.concat(r) } return e }, U.update = function () { U.clear(), U.draw() }, U.Jq = function () { return H.Kq(U.list) }, U.Lq = function () { if (U.list = [], U.rowoffset = 0, i._m) { var e = i.Xp, t = !!i.Xq, n = t ? i.Xq.start : e.start(), a = n.getTime() - e.start().getTime(), r = e.part.dayIndex, o = t ? _(H.rowlist, i.Xq.row) : r, s = o - r; U.Wq() || (s = 0), U.forbidden = !1, U.invalid = !1, U.rowoffset = s, U.Iq().forEach(function (t) { if (t.event) { var i = t.event, r = i.cache || i.data, o = !r.moveDisabled && !r.moveVDisabled, l = !r.moveDisabled && !r.moveHDisabled, d = s; o || (d = 0); var c = H.rowlist[i.part.dayIndex + d]; if (!c) return void (U.invalid = !0); var u = a; l || (u = 0); var h = i.start().addTime(u), f = i.end().addTime(u); if (H.eventMoveSkipNonBusiness) { var v = H.dq(i), p = i.part.dayIndex + d; if (l && 0 === s) { var m = e.start(), g = i.start(), y = 1; m > g && (m = i.start(), g = e.start(), y = -1); var b = H.cq(m, g, p, c.grid); y === -1 ? (b = H.eq(n, b, p, c.grid), h = n.addTime(-b)) : h = H.gq(n, b, p, c.grid) } var w = "Days" === H.viewType || H.Xn(), x = 0; w && (x = H.rowlist[i.part.dayIndex].start.getTime() - H.Rb().getTime()); var k = 0, C = $.gh(v), _ = i.data && "Milestone" === i.data.type; C && !_ && (k = H.cq(H.Vp(i.start().addTime(-x)).addTime(x), i.start(), p, c.grid)); var E = H.fq(h, p, c.grid); if (!E) return void (U.invalid = !0); h = E.start.addTime(k), f = H.gq(h, v, p, c.grid) } var S = {}; S.event = i, S.start = h, S.end = f, S.resource = c.id, U.list.push(S) } }) } }, U.Yq = function () { return U.list.map(function (e) { var t = e.start, n = e.end, i = e.event, a = H.getPixels(t), r = H.getPixels(n), o = DayPilot.DateUtil.diff(i.rawend(), i.start()); o = f(o, 1); var s = $.gh(o), l = H.hm(e.resource), d = s ? a.boxLeft : a.left, c = s ? r.boxRight - d : r.left - d, u = i.part.top + l.top, h = i.part.height; e.resource !== e.event.data.resource && (u = l.top, h = l.height); var v = {}; return v.info = e, v.y = l.index, v.left = d, v.width = c, v.height = h, v.top = u, v }) }, U._o = function () { var e = H.eventBorderRadius; if ("number" == typeof e && (e += "px"), U.list.forEach(function (t) { var n = t.start, i = t.end, a = t.event, r = H.getPixels(n), o = H.getPixels(i), s = DayPilot.DateUtil.diff(a.rawend(), a.start()); s = f(s, 1); var d = $.gh(s), c = H.hm(t.resource); if (!c) return void (U.invalid = !0); t.$ = {}, t.$.Qq = c; var u = d ? r.boxLeft : r.left, h = d ? o.boxRight - u : o.left - u, v = a.part.top + c.top, p = a.part.height; "Milestone" === a.data.type && (h = H.eventHeight, u -= h / 2), t.resource !== t.event.data.resource && (v = c.top, p = c.height); var m = l(); m.style.position = "absolute", m.style.left = u + "px", m.style.top = v + "px", m.style.height = p + "px", m.style.width = h + "px", m.style.overflow = "hidden", m.className = H.da("_shadow"), m.info = t, m.left = u, m.width = h; var g = l(); g.className = H.da("_shadow_inner"), m.appendChild(g), e && (m.style.borderRadius = e, g.style.borderRadius = e), H.cm.appendChild(m), U.divs.push(m) }), U.invalid) { var t = H.da("_shadow_overlap"); return void x(U.divs).forEach(function (e) { u(e, t) }) } x(U.divs).forEach(function (e) { if (e.info) { var t = e, n = e.info, a = (e.info.event, e.info.$.Qq), r = H.getPixels(n.start), o = H.getPixels(n.end), s = r.left, l = o.left - s, d = x(U.list).map(function (e) { return e.event.data }).add(i.Xp.data); H.Rq(t, a, s, l, d), H.Sq(t, n.start, n.end, n.resource), n.overlapping = !1, t.overlapping && (n.overlapping = !0, U.forbidden = !0) } }) }, U.draw = function () { U.Lq(), U._o() }, U.clear = function () { C(U.divs), U.divs = [] }, this.Kq = function (e, t) { return t = ["$"].concat(t || []), e.map(function (e) { var n = e, i = {}; for (var a in n) { var r = t && _(t, a) !== -1; n.hasOwnProperty(a) && "undefined" != typeof n[a] && (r ? Object.defineProperty(i, a, { "value": n[a] }) : i[a] = n[a]) } return i }) }, this.Zq = function () { var e = H.coords, t = i._p.dpBorder, n = i._p.event, a = n.part.left; "right" === t && (a += n.part.width); var r, o, s = i._p.event.calendar.cellWidth, l = i._p.event.part.width, d = i._p.event.part.left, c = 0, u = e.x - a, h = H.snapToGrid && H.snapToGridEventResizing; if ("right" === t) { if (r = d, h) { var f = H.Xm(l + d + u).cell, v = H.Xm(d).cell, p = v.left + v.width - d; o = f.left + f.width - d, o < p && (o = p) } else o = l + u; var m = H.tm(); if (d + o > m && (o = m - d), H.Xn()) { var g = !h, y = H.em[n.part.grid].rowlist, b = y[n.part.dayIndex], w = b.start.getTime() - H.Rb().getTime(), x = H.getDate(d + o, g, !0).addTime(w); if (x > b.data.end) { var k = b.data.end.addTime(-w), C = H.getPixels(k), x = C.left; h && (x = C.boxRight), o = x - d } } i.qq.left = d, i.qq.width = o } else { if ("left" !== t) throw new DayPilot.Exception("Invalid dpBorder."); h ? (u >= l && (u = l), r = Math.floor((d + u + 0) / s) * s, r < c && (r = c)) : r = d + u, o = l - (r - d); var _ = d + l, E = s; h ? "Never" === H.useEventBoxes && (E = l < s ? l : 1) : E = 1, o < E && (o = E, r = _ - o), i.qq.left = r, i.qq.width = o } H.$q() }, this.oq = function () { this.nav.scroll; if (H.coords && i.Xp) { H.zm(); var e = i.Xq, t = this.Jo(i.Xp); if (!H.Ko(t.rowIndex, t.grid)) { var n = i.Xp, a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled, r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled, o = !U.Iq().isEmpty(); o && "Disabled" === H.multiMoveVerticalMode && (a = !1), a && t.grid !== e.grid && (e.parentNode.removeChild(e), H.em[t.grid].divShadow.appendChild(e), e.grid = t.grid); var s = 0, l = 0; if (function () { if (H.rl) { var e = t.relativeY, n = H.Xm(t.left).x, i = t.row, a = i.evColumns[n], r = a.events.find(function (t) { return e < t.part.top + t.part.height + H.eventMarginBottom }); r || (r = a.events.last()), r && (l = r.part.top, s = _(a.events, r), e - r.part.top > r.part.height / 2 && (l = r.part.top + r.part.height + H.eventMarginBottom / 2, s += 1)) } else { for (var e = t.relativeY, i = t.row, o = 0, d = H.Ja.Lo(), c = i.lines.length, u = 0; u < i.lines.length; u++) { if (i.lines[u].be(t.left, H.cellWidth)) { c = u; break } } var h = Math.floor((e - o + d / 2) / d); h = Math.min(c, h), h = f(0, h), s = h, l = H.rowMarginTop + s * (H.Ja.Lo() + H.eventMarginBottom) + H.eventMarginBottom / 2 } }(), l > 0 && (l -= 3), a) if (this.Ko(t.rowIndex, t.grid)) { var d = e.row, c = 1; if (!d) return; c = t.rowIndex < d.index ? 1 : -1; for (var u = t.rowIndex; u !== d.index; u += c) { var h = this.rowlist[u]; if (!this.Ko(u, t.grid) && !h.hidden) { e.row = h, e.style.top = e.row.top + e.row.marginTop + "px", e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px", H.eventMoveToPosition && (s = c > 0 ? 0 : h.lines.length - 1, e.style.top = t.top + l + "px", e.style.height = "3px", e.line = s); break } } } else e.row = t.row, e.style.top = e.row.top + e.row.marginTop + "px", e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px", H.eventMoveToPosition && (e.style.top = t.top + l + "px", e.style.height = "3px", e.line = s); else { for (var v = H.em[n.part.grid].rowlist, d = v[n.part.dayIndex], p = d.lines.length, u = 0; u < d.lines.length; u++) { if (d.lines[u].be(t.left, H.cellWidth)) { p = u; break } } if (o || (e.style.height = f(d.height, 0) + "px", e.style.top = d.top + "px"), e.row = d, H.eventMoveToPosition && !o) if (t.row === d) e.style.top = d.top + l + "px", e.style.height = "3px", e.line = s; else { var m = t.rowIndex > d.index && p > 0 ? p * H.Ja.Lo() - 3 : 0; e.style.top = d.top + m + "px", e.style.height = "3px", e.line = 0 } } r ? (e.style.left = t.left + "px", H.eventMoveToPosition ? e.style.width = H.cellWidth + "px" : e.style.width = t.width + "px", e.start = t.start, e.end = t.end) : (e.style.left = n.part.left + "px", e.start = n.start(), e.end = n.rawend(), t.left = n.part.left), e.left = t.left, e.width = t.width, H._q() } } }, this._q = function () {
                function e(e) { if (!!e.from != !!e.to) { e.lp = !0; var n = function (e) { return e ? "object" != typeof e ? N.fp(e) : e : t }, i = n(e.from), a = n(e.to), r = N.ip(i, a, e); O.dr(r) } } var t = i.Xq, n = H.Uq, a = H.gb, r = i.Xp; if (a) { var o = a.start.getTime() === t.start.getTime(), s = a.end.getTime() === t.end.getTime(), l = a.resource === t.row.id, d = a.shift + "_" + a.ctrl + "_" + a.meta + "_" + a.alt == H.coords.shift + "_" + H.coords.ctrl + "_" + H.coords.meta + "_" + H.coords.alt; if (o && s && l && d) return } a && (c(t, a.cssClass), t.firstChild.innerHTML = ""), n.clear(), n.Lq(); var h = function () { var e = H.links, t = e.findAllByFromTo(r.id(), null).map(function (e) { return { "to": e.to(), "type": e.type() } }); return t = t.concat(e.findAllByFromTo(null, r.id()).map(function (e) { return { "from": e.from(), "type": e.type() } })) }(); !function () { t.overlapping = !1; var e = t.row, a = r.data, o = t.width, s = t.left, l = x(n.list).map(function (e) { return e.event.data }).add(a); H.Rq(t, e, s, o, l), H.Sq(i.Xq, t.start, t.end, t.row.id) }(); var v = "Milestone" === r.data.type, p = !!i.ar && r.part.external, m = {}; m.start = t.start, m.end = H.Xj(t.end), m.duration = new DayPilot.Duration(m.start, m.end), m.e = r, m.external = p, m.control = H, m.resource = t.row.id, m.html = null, m.row = H._n(t.row), m.position = t.line, m.overlapping = t.overlapping || n.forbidden, m.allowed = !0, m.left = {}, m.left.html = m.start.toString(H.eventMovingStartEndFormat, $.Tc()),
                    m.left.enabled = H.eventMovingStartEndEnabled, m.left.space = 5, m.left.width = null, m.left.height = H.eventHeight, m.right = {}, m.right.html = m.end.toString(H.eventMovingStartEndFormat, $.Tc()), m.right.enabled = H.eventMovingStartEndEnabled, m.right.space = 5, m.right.width = null, m.right.height = H.eventHeight, m.multimove = n.Jq(), m.shift = H.coords.shift, m.ctrl = H.coords.ctrl, m.meta = H.coords.meta, m.alt = H.coords.alt, m.areaData = w.movingAreaData, m.links = h, m.link = null, m.cssClass = null, m.html = null, v && (m.end = m.start); var g = {}; g.event = r, g.start = m.start, g.end = m.end, g.overlapping = m.overlapping, g.resource = m.resource, m.multimove.splice(0, 0, g), H.gb = m; var y = { "start": m.start, "end": m.end, "resource": m.resource }; if ("function" == typeof H.onEventMoving && H.onEventMoving(m), i._m) { if (n.list = x(m.multimove, !0), n.list.splice(0, 1), n._o(), t.allowed = m.allowed, u(t, m.cssClass), m.fullShadow) { var b = H.kh(r); t.innerHTML = b.innerHTML, t.style.boxShadow = "0 2px 5px rgba(0,0,0,.2)" } else m.html ? t.firstChild.innerHTML = m.html : t.firstChild.innerHTML = ""; var k = !1; if (m.start !== y.start || m.end !== y.end) { var C = m.start, _ = H.Aj(m.end); t.start = C, t.end = _; var S = DayPilot.DateUtil.diff(C, _); S = f(S, 1); var T = $.gh(S), D = T ? H.getPixels(C).boxLeft : H.getPixels(C).left, A = T ? H.getPixels(_).boxRight : H.getPixels(_).left; if (v) { var M = H.eventHeight; D -= M / 2, A = D + M } t.style.left = D + "px", t.left = D, t.style.width = A - D + "px", t.width = A - D, k = !0 } if (m.resource !== y.resource) { var R = H.hm(m.resource); if (R) { if (t.row = R, t.style.height = f(R.height, 0) + "px", t.style.top = R.top + "px", H.eventMoveToPosition) { var B = H.rowMarginTop; t.style.top = R.top + B + "px", t.style.height = "3px", t.line = 0 } k = !0 } } !function () { var e = t.row, a = r.data, o = t.width, s = t.left, l = x(n.list).map(function (e) { return e.event.data }).add(a); H.Rq(t, e, s, o, l), H.Sq(i.Xq, t.start, t.end, t.row.id) }(), H.br(t, m), H.cr(t, m), O.Hl(); var P = m.link, L = m.links; P ? e(P) : E(L) && L.forEach(function (t) { e(t) }) }
            }, this.Rq = function (e, t, n, a, r) { if (!H.allowEventOverlap) { !function () { e.overlapping = !1; for (var o = 0; o < t.lines.length; o++) { if (!t.lines[o].be(n, a, r)) return void (e.overlapping = !0) } var s = t.index; return x(G.list).some(function (t) { var i = t.div, r = parseInt(i.style.left), o = parseInt(i.style.width), l = t.start.y; return e !== i && (l === s && d(n, n + a, r, r + o)) }) ? void (e.overlapping = !0) : U.Yq().some(function (t) { var i = t.info, r = t.left, o = t.width, l = t.y, c = null; return e.event ? c = e.event.data.id : e.info && (c = e.info.event.data.id), (null === c || c !== i.event.data.id) && l === s && d(n, n + a, r, r + o) }) ? void (e.overlapping = !0) : x(z.divs).some(function (t) { var i = t.info, r = parseInt(t.style.left), o = parseInt(t.style.width), l = i.$.Qq.index; return e !== t && l === s && d(n, n + a, r, r + o) }) ? void (e.overlapping = !0) : function () { var t = i.Xq; return !!t && e !== t && (e.info ? e.info.$.Qq : e.row).index === t.row.index && d(e.left, e.left + e.width, t.left, t.left + t.width) }() ? void (e.overlapping = !0) : void 0 }(); var o = e.overlapping, s = H.da("_shadow_overlap"); o ? u(e, s) : c(e, s) } }, this.Sq = function (e, t, n, i) { H.Vc(t, n, i) && (e.overlapping = !0); var a = H.da("_shadow_overlap"); e.overlapping ? u(e, a) : c(e, a) }, this.Vc = function (e, t, n) { if (!(H.cellConfig && H.cellConfig.hasDisabled || H.Qm.er)) return !1; var i = null; "Days" === H.viewType && (i = H.Up(e)); var a = H.rows.find(n, i).cells.forRange(e, t); return !!a && a.some(function (e) { return e.properties.disabled }) }, this.br = function (e, t) { var n = H.da("_shadow_forbidden"); !t.allowed || U.invalid ? u(e, n) : c(e, n) }, this.cr = function (e, t) { if (this.fr(), e.calendar === H) { var n = H.Ho(e.grid), i = {}; i.left = parseInt(e.style.left), i.top = parseInt(e.style.top), i.right = i.left + parseInt(e.style.width); var a = t.left.width || 10, r = l(); if (r.style.position = "absolute", r.style.left = i.left - a - t.left.space + "px", r.style.top = i.top + "px", r.style.height = t.left.height + "px", r.style.overflow = "hidden", r.style.boxSizing = "border-box", r.innerHTML = t.left.html, r.className = H.da("_event_move_left"), r.onmousemove = H.gr, t.left.enabled) if (n.divHover.appendChild(r), t.left.width) r.style.width = a + "px"; else { r.style.whiteSpace = "nowrap"; var o = r.offsetWidth, s = i.left - o - t.left.space; r.style.width = o + "px", r.style.left = s + "px"; var d = H.nav.scroll.scrollLeft; s < d && n.divHover.removeChild(r); var c = H.wm() + (s - d); c > 0 && (r.style.left = c + "px", r.style.top = i.top - n.div.scrollTop + n.top + "px", H.nav.top.appendChild(r), H.elements.hover.push(r)) } var a = t.right.width || 10, u = l(); if (u.style.position = "absolute", u.style.left = i.right + t.right.space + "px", u.style.top = i.top + "px", u.style.height = t.right.height + "px", u.style.overflow = "hidden", u.style.boxSizing = "border-box", t.right.width ? u.style.width = t.right.width + "px" : u.style.whiteSpace = "nowrap", u.innerHTML = t.right.html, u.className = this.da("_event_move_right"), u.onmousemove = H.gr, t.right.enabled) { n.divHover.appendChild(u); var h = H.nav.scroll.scrollWidth; i.right + t.right.space + u.offsetWidth >= h && n.divHover.removeChild(u) } } }, this.fr = function () { H.divHover.innerHTML = "", H.em.top.divHover.innerHTML = "", H.em.bottom.divHover.innerHTML = "", C(H.elements.hover), H.elements.hover = [] }, this.hr = {}; var O = this.hr; O.Kc = [], O.Hl = function () { O.Kc.forEach(function (e) { e.clear() }), O.Kc = [] }, O.dr = function (e) { e && O.Kc.push(e) }, this.ir = function () { var e = H.rowHeaderColumnDefaultWidth; if (this.rowHeaderColumns) { var t = $.Bq(); this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e) } else this.rowHeaderCols = null }, this.jr = function () { var e = 0; if (this.ir(), this.rowHeaderCols) for (var t = 0; t < this.rowHeaderCols.length; t++)e += this.rowHeaderCols[t]; else e = this.rowHeaderWidth; return e }, this.kr = function () { return this.lr(H.progressiveRowRenderingPreload) }, this.lr = function (e) { var e = e || 0, t = 0, n = H.rowlist.length; if (H.progressiveRowRendering) { var i = H.rd(); t = i.yStart, function () { var e = H.rowlist[t], n = e && e.split && e.split.parent; n && (t = n.index) }(), n = i.yEnd + 1, t = f(0, t - e), n = Math.min(H.rowlist.length, n + e) } return { "start": t, "end": n } }, this.mr = function () { function e(e, t, n) { for (var i = H.Ho(e).divHeader, r = t; r < n; r++) { var o = i.rows[r]; if (o) { var s = { "row": o, "grid": e, "i": r }; H.nr(s, a) } } } if (this.vg()) { var t = !1, n = 0; if (this.rowHeaderWidthAutoFit) { var i = this.divHeader; if (!i) return; if (!i.rows) return; var a = []; this.ir(); H.rowHeaderWidthAutoFitShrink && (H.rowHeaderScrolling || (H.rowHeaderWidth = 0), H.rowHeaderCols && H.rowHeaderCols.forEach(function (e, t) { H.rowHeaderCols[t] = 0 })); var r = H.kr(); if (e("main", r.start, r.end), H.em.top.enabled() && e("top", 0, H.em.top.divHeader.rows.length), H.em.bottom.enabled() && e("bottom", 0, H.em.bottom.divHeader.rows.length), this.rowHeaderCols) for (var o = 0; o < a.length; o++)"number" == typeof this.rowHeaderCols[o] && (a[o] > this.rowHeaderCols[o] && (this.rowHeaderCols[o] = a[o], t = !0), n += this.rowHeaderCols[o]); else { n = this.rowHeaderWidth; var s = $.xm(); this.rowHeaderWidth < a[0] + H.rowHeaderWidthMarginRight + s && (n = a[0] + H.rowHeaderWidthMarginRight + s, t = !0) } } t && (this.Eo && (this.Eo.widths = this.rowHeaderCols, this.Eo.updateWidths(), DayPilot.Util.updatePropsFromArray($.Bq(), "width", this.rowHeaderCols)), this.rowHeaderCols || (this.rowHeaderWidth = n), this.sn(), this.or()) } }, this.nr = function (e, t) { var n = e.row, i = H.Ho(e.grid), a = i.rowlist[e.i], r = H.rowHeaderColumns; if (!a.hidden) { for (var o = 0; o < n.cells.length; o++)if (n.cells[o] && "number" != typeof n.cells[o].pr) { var s = n.cells[o].firstChild.firstChild; if (s && s.style) { var l = s.style.width, d = s.style.right, c = s.style.display; s.style.position = "absolute", s.style.width = "auto", s.style.right = "auto", s.style.whiteSpace = "nowrap", s.style.display = "block"; var u = s.offsetWidth + 2; n.cells[o].pr = u, s.style.position = "", s.style.width = l, s.style.right = d, s.style.display = c, s.style.whiteSpace = "" } } for (var o = 0; o < n.cells.length; o++)if (n.cells[o]) { var u = n.cells[o].pr; if ("undefined" == typeof t[o] && (t[o] = 0), r && r[o] && "number" == typeof r[o].maxAutoWidth) { var h = r[o].maxAutoWidth; u = Math.min(u, h) } t[o] = Math.max(t[o], u) } } }, this.Jl = function () { this.qr = !0, this.ir(); var e = this.jr(), t = this.divHeader; if (t.style.width = e + "px", t.style.height = H.wl + "px", H.em.main.divHeader = t, H.progressiveRowRendering) a(); else for (var n = this.rowlist.length, i = 0; i < n; i++)H.rr(i); if (H.em.top.enabled()) for (var i = 0; i < H.em.top.rowlist.length; i++)H.rr(i, "top"); if (H.em.bottom.enabled()) for (var i = 0; i < H.em.bottom.rowlist.length; i++)H.rr(i, "bottom"); H.sr(), this.divResScroll.appendChild(t), this.rowHeaderWidthAutoFit && this.mr() }, this.Il = function () { function e(e) { var t = H.Ho(e), n = t.divHeader, i = n; n.ur && (i = n.ur), H.zo(e), i && (i.innerHTML = ""), n && (n.rows = []) } e("main"), e("top"), e("bottom") }, this.tn = function () { if (H.progressiveRowRendering) { for (var e = this.kr(), t = 0; t < H.rowlist.length; t++)e.start <= t && t < e.end ? H.rr(t) : H.Io(t); if (this.rowHeaderWidthAutoFit && !i.vr) { var n = H.wm(); this.mr(); if (H.wm() !== n) { var a = this.cellWidth; this.Dl(); this.cellWidth !== a && (H.El(), H.Kl(), H.Ll(), H.yb(), H.qb(), N.Hl(), H.wr()) } } } }, this.sr = function () { if (!H.Ja.xr()) { var e = H.divHeader, t = l(); t.style.position = "absolute", e.appendChild(t), H.nav.resScrollSpace = t, t.setAttribute("unselectable", "on"); var n = l(); n.style.position = "relative", n.style.height = "100%", n.className = this.da("_rowheader"), t.appendChild(n); var i = this.jr(), t = H.nav.resScrollSpace; t.style.width = i + "px", t.style.top = this.wl + "px" } }, this.Io = function (e, t) { var n = H.Ho(t), i = n.divHeader.rows[e]; if (i) { if (i) for (var a = 0; a < i.cells.length; a++) { var r = i.cells[a]; if (r) { var o = r.domArgs; if (r.domArgs = null, o && "function" == typeof H.onBeforeRowHeaderDomRemove && H.onBeforeRowHeaderDomRemove(o), o && "function" == typeof H.onBeforeRowHeaderDomAdd) { var s = o && o.Ie; if (s) { var l = H.X.reactDOM && m(o.element), d = H.Z.Ke && (g(o.element) || y(o.element)); l ? H.X.la(s) : d && (H.Z.Le = !0, H.Z.ma(s), H.Z.Le = !1) } } o && (o.element = null, o.Ie = null) } } C(i.cells), n.divHeader.rows[e] = null } }, this.Kn = function (e, t) { this.Io(e, t), this.rr(e, t) }, this.In = function () { return "Standard" === H.rowHeaderColumnsMode || "Tabular" === H.rowHeaderColumnsMode }, this.yr = function (e, t) { var n = void 0; return e.tags && (n = e.tags[t]), "undefined" != typeof n ? n : e[t] }, this.ao = function (e, t, n) { return e.tags && "undefined" != typeof e.tags[t] ? void (e.tags[t] = n) : void (e[t] = n) }, this.rr = function (e, t) { function n() { var t = l(); if (H.treeEnabled && !c.isNewRow) { var n = c.level * H.treeIndent + H.treeImageMarginLeft; J && (n += K); var i = H.treeImageWidth, a = H.treeImageHeight; t.style.marginLeft = n + "px", t.style.position = "relative", t.className = H.da("_rowheader_inner_indent"); var r = l(); r.style.width = i + "px", r.style.height = a + "px", r.style.backgroundRepeat = "no-repeat", r.style.position = "absolute", r.style.top = H.treeImageMarginTop + "px", c.loaded || 0 !== c.children.length ? c.children.length > 0 ? (c.expanded ? r.className = H.da("_tree_image_collapse") : r.className = H.da("_tree_image_expand"), r.style.cursor = "pointer", r.index = e, r.onclick = function (e) { H.nq(this.index), e.cancelBubble = !0 }) : r.className = H.da("_tree_image_no_children") : (r.className = H.da("_tree_image_expand"), r.style.cursor = "pointer", r.index = e, r.onclick = function (e) { H.Kr(this.index), e.cancelBubble = !0 }), t.appendChild(r) } var o = l(); if (H.treeEnabled) { var s = H.treeImageMarginRight; o.style.marginLeft = i + s + "px" } o.innerHTML = H.Ha(M.text, M.html), o.className = H.da("_rowheader_inner_text"), _.textDiv = o, _.cellDiv = q, t.appendChild(o), Y.appendChild(t); var d = M.verticalAlignment || A.verticalAlignment; if (d) switch (Y.style.display = "flex", d) { case "center": Y.style.alignItems = "center"; break; case "top": Y.style.alignItems = "flex-start"; break; case "bottom": Y.style.alignItems = "flex-end" } } function i(t, n, i) { if (("function" == typeof H.onBeforeRowHeaderDomAdd || "function" == typeof H.onBeforeRowHeaderDomRemove) && !c.isNewRow) { var a = {}; if (a.control = H, a.row = H._n(c), a.row.columns = DayPilot.Util.createArrayCopy(c.columns, H.Lr), a.x = t, a.element = null, a.target = "Cell", o.rows[e].cells[t].domArgs = a, "function" == typeof H.onBeforeRowHeaderDomAdd && H.onBeforeRowHeaderDomAdd(a), a.element) { var r = null; switch (a.target && a.target.toLowerCase()) { case "text": r = n; break; case "cell": r = i }if (r) { a.Ie = r, r.innerHTML = ""; var s = m(a.element), l = g(a.element), d = y(a.element); if (s) { if (!H.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); H.X.W(a.element, r) } else if (l) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z._(a.element, r, a.props), H.Z.Le = !1 } else if (d) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z.Me(a.element, r), H.Z.Le = !1 } else r.appendChild(a.element) } } } } var a = H.Ho(t), r = a.rowlist, o = a.divHeader, s = o; if (o.ur && (s = o.ur), o && !o.rows[e]) { var d = this.rowHeaderCols, c = r[e]; if (c && !c.hidden) { var h = W.wa[c.grid + "_" + e], f = c.height, v = c.cells && c.cells[0]; v && v.rowspan > 1 && (f = v.row.split.totalHeight()); var p = null; c.split && c.split.parent && c.split.zr() && (p = H.Cq(c.split.parent)); var b = this.Cq(c), w = d && b.row.columns && b.row.columns.length > 0, k = w ? this.rowHeaderCols.length : 0, C = this.jr(); o.rows[e] = {}, o.rows[e].cells = []; var _ = l(); _.style.position = "absolute", _.style.top = c.top + "px", _.row = p ? c.split.parent : c, _.index = e, _.column = 0; var T = p ? p.row : null, D = b.row, A = b.row, M = p ? p.row : A, R = H.In(), B = c.children.length > 0, N = H.internalUseStandardColumns && !c.isNewRow, P = E(H.rowHeaderColumns), L = N || R && P, I = x(b.row.columns); p && P && b.row.columns.length === H.rowHeaderColumns.length && H.rowHeaderColumns.forEach(function (e, t) { e.split || (I[t] = p.row.columns[t]) }), L && (I = I.filter(function (e, t) { return !H.rowHeaderColumns[t].hidden }), k = I.length); var z = !(H.rowHeaderColumnsMergeParents && B); if (L && z) { M = I[0] || b.row, A = T || A; var U = H.rowHeaderColumns.find(function (e) { return !e.hidden }); U && U.split && (_.row = c, A = D) } H.ka() && (M = b.row); var O = w ? d[0] : C; _.style.width = O + "px", _.style.border = "0px none"; var j = M.toolTip || A.toolTip; j && (_.title = j), _.setAttribute("unselectable", "on"), "undefined" != typeof A.ariaLabel ? _.setAttribute("aria-label", A.ariaLabel) : _.setAttribute("aria-label", M.text || ""), _.onmouseenter = H.Ar, _.onmouseleave = H.Br, _.onmousemove = H.Cr, _.onmouseout = H.Dr, _.onmouseup = H.Er, _.oncontextmenu = H.Fr, _.onclick = H.Gr, _.ondblclick = H.Hr, DayPilot.rePassive(_, "touchstart", H.Ve.Ir), DayPilot.reNonPassive(_, "touchend", H.Ve.Jr); var q = l(); q.style.width = O + "px", q.setAttribute("unselectable", "on"), q.className = this.da("_rowheader"), h && u(q, H.da("_rowheader_selected")), A.cssClass && u(q, A.cssClass), M.cssClass && u(q, M.cssClass); var F = M.backColor || A.backColor; F && (q.style.background = F); var X = M.fontColor || A.fontColor; X && (q.style.color = X); var V = M.horizontalAlignment || A.horizontalAlignment; H.treeEnabled && (V = null), V && (q.style.textAlign = V), q.style.height = f + "px", q.style.overflow = "hidden", q.style.position = "relative"; var Y = l(); switch (Y.setAttribute("unselectable", "on"), Y.className = this.da("_rowheader_inner"), V) { case "right": Y.style.justifyContent = "flex-end"; break; case "left": Y.style.justifyContent = "flex-start"; break; case "center": Y.style.justifyContent = "center" }q.appendChild(Y); var J = "Disabled" !== this.rowMoveHandling && "main" === c.grid, K = H.rowDragHandleWidth, G = M.areas || []; J && !A.moveDisabled && G.push({ "v": "Hover", "w": K, "bottom": 0, "top": 0, "left": 0, "css": H.da("_rowmove_handle"), "action": "Move" }); var Q = H._n(c); DayPilot.Areas.attach(q, Q, { "areas": G, "allowed": function () { return !S.row } }); var $ = l(); $.style.position = "absolute", $.style.bottom = "0px", $.style.width = "100%", $.style.height = "0px", $.style.boxSizing = "content-box", $.style.borderBottom = "1px solid transparent", $.className = this.da(Z.resourcedivider), q.appendChild($), n(), _.appendChild(q); v && v.refCell || (o.rows[e].cells[0] = _, i(0, _.textDiv, Y), s.appendChild(_)); var ee = !c.isNewRow && H.rowHeaderColumnsMergeParents && b.row.children().length > 0; if (!b.row.columns || 0 === b.row.columns.length || ee) _.colSpan = "max", q.style.width = C + "px"; else for (var te = O, ne = N || R ? 0 : 1, ie = 1; ie < k; ie++) { var M = I[ie - ne] || {}, v = c.cells[ie - ne]; if (!v.refCell) { var f = c.height; v.rowspan > 1 && (f = v.row.split.totalHeight()), A = v.Mr ? T : D; var _ = l(); _.style.position = "absolute", _.style.top = c.top + "px", _.style.left = te + "px", _.row = c, _.index = e, _.column = ie; var ae = M.toolTip || A.toolTip; ae && (_.title = ae), _.setAttribute("unselectable", "on"), _.onmousemove = H.Cr, _.onmouseout = H.Dr, _.onmouseup = H.Er, _.oncontextmenu = H.Fr, _.onclick = H.Gr, _.ondblclick = H.Hr; var q = l(), re = d[ie]; te += re; var F = M.backColor || A.backColor; F && (q.style.backgroundColor = F); var X = M.fontColor || A.fontColor; X && (q.style.color = X), q.style.width = re + "px", q.style.height = f + "px", q.style.overflow = "hidden", q.style.position = "relative", q.setAttribute("unselectable", "on"), u(q, this.da("_rowheader")), u(q, this.da("_rowheadercol")), u(q, this.da("_rowheadercol" + ie)), h && u(q, H.da("_rowheader_selected")), A.cssClass && u(q, A.cssClass), M.cssClass && u(q, M.cssClass); var oe = M.horizontalAlignment || A.horizontalAlignment; oe && (q.style.textAlign = oe); var Y = l(); switch (Y.setAttribute("unselectable", "on"), Y.className = this.da("_rowheader_inner"), oe) { case "right": Y.style.justifyContent = "flex-end"; break; case "left": Y.style.justifyContent = "flex-start"; break; case "center": Y.style.justifyContent = "center" }q.appendChild(Y); var $ = l(); $.style.position = "absolute", $.style.bottom = "0px", $.style.width = "100%", $.style.height = "0px", $.style.boxSizing = "content-box", $.style.borderBottom = "1px solid transparent", $.className = this.da("_resourcedivider"), q.appendChild($); var se = l(), le = H.Ha(M.text, M.html); se.innerHTML = le, _.textDiv = se, _.cellDiv = q, Y.appendChild(se), DayPilot.Areas.attach(q, Q, { "areas": M.areas, "allowed": function () { return !S.row } }), _.appendChild(q), v.refCell || (o.rows[e].cells[ie] = _, i(ie, se, Y), s.appendChild(_)) } } } } }, this.Fr = function (e) { if ("Disabled" === H.rowRightClickHandling) return !1; var t = this.row, n = this.column, i = H._n(t), a = {}; if (a.ctrl = e.ctrlKey, a.shift = e.shiftKey, a.meta = e.metaKey, a.originalEvent = e, a.row = i, a.x = n, a.preventDefault = function () { this.preventDefault.value = !0 }, "function" != typeof H.onRowRightClick || (H.onRowRightClick(a), !a.preventDefault.value)) { switch (H.rowRightClickHandling) { case "ContextMenu": t.contextMenu && t.contextMenu.show(i) }return "function" == typeof H.onRowRightClicked && H.onRowRightClicked(a), !1 } }, this.Gr = function (e) { if (!q.cancelClick) { var t = this.row, n = this.column, i = H._n(t, this.index); return t.isNewRow ? void H.ho.go(t) : void H.do(i, e, n) } }, this.Hr = function (e) { if (H.an.resClick) { for (var t in H.an.resClick) window.clearTimeout(H.an.resClick[t]); H.an.resClick = null } var n = this.row, i = H._n(n, this.index), a = this.column; if (H.Hb()) { var r = {}; if (r.resource = i, r.row = i, r.x = a, r.ctrl = e.ctrlKey, r.shift = e.shiftKey, r.meta = e.metaKey, r.originalEvent = e, r.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onRowDoubleClick && (H.onRowDoubleClick(r), r.preventDefault.value)) return; switch (H.rowDoubleClickHandling) { case "PostBack": H.rowDoubleClickPostBack(i); break; case "CallBack": H.rowDoubleClickCallBack(i); break; case "Select": H.fo(n, e.ctrlKey, e.shiftKey, e.metaKey); break; case "Edit": H.ho.go(n, a) }"function" == typeof H.onRowDoubleClicked && H.onRowDoubleClicked(r) } else switch (H.rowDoubleClickHandling) { case "PostBack": H.rowDoubleClickPostBack(i); break; case "CallBack": H.rowDoubleClickCallBack(i); break; case "JavaScript": H.onRowDoubleClick(i); break; case "Select": H.fo(n, e.ctrlKey, e.shiftKey, e.metaKey); break; case "Edit": H.ho.go(n, a) } }, this.rowDoubleClickPostBack = function (e, t) { var n = {}; n.resource = e, this.Ka("RowDoubleClick", n, t) }, this.rowDoubleClickCallBack = function (e, t) { var n = {}; n.resource = e, this.Ma("RowDoubleClick", n, t) }, this.Nr = function (e) { if ("Disabled" !== H.timeHeaderClickHandling) { var t = {}; t.start = this.cell.start, t.level = this.cell.level, t.end = this.cell.end, t.end || (t.end = new DayPilot.Date(t.start).addMinutes(H.cellDuration)), H.io(t, e) } }, this.Or = function (t) { if ("Disabled" !== H.timeHeaderRightClickHandling) { t.cancelBubble = !0, t.preventDefault(); var n = {}; if (n.start = this.cell.start, n.level = this.cell.level, n.end = this.cell.end, n.end || (n.end = new DayPilot.Date(n.start).addMinutes(H.cellDuration)), H.Hb()) { var i = {}; if (i.header = n, i.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onTimeHeaderRightClick && (H.onTimeHeaderRightClick(i), i.preventDefault.value)) return; switch (this.timeHeaderRightClickHandling) { case "PostBack": H.timeHeaderRightClickPostBack(e); break; case "CallBack": H.timeHeaderRightClickCallBack(e) }"function" == typeof H.onTimeHeaderRightClicked && H.onTimeHeaderRightClicked(i) } } }, this.Pr = function (e) { var t = H.rowlist[e]; if (t.hidden) return 0; var n = t.height; return "number" == typeof t.forcedHeight && (n = t.forcedHeight), n }, this.Qr = function (e, t, n) { H.divHeader, H.elements.cells, H.wa.cells; e.forEach(function (e) { }) }, this.Rr = function (e, t, n) { function i(e) { var n = H.Pr(e), i = t; "hide" === t ? i = 0 : "show" === t && (i = H.rowlist[e].height); var a = i - n; o.push({ "i": e, "now": n, "dist": a }) } function a(e) { s || (s = e); var t = e - s, i = Math.min(1, t / r); 0 === i && (i = .1), o.forEach(function (e) { var t = e.now + e.dist * i; H.rowlist[e.i].forcedHeight = t }), H.Gl(), H.Sr(), i < 1 ? window.requestAnimationFrame(a) : (l.style.overflowX = d, l.style.overflowY = c, "function" == typeof n && n()) } var r = 200, o = []; if ("number" == typeof e) i(e); else { if (!E(e)) throw new DayPilot.Exception("Unexpected param (must be number/array)."); e.forEach(function (e) { i(e) }) } var s = 0, l = H.nav.scroll, d = l.style.overflowX, c = l.style.overflowY; 0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"), window.requestAnimationFrame(a) }, this._n = function (e) { return new DayPilot.Row(e, H) }, this.Om = function (e, t) { t = t || "main"; var n = H.em[t], i = n.rowlist, a = i[e]; if (a.events || a.Tr(), !a.data) { if (a.data = {}, a.data.start = new DayPilot.Date(a.start), a.data.startTicks = a.data.start.getTime(), a.end) a.data.end = new DayPilot.Date(a.end); else { var r = this.ce().getTime() - this.Rb().getTime(); a.data.end = $.Ur() ? a.data.start.addTime(r) : a.data.start.addDays(1) } a.data.endTicks = a.data.end.getTime(), a.data.offset = a.start.getTime() - this.Rb().getTime(), a.data.i = e, a.data.grid = t } }, this.cp = {}, this.Ap = [], this.qb = function (e) { if (e ? this.events.list = e : this.events.list || (this.events.list = []), null != this.events.list && !E(this.events.list)) throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object"); j.vj(!0); var t, n = this.events.list, i = "function" == typeof this.onBeforeEventRender, a = "Resources" === H.viewType; H.cp = {}; for (var r = 0; r < n.length; r++) { var o = n[r]; if (o) { if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object"); if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property"); if (o instanceof DayPilot.Event) throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."); var s = "string" == typeof o.id || "number" == typeof o.id, l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId; if (!s) { var l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId; if (!l) throw new DayPilot.Exception("All events must have an id property (string or number)") } var d = "_" + o.id; !s && l && (d = "#" + o.recurrentMasterId + "#" + new DayPilot.Date(o.start)); if (!H.temp.allowDuplicateEventIds && H.cp[d]) throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + d); H.cp[d] = {}, "Milestone" === o.type && (o.end = o.start), i && this.Kg(r), "*" === o.resource ? t = H.rowlist : a ? t = H.Vr(o.resource).concat(H.Vr("*")) : "Days" === H.viewType ? t = H.rowlist : "Gantt" === H.viewType && (t = H.Vr(o.id)); for (var c = !1, u = 0; t && u < t.length; u++) { var h = t[u], f = this.Gp(o, h, r); if (f) { c = f; var v = H.cp[d]; v.ep || (v.ep = f), i && (f.cache = this.wa.events[r]), f.Hp = r } } } } H.Nm().forEach(function (e) { H.Mp(e) }), H.Jp(), H.kn() }, this.Wr = function (e, t) { return e.start - t.start }, this.Jp = function () { H.Ap = []; for (var e in H.cp) { var t = H.cp[e]; if (t && t.ep) { var n = t.ep.part.start.getTime(), i = t.ep.part.end.getTime(), a = { "i": t.ep.Hp, "start": n, "end": i }; H.Ap.push(a) } } H.Ap.sort(H.Wr) }, this.Xr = {}; var j = this.Xr; j.Yr = {}, j.vj = function (e) { j.Yr = {}, j.Zr = {}, j.$r = []; for (var t = H.Nm({ "includeSplitParents": !0 }), n = 0; n < t.length; n++) { var i = t[n]; if (e && i.Tr(), H.Om(i.index, i.grid), v(i.id)) j.$r.push(i); else if (!i.isNewRow) { var a = i.split.list && i.split.list.length > 0, r = typeof i.id + "_" + i.id; a ? (j.Zr[r] || (j.Zr[r] = []), j.Zr[r].push(i)) : (j.Yr[r] || (j.Yr[r] = []), j.Yr[r].push(i)) } } }, j.loadEvent = function (e) { }, this.Vr = function (e, t) { if (v(e)) return j.$r; t = t || {}; var n = t.includeSplitParents, i = typeof e + "_" + e, a = j.Yr[i] || []; return n && (a = a.concat(j.Zr[i])), a }, this.Fp = function () { var e = {}; if ("Resources" !== H.viewType) return !1; for (var t = 0; t < H.rowlist.length; t++) { var n = H.rowlist[t], i = n.id; if (e[i]) return !0; e[i] = !0 } return !1 }, this.Kg = function (e) { var t = this.wa.events, n = this.events.list[e], i = {}; n instanceof DayPilot.Event && (n = n.data); for (var a in n) i[a] = n[a]; if ("string" == typeof i.start && (i.start = new DayPilot.Date(i.start)), "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)), "function" == typeof this.onBeforeEventRender) { var r = {}; r.e = i, r.data = i, r.control = H, this.onBeforeEventRender(r) } t[e] = i }, this._r = function (e) { var t = e.data.container, n = typeof t; return "string" !== n && "number" !== n ? null : typeof t + "_" + t }, this.Mp = function (e) { if (e.lines = [], e.sections = null, !e.isNewRow) { this.sortDirections ? e.events.sort(this.ih) : H.rl || e.events.sort(this.hh), e.containerCache = {}, e.containers = [], e.events.forEach(function (t) { var n = H._r(t); if (n) { var i = e.containerCache[n]; i || (i = { "events": [], "line": null, "start": null, "end": null, "left": null, "width": null }, e.containerCache[n] = i, e.containers.push(i)), t.part.container = i, i.events.push(t) } }), e.containers.forEach(function (e) { var t = e.events[0], n = e.events[e.events.length - 1]; e.start = t.part.start, e.end = n.part.end, e.left = t.part.left, e.width = n.part.right - t.part.left, e.right = n.part.right }); if (H.rl) return void Y.Mp(e); var t = H.groupConcurrentEvents; if (t) for (var n = 0; n < e.blocks.length; n++)e.blocks[n].clear(); x(e.events).forEach(function (t) { if (!t.part.height) return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = $.Lo()) }); var i = function (e) { return "number" == typeof e.data.line }; e.events.filter(i).forEach(function (t) { e.ae(t) }); for (var a = 0; a < e.events.length; a++) { var r = e.events[a]; e.ae(r), t && e.$d(r) } for (var o = 0, n = 0; n < e.lines.length; n++) { var s = e.lines[n]; s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100 } if (t) for (var a = 0; a < e.blocks.length; a++) { var l = e.blocks[a]; l.lines = [], l.events.sort(this.ih); for (var d = 0; d < l.events.length; d++) { var r = l.events[d]; l.ae(r) } l.lines.length <= H.groupConcurrentEventsLimit && (l.expanded = !0); var c = x(l.events).map(function (e) { return e.id() }).some(function (e) { return k(H.as, e) }); c && (l.expanded = !0); for (var o = 0, n = 0; n < l.lines.length; n++) { var s = l.lines[n]; s.top = o, o += (s.height || e.eventHeight) * e.eventStackingLineHeight / 100 } } } }, this.jn = function (e) { e = DayPilot.ua(e), e = H.Ln(e), e.forEach(function (e) { H.Mp(e) }), H.rl ? Y.bs() : e.forEach(function (e) { H.Aq(e) }) }, this.Xn = function () { var e = "Manual" === H.scale ? H.itline[0].start : H.startDate; return x(H.rowlist).some(function (t) { return !!t.start && t.start.getTime() !== new DayPilot.Date(e).getTime() }) }, this.Gp = function (e, t, n) { if (!t.hideEvents) { var i = (DayPilot.Util.isNullOrUndefined, new DayPilot.Date(e.start)), a = new DayPilot.Date(e.end); a = H.Aj(a); var r = i.ticks, o = a.ticks; if (o < r) return null; "number" != typeof n && (n = _(H.events.list, e)); var s = null; if ("function" == typeof H.onBeforeEventRender && (s = H.wa.events[n]), s) { if (s.hidden) return null } else if (e.hidden) return null; var l = !1; switch (this.viewType) { case "Days": l = (!(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks) && !0; break; case "Resources": l = (t.id === e.resource || "*" === t.id || "*" === e.resource) && (!(o <= t.data.startTicks || r >= t.data.endTicks) || r === o && r === t.data.startTicks); break; case "Gantt": l = t.id === e.id && !(o <= t.data.startTicks || r >= t.data.endTicks) }if (!l) return null; var d = new DayPilot.Event(e, H); d.part.dayIndex = t.data.i, d.part.grid = t.data.grid, d.part.start = t.data.startTicks < r ? i : t.data.start, d.part.end = t.data.endTicks > o ? a : t.data.end; var c = this.getPixels(d.part.start.addTime(-t.data.offset)), u = this.getPixels(d.part.end.addTime(-t.data.offset)); d.part.start === d.part.end && (u = this.getPixels(d.part.end.addTime(-t.data.offset).addMilliseconds(1))), s && s.height ? d.part.height = s.height : e.height && (d.part.height = e.height); s || d.data; d.part.cs = function () { var e = this.height; if (H.eventVersionsEnabled && !x(d.versions).isEmpty()) { var t = d.versions.length; e += t * H.eventVersionHeight, e += t * H.eventVersionMargin } return e + H.eventMarginBottom }; var h = c.left, v = u.left; if (d.part.startPixels = c, d.part.endPixels = u, h === v) { if (c.cut || u.cut) return null; var p = (d.part.start.addTime(-t.data.offset).getTime() + d.part.end.addTime(-t.data.offset).getTime()) / 2; if (H.getPixels(new DayPilot.Date(Math.floor(p))).cut) return null } d.part.box = $.gh(o - r); var m = H.eventHeight; if ("Milestone" === e.type) { var g = e.width || m; d.part.end = d.part.start, d.part.left = h - g / 2, d.part.width = g, d.part.barLeft = 0, d.part.barWidth = g } else if (d.part.box) { var y = c.boxLeft, b = u.boxRight; d.part.left = y, d.part.width = b - y, d.part.barLeft = f(h - d.part.left, 0), d.part.barWidth = f(v - h, 1) } else d.part.left = h, d.part.width = f(v - h, 1), d.part.barLeft = 0, d.part.barWidth = f(v - h - 1, 1); var w = H.eventMinWidth; if (d.part.width = Math.max(d.part.width, w), d.part.right = d.part.left + d.part.width, d.cache = s, d.Hp = n, H.eventVersionsEnabled && H.es(d, t), "function" == typeof H.onEventFilter && H.events.fh) { var k = {}; if (k.filter = H.events.fh, k.filterParam = H.events.fh, k.visible = !0, k.e = d, H.onEventFilter(k), !k.visible) return null } return t.events.push(d), d } }, this.es = function (e, t) { e.versions = []; var n = e.cache || e.data, i = x(n.versions); if (!i.isEmpty()) { var a = e.part.left, r = e.part.left + e.part.width; i.forEach(function (n) { var i = new DayPilot.Date(n.start), o = new DayPilot.Date(n.end), s = H.getPixels(i.addTime(-t.data.offset)), l = H.getPixels(o.addTime(-t.data.offset)); i.ticks === o.ticks && (l = H.getPixels(o.addTime(-t.data.offset).addTime(1))); var d = s.left, c = l.left; if (d === c && (s.cut || l.cut)) return null; var u = {}; u.left = d, u.continueLeft = i < t.data.start, u.right = c, u.continueRight = o > t.data.end, u.width = c - d, e.versions.push(u), u.left < a && (a = u.left), u.right > r && (r = u.right) }); H.eventVersionsReserveSpace && !n.versionsReserveSpaceDisabled ? (e.part.versionsLeft = a, e.part.versionsRight = r, e.part.versionsWidth = r - a) : (e.part.versionsLeft = e.part.left, e.part.versionsRight = e.part.left + e.part.width, e.part.versionsWidth = e.part.width) } }, this.hh = function (e, t) { if (!(e && t && e.start && t.start)) return 0; var n = e.start().ticks, i = t.start().ticks, a = e.end().ticks, r = t.end().ticks; "Milestone" === e.data.type && (n -= 1, a += 1), "Milestone" === t.data.type && (i -= 1, r += 1); var o = n - i; return 0 !== o ? o : r - a }, this.ih = function (e, t) { if (!e || !t) return 0; var n = e.cache || e.data, i = t.cache || t.data; if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0)) return H.hh(e, t); for (var a = 0, r = 0; 0 === a && "undefined" != typeof n.sort[r] && "undefined" != typeof i.sort[r];)a = n.sort[r] === i.sort[r] ? 0 : "number" == typeof n.sort[r] && "number" == typeof i.sort[r] ? n.sort[r] - i.sort[r] : H.jh(n.sort[r], i.sort[r], H.sortDirections[r]), r++; return a }, this.jh = function (e, t, n) { var i = "desc" !== n, a = i ? -1 : 1, r = -a; if (null === e && null === t) return 0; if (null === t) return r; if (null === e) return a; var o = []; return o[0] = e, o[1] = t, o.sort(), e === o[0] ? a : r }, this.fo = function (e, t, n, i) { if (H.Hb()) { var a = _(H.rowlist, e), r = H._n(e, a), o = _(q.bj, e) !== -1, s = o ? "deselected" : "selected", l = {}; if (l.row = r, l.selected = o, l.ctrl = t, l.shift = n, l.meta = i, l.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onRowSelect && (H.onRowSelect(l), l.preventDefault.value)) return; var d = n && !t && !i; if (n || (q.fs = { "row": e, "index": a }), d) { q.hs(); var c = q.fs.index, u = a; q.ks(c, u) } switch (H.rowSelectHandling) { case "PostBack": H.rowSelectPostBack(r, s); break; case "CallBack": H.rowSelectCallBack(r, s); break; case "Notify": !d && q.M(e, t, n, i), H.rowSelectNotify(r, s); break; case "Update": !d && q.M(e, t, n, i) }"function" == typeof H.onRowSelected && (l.selected = _(q.bj, e) !== -1, H.onRowSelected(l)) } else { q.M(e, t, n); var a = _(H.rowlist, e), r = H._n(e, a), o = _(q.bj, e) !== -1, s = o ? "deselected" : "selected"; switch (H.rowSelectHandling) { case "PostBack": H.rowSelectPostBack(r, s); break; case "CallBack": H.rowSelectCallBack(r, s); break; case "Notify": H.rowSelectNotify(r, s); break; case "JavaScript": H.onRowSelect(r, s) } } }, this.rowSelectPostBack = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.Ka("RowSelect", i, n) }, this.rowSelectCallBack = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.Ma("RowSelect", i, n) }, this.rowSelectNotify = function (e, t, n) { var i = {}; i.resource = e, i.change = t, this.Ma("RowSelect", i, n, "Notify") }, this.rows = {}, this.rows.selection = {}; var W = this.rows.selection; W.wa = [], W.get = function () { var e = []; return x(q.bj).forEach(function (t) { e.push(H._n(t)) }), e }, W.clear = function () { q.ls() }, W.add = function (e) { if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected"); x(q.bj).some(function (t) { return t === e.$.row }) || (q.bj.push(e.$.row), W.ms(), q.Uk(e.$.row)) }, W.remove = function (e) { if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected"); W.isSelected(e) && (DayPilot.rfa(q.bj, e.$.row), W.ms(), q.Uk(e.$.row)) }, W.isSelected = function (e) {
                if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected"); return _(q.bj, e.$.row) !== -1;
            }, W.ms = function () { H.selectedRows = x(q.bj).map(function (e) { return e.id }), W.wa = [], q.bj.forEach(function (e) { W.wa[e.grid + "_" + e.index] = !0 }) }, this.rows.all = function () { for (var e = x(), t = H.Nm({ "includeSplitParents": !0 }), n = 0; n < t.length; n++) { var i = H._n(t[n]); e.push(i) } return e }, this.rows.visible = function () { for (var e = x(), t = 0; t < H.rowlist.length; t++) { var n = H.rowlist[t]; if (!n.hidden) { var n = H._n(H.rowlist[t]); e.push(n) } } return e }, this.rows.each = function (e) { H.rows.all().forEach(e) }, this.rows.forEach = function (e) { H.rows.all().forEach(e) }, this.rows.filter = function (e, t) { H.rows.fh = e, t || H.Aa && H.Jd({ "immediateEvents": !0 }) }, Object.defineProperty(H.rows, "filterParam", { get: function () { return H.rows.fh } }), this.rows.sort = function (e) { var t = H.rows.sortParam; if ("string" == typeof e) H.rows.ns = { "field": e, "order": "asc" }; else if ("object" == typeof e) { var n = p(e); n.order || (n.order = "asc"), H.rows.ns = n } else H.rows.ns = null; if (H.Aa && H.Jd({ "immediateEvents": !0 }), "function" == typeof H.onRowSorted) { var i = {}; i.oldSortParam = t, H.onRowSorted(i) } }, Object.defineProperty(H.rows, "sortParam", { get: function () { return { "order": H.rows.os(), "field": H.rows.ps() } } }), this.rows.ps = function () { var e = H.rows.ns; return e ? e.field : null }, this.rows.os = function () { var e = H.rows.ns; return e ? e.order : "asc" }, this.rows.find = function (e, t) { if ("string" == typeof e || "number" == typeof e || !e && t) { var n = H.Vr(e, { "includeSplitParents": !0 }); e || (n = H.rowlist); var i = null; return "string" == typeof t || t instanceof DayPilot.Date ? (t = new DayPilot.Date(t), i = n.find(function (e) { return t === e.start })) : i = n[0], i ? new DayPilot.Row(i, H) : null } if ("function" != typeof e) throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected"); var a = t || 0, r = H.rowlist.find(function (t, n) { return !(n < a) && e(H._n(t)) }); if (r) return H._n(r) }, this.rows.load = function (e, t, n) { if (!e) throw new DayPilot.Exception("rows.load(): 'url' parameter required"); var i = function (e) { var t = {}; t.exception = e.exception, t.request = e.request, "function" == typeof n && n(t) }, a = function (e) { var n, a = e.request; try { n = JSON.parse(a.responseText) } catch (e) { var r = {}; return r.exception = e, void i(r) } if (E(n)) { var o = {}; if (o.preventDefault = function () { this.preventDefault.value = !0 }, o.data = n, "function" == typeof t && t(o), o.preventDefault.value) return; H.resources = o.data, H.Aa && H.update() } }; H.rowsLoadMethod && "POST" === H.rowsLoadMethod.toUpperCase() ? DayPilot.ajax({ "method": "POST", "url": e, "success": a, "error": i }) : DayPilot.ajax({ "method": "GET", "url": e, "success": a, "error": i }) }, this.rows.expand = function (e) { for (var t = [], n = e || 1, i = 0; i < H.rowlist.length; i++) { var a = H.rowlist[i], r = n === -1; a.level < n && (r = !0), r && !a.expanded && a.children && a.children.length > 0 && t.push(a.index) } if (0 !== t.length) if (1 === t.length) H.nq(t[0]); else { for (var i = 0; i < t.length; i++) { var o = t[i], s = H.rowlist[o].resource; s.expanded = !0 } H.Jd() } }, this.rows.expandAll = function () { H.rows.expand(-1) }, this.rows.collapseAll = function () { H.rowlist.forEach(function (e) { e.resource.expanded = !1 }), H.Jd() }, this.rows.headerHide = function () { H.qs = !0, H.rs(), H.or(), H.Em() }, this.rows.headerShow = function () { H.qs = !1, H.rs(), H.or(), H.Em() }, this.rows.headerToggle = function () { H.qs ? H.rows.headerShow() : H.rows.headerHide() }, this.rows.edit = function (e, t) { var n = H.rowHeaderColumns, i = n && n.length - 1; if ("undefined" != typeof t && (t < 0 || t > i)) throw new DayPilot.Exception("Invalid column index: " + t); q.go(e.$.row, t) }, this.rows.remove = function (e) { if ("number" == typeof e || "string" == typeof e) { var t = H.rows.find(e); if (!t) throw new DayPilot.Exception("The row to be removed was not found"); return void H.rows.remove(t) } var n = e.$.row.resource, i = X.ts(n); if (!i) throw new DayPilot.Exception("Cannot find source node parent"); var a = _(i, n); i.splice(a, 1), H.update() }, this.rows.add = function (e) { H.resources.push(e), H.Jd() }, this.rows.addChild = function (e, t) { if ("number" != typeof e && "string" != typeof e || (e = H.rows.find(e)), e) { if (!(e instanceof DayPilot.Row)) { var t = e; if (e = H.rows.find(t.id), !e) return } e.data.children || (e.data.children = []), e.data.children.push(t), H.Jd() } }, this.rows.update = function (e) { if (!(e instanceof DayPilot.Row || "object" == typeof e)) throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object."); if (!(e instanceof DayPilot.Row)) { var t = e; if (e = H.rows.find(t.id), !e) return; e.data = t } !x(H.events.Ep.rows).isEmpty() && (Q.Dp = !0, H.events.Rn({ "dontResetFocus": !0 })), Q.Dp = !1; var n = H.rows.selection.isSelected(e), i = e, a = i.splitChildren(), r = a.length > 0, o = i.$.row.split.parent, s = e.index, l = H.Ho(e.grid).rowlist; r && (l = H.Ho(e.grid).rowlistparents, s = l.indexOf(e.$.row)); var d = l[s], c = e.data, u = e.parent() ? e.parent().$.row : null, h = H.vs(c), e = H.ws(h, u); if (e.xs = (new Date).getTime(), e.hidden = d.hidden, e.level = d.level, e.children = d.children, e.index = s, e.top = d.top, e.height = d.height, e.grid = d.grid, e.split = d.split, l[s] = e, r) { a.forEach(function (t) { t.$.row.split.parent = e, H.rows.update(t) }); var f = typeof e.id + "_" + e.id, v = j.Zr[f]; return void (v[v.indexOf(d)] = e) } if (o) { var p = o.split.list, m = p.indexOf(d); m > -1 && p.splice(m, 1, e) } n && (DayPilot.rfa(q.bj, i.$.row), q.bj.push(e)), e.Tr(), H.Om(e.index, e.grid), H.Gl(), H.ys(e), H.Mp(e), H.kn(), H.zs(), H.ln([e]), H.yb(), Q.Hn(), H.As = !0, H.Bs = setTimeout(function () { H.As = !1 }, 500) }, this.ys = function (e) { for (var t = H.events.list, n = t.length, i = "function" == typeof H.onBeforeEventRender, a = 0; a < n; a++) { var r = t[a]; if (r) { if (r instanceof DayPilot.Event) throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead."); if ("Days" === H.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'."); if ("Gantt" === H.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'."); if ("*" === r.resource || "*" === e.id || r.resource === e.id) { i && this.Kg(a); var o = this.Gp(r, e, a); o && (i && (o.cache = this.wa.events[a]), o.Hp = a) } } } }, this.Cs = function () { var e = S.source, t = S.target, n = S.position, a = S.sourceCalendar; if (q.Ds(), "forbidden" !== n) { var r = i.Es.element; if (r && r.remove(), H.Hb()) { var o = {}, s = H._n(e); if (s.calendar = a, o.source = s, o.target = H._n(t), o.position = n, o.external = !!i.Es, o.keepSource = function () { this.keepSource.value = !0 }, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onRowMove && (H.onRowMove(o), o.preventDefault.value)) return; switch (H.rowMoveHandling) { case "Update": q.Fs(o); break; case "CallBack": H.rowMoveCallBack(o.source, o.target, o.position); break; case "PostBack": H.rowMovePostBack(o.source, o.target, o.position); break; case "Notify": q.Fs(o), H.rowMoveNotify(o.source, o.target, o.position) }o.keepSource.value || a && H !== a && a.rows.remove(s), "function" == typeof H.onRowMoved && H.onRowMoved(o) } else { var e = H._n(e), t = H._n(t); switch (H.rowMoveHandling) { case "CallBack": H.rowMoveCallBack(e, t, n); break; case "PostBack": H.rowMovePostBack(e, t, n); break; case "JavaScript": H.onRowMove(e, t, n) } } } }, this.Wl = function (e) { var t = x(e); q.bj = [], t.isEmpty() || (H.ol = !1, H.pb()), t.forEach(function (e) { H.Vr(e).forEach(function (e) { q.bj.push(e) }) }), W.wa = [], q.bj.forEach(function (e) { W.wa[e.grid + "_" + e.index] = !0 }), q.Gs() }, this.ho = {}; var q = this.ho; q.go = function (e, t) { q.Hs(e, t) }, q.Is = function () { q.fs = { "row": H.rowlist[0], "index": 0 } }, q.Js = function (e) { var t = _(H.rowlist, e); if (t === -1) throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range"); q.fs = { "row": e, "index": t } }, q.hs = function () { q.fs || q.Is(); var e = _(H.rowlist, q.fs.row); if (!(e > -1)) { var t = H.hm(q.fs.row.id); t ? (e = _(H.rowlist, t), q.fs = { "row": t, "index": e }) : q.Is() } }, q.Ks = function (e) { var t = H.jr(), n = H.da("_rowmove_source"), i = e.top, a = e.height; e.split.list.length > 0 && (i = e.split.list[0].top, a = e.split.totalHeight()); var r = h(H.divHeader, 0, i, t, a); r.className = n, e.moveOverlay = r }, q.Ls = function (e) { e && (C(e.moveOverlay), e.moveOverlay = null) }, q.Ms = function () { var e = q.Ns; if (e) { q.Ns = null; try { e.input.parentNode.removeChild(e.input) } catch (e) { a() } e.input = null } }, q.Hs = function (e, t) { t = t || 0, e.isNewRow && (t = 0); var n = q.Os(e), i = n.cells[t]; if (i.input) return i.input; q.Ms(), DayPilot.Areas.disable(i.firstChild); var a = i.clientWidth; e.isNewRow && (a = H.wm()); var r = 0; 0 === t && (r = e.level * H.treeIndent); var o = document.createElement("input"); o.style.position = "absolute", o.style.top = "0px", o.style.left = "0px", o.style.width = a + "px", o.style.height = e.height - 1 + "px", o.style.border = "0px none", o.style.overflow = "hidden", o.style.boxSizing = "border-box", o.style.resize = "none", o.style.paddingLeft = r + "px", o.style.outline = "none"; var s = i.textDiv; o.style.fontFamily = DayPilot.gs(s, "fontFamily") || DayPilot.gs(s, "font-family"), o.style.fontSize = DayPilot.gs(s, "fontSize") || DayPilot.gs(s, "font-size"); var l = e.name; if (!e.isNewRow && H.rowHeaderColumns) { var d = e.resource.task ? e.resource.task : e.resource, c = H.rowHeaderColumns[t] || {}, u = c.display; l = H.yr(d, u), 0 !== t || u || (l = e.name) } o.value = l || "", i.firstChild.appendChild(o), i.input = o; var h = q.Ms; return o.focus(), o.onblur = function () { o.onblur = null; var n = o.value; h(), DayPilot.Areas.enable(i.firstChild), H.co(e, n, o.canceled, t) }, o.onkeydown = function (e) { var t = e.keyCode; return 27 === t && (o.canceled = !0, h()), 13 !== t || (o.onblur(), !1) }, o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(), q.Ns = i, o }, q.bj = [], q.M = function (e, t, n, i) { var a = _(q.bj, e) !== -1; if (t || i) { if (a) return DayPilot.rfa(q.bj, e), W.ms(), void q.Uk(e) } else a = !1, q.ls(); a || q.bj.push(e), W.ms(), q.Uk(e) }, q.ks = function (e, t) { q.ls(); for (var n = Math.min(e, t), i = Math.max(e, t), a = n; a <= i; a++) { var r = H.rowlist[a]; q.bj.push(r) } W.ms(); for (var a = n; a <= i; a++) { var r = H.rowlist[a]; q.Uk(r) } }, q.Gs = function () { for (var e = 0; e < q.bj.length; e++) { var t = q.bj[e]; q.Uk(t) } }, q.Uk = function (e) { var t = _(H.rowlist, e); if (t === -1) { var n = H.hm(e.id); if (!n) return; t = n.index } H.Qn(t, e.grid), H.Rl(), H.Io(t, e.grid), H.rr(t, e.grid) }, q.oo = function () { var e = []; if (!q.bj) return e; for (var t = 0; t < q.bj.length; t++) { var n = q.bj[t], i = _(H.rowlist, n), a = H._n(n, i); e.push(a.toJSON()) } return e }, q.fs = null, q.ls = function () { var e = q.bj; if (q.bj = [], H.selectedRows = [], W.wa = [], e.length <= 5) e.forEach(function (e) { q.Uk(e) }); else { H.Ol(), H.Rl(); for (var t = 0; t < H.rowlist.length; t++)H.divHeader.rows[t] && H.Kn(t) } }, q.Os = function (e) { for (var t = H.divHeader, n = 0; n < t.rows.length; n++) { var i = t.rows[n]; if (i && i.cells[0] && i.cells[0].row && i.cells[0].row.resource === e.resource) return i } return null }, q.je = function (e) { var t = w.rowmoving, n = e.split.parent ? e.split.parent : e; t.row = n, t.sourceCalendar = H, t.cursor = H.divResScroll.style.cursor, H.divResScroll.style.cursor = "move", i.Es || q.Ks(n) }, q.Ds = function (e) { e = e || {}; var t = e.keepOverlay; H.divResScroll.style.cursor = S.cursor, C(S.div), t || q.Ls(S.row), w.rowmoving = S = {} }, q.Ps = function (e) { var t = DayPilot.mo3(H.divHeader, e), n = H.wo(t.y, "main", !0), a = H.rowlist[n.i]; if (a && !a.isNewRow) { a.split.parent && (a = a.split.parent); var r = H.rowMoveSameLevelOnly, o = t.y - n.top, s = n.bottom - n.top, d = s / 3, c = 2 * d, u = s / 2, h = "before", f = a.children && a.children.length > 0, v = f && a.expanded, p = function () { for (var e = n.i, t = a.level; e >= 0;) { var i = H.rowlist[e]; if (e--, !(t <= i.level)) { if (i === S.row) return !0; if (0 === i.level) return !1; t = i.level } } return !1 }(), m = a, g = H.treeEnabled, y = n.i === S.row.index && S.sourceCalendar === H; if (p || y && !r) h = "forbidden"; else if (g) if (r) { var b = S.row.level, w = a.level; if (w === b - 1) h = "child"; else if (b !== w) if (b === w - 1) { var x = a.Qs, k = x.children.length - 1; a.index === x.children[k] ? (m = x, h = "after") : h = "forbidden" } else h = "forbidden"; else h = o < u ? "before" : f && v ? "before" : "after" } else h = f && v ? o < u ? "before" : "child" : o < d ? "before" : o < c ? "child" : "after"; else h = f ? "before" : o < u ? "before" : "after"; S.row.moveDisabled && (h = "forbidden"), S.calendar = H, S.source = S.row, S.target = m, S.position = h; if (function () { return !S.last || (S.last.target !== S.target || S.last.position !== S.position) }()) { if ("function" == typeof H.onRowMoving) { var _ = {}; _.source = H._n(S.source), _.target = H._n(S.target), _.position = h, _.external = !!i.Es, H.onRowMoving(_), S.position = _.position } } else S.last && (S.position = S.last.position); S.last = {}, S.last.target = S.target, S.last.position = S.position, function () { S.div && C(S.div); var e = n.top, t = S.position, i = H.rowlist[n.i], a = i.level, r = a * H.treeIndent; switch (t) { case "before": e = n.top; break; case "child": e = n.top + u; break; case "after": e = n.bottom; break; case "forbidden": e = n.top + u }var o = H.jr() - r, s = l(); s.style.position = "absolute", s.style.left = r + "px", s.style.width = o + "px", s.style.top = e + "px", s.className = H.da("_rowmove_position_" + t), S.div = s, H.divResScroll.appendChild(s) }() } }, q.Fs = function (e) { var t = e.source.$.row.resource, n = e.target.$.row.resource, i = e.position; if (t !== n && "forbidden" !== i) { if (e.source.calendar === e.target.calendar) { var a = e.source.calendar.Rs.ts(t); if (!a) throw new DayPilot.Exception("Cannot find source node parent"); var r = _(a, t); a.splice(r, 1) } var o = X.ts(n); if (!o) throw new DayPilot.Exception("Cannot find target node parent"); var s = _(o, n); switch (i) { case "before": o.splice(s, 0, t); break; case "after": o.splice(s + 1, 0, t); break; case "child": n.children || (n.children = [], n.expanded = !0), n.children.push(t) }H.update() } }; var F = {}; this.Ss = F, F.yi = function (e) { }; var X = {}; this.Rs = X, X.ts = function (e) { return X.Ts(H.resources, e) }, X.Ts = function (e, t) { if (_(e, t) !== -1) return e; for (var n = 0; n < e.length; n++) { var i = e[n]; if (i.children && i.children.length > 0) { var a = X.Ts(i.children, t); if (a) return a } } return null }, this.Fl = function () { var e = this.resources, t = this.ka(); t || ("Gantt" === this.viewType ? e = this.Us() : "Days" === this.viewType && (e = this.Vs())), !t || "Days" !== this.viewType || e && 0 !== e.length || (e = this.Vs()); var n = {}; if (n.i = 0, null != e && !E(e)) throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object"); e = e || [], H.Ws = !1; var i = e.filter(function (e) { var t = "string" == typeof e.frozen ? e.frozen.toLowerCase() : null; return "top" !== t && "bottom" !== t }); H.rowlist = x(), H.rowlistparents = x(), this.Xs(i, n, 0, null, this.treeEnabled, !1, "main"); var a = e.filter(function (e) { return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase() }); H.em.top.rowlist = x(), H.em.top.rowlistparents = x(), H.em.top.height = 0, this.Xs(a, { "i": 0 }, 0, null, !1, !1, "top"); var r = e.filter(function (e) { return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase() }); H.em.bottom.rowlist = x(), H.em.bottom.rowlistparents = x(), H.em.bottom.height = 0, this.Xs(r, { "i": 0 }, 0, null, !1, !1, "bottom"), "Disabled" !== H.rowCreateHandling && this.Ys() }, this.Ys = function () { var e = {}; e.id = "NEW", e.isNewRow = !0, e.html = "", e.index = H.rowlist.length, e.loaded = !0, e.start = H.Rb(), e.children = [], e.height = H.eventHeight, e.marginBottom = 0, e.marginTop = 0, e.getHeight = function () { return H.rowCreateHeight ? H.rowCreateHeight : H.eventHeight + H.rowMarginBottom + H.rowMarginTop }, e.ae = function () { }, e.Tr = function () { }, this.rowlist.push(e) }, this.Gl = function (e) { function t(e, t) { if (e.cells = [], !e.hidden || n) { var i = e.split && e.split.parent; (H.rowHeaderColumns || [{}]).forEach(function (n, a) { var r = {}; r.row = n.split ? e : i || e, r.y = t, r.x = a, r.rowspan = 1; var o = !n.split && i, s = i && e.split.zr(), l = (n.split && !i, i && i.split.list.filter(function (e) { return !e.hidden }).length), d = 0; if (i) { var c = i.split.list.find(function (e) { return e.split.zr() }), u = i.split.list.indexOf(c); u > 0 && (d = u) } o && (r.Mr = !0, s ? (r.rowspan = l, r.totalHeight = function () { return i.split.totalHeight() }) : r.refCell = i.split.list[d].cells[a]), e.cells.push(r) }) } } e = e || {}; var n = e.includeHidden; H.rowlist.forEach(function (e, n) { t(e, n) }), H.em.top.rowlist.forEach(function (e, n) { t(e, n) }), H.em.bottom.rowlist.forEach(function (e, n) { t(e, n) }) }, this.Us = function () { var e = []; if (this.xl && this.resources) for (var t = 0; t < this.resources.length; t++)e.push(this.resources[t]); if (this.events.list) { for (var t = 0; t < this.events.list.length; t++) { var n = this.events.list[t], i = {}; i.id = n.id, i.name = n.text, i.columns = n.columns, e.push(i) } return e } }, this.Vs = function () { var e = [], t = H.Rb(), n = this.Ja.Tc(), i = H.resources || [], a = i.filter(function (e) { return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase() }), r = i.filter(function (e) { return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase() }); e = e.concat(a).concat(r); for (var o = 0; o < this.days; o++) { var s = t.addDays(o); if (H.showNonBusiness || H.businessWeekends || 0 != s.dayOfWeek() && 6 != s.dayOfWeek()) { var l = {}; l.name = s.toString(n.datePattern, n), l.start = s, e.push(l) } } return e }, this.Rb = function () { return this.itline && this.itline.length > 0 ? this.itline[0].start : new DayPilot.Date(this.startDate) }, this.ce = function () { if (this.itline && this.itline.length > 0) { var e = H.itline[this.itline.length - 1].end; return "Days" !== H.viewType ? e : e.addDays(H.days - 1) } return new DayPilot.Date(H.startDate).addDays(H.days) }, this.visibleStart = function () { return this.Rb() }, this.visibleEnd = function () { return this.ce() }, this.ws = function (e, t) { var n = {}; if (n.backColor = e.backColor, n.fontColor = e.fontColor, n.cssClass = e.cssClass, n.expanded = e.expanded, n.name = e.name, n.html = H.Ha(e.name, e.html), n.emptyHeight = "undefined" != typeof e.emptyHeight ? e.emptyHeight : H.rowEmptyHeight, n.eventHeight = "undefined" != typeof e.eventHeight ? e.eventHeight : H.Ja.Lo(), n.minHeight = "undefined" != typeof e.minHeight ? e.minHeight : H.rowMinHeight, n.marginBottom = "undefined" != typeof e.marginBottom ? e.marginBottom : H.rowMarginBottom, n.marginTop = "undefined" != typeof e.marginTop ? e.marginTop : H.rowMarginTop, n.eventStackingLineHeight = "undefined" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : H.eventStackingLineHeight, n.loaded = !e.dynamicChildren, n.id = e.id || e.value, n.id = v(e.id) ? e.value : e.id || e.value, n.toolTip = e.toolTip, n.children = [], n.columns = [], n.start = e.start ? new DayPilot.Date(e.start) : this.Rb(), n.end = e.end, n.isParent = e.isParent, n.contextMenu = e.contextMenu ? DayPilot.Util.evalVariable(e.contextMenu) : this.contextMenuResource, n.areas = e.areas, n.moveDisabled = e.moveDisabled, n.bubbleHtml = e.bubbleHtml, n.cellsDisabled = e.cellsDisabled, n.tags = e.tags, n.task = e.task, n.swimlane = e.swimlane, n.hideEvents = e.hideEvents, n.height = n.eventHeight, n.level = 0, n.resource = e.Zs, n.lines = [], n.blocks = [], n.containers = [], n.containerCache = {}, n.isRow = !0, n.split = {}, n.split.list = [], n.split.totalHeight = function () { var e = 0; return this.list.forEach(function (t) { t.hidden || (e += t.height) }), e }, n.getHeight = function () { var e = 0, t = Math.max(0, n.resource && n.resource.maxLines || 1e5); if (H.groupConcurrentEvents) for (var i = 0; i < this.blocks.length; i++) { var a = this.blocks[i]; e = Math.max(e, a.getHeight()) } else if (this.lines.length > 0) { var r = Math.min(this.lines.length, t), o = r - 1, s = this.lines[o], l = s.height || this.eventHeight, d = s.top || 0; e = d + l } if (0 === e) { if ("number" == typeof this.emptyHeight) return this.emptyHeight; e = this.eventHeight } return e > this.minHeight ? e : this.minHeight }, n.bq = function () { var e = n.start.getTime() - H.Rb().getTime(); return H.itline[H.itline.length - 1].end.addTime(e) }, n.Tr = function () { var e = this; e.events = x(), e.events.forRange = function (t, n) { t = new DayPilot.Date(t), n = n ? new DayPilot.Date(n) : e.bq(); for (var i = x(), a = 0; a < e.events.length; a++) { var r = e.events[a], o = H.Aj(r.end()); d(r.start(), o, t, n) && i.push(r) } return i } }, n.Rp = function () { function e() { for (var e = [], t = 0; t < n.events.length; t++) { var i = n.events[t]; k(e, i.start().toString()) || e.push(i.start().toString()), k(e, i.rawend().toString()) || e.push(i.rawend().toString()) } return e.sort(), e } function t() { for (var t = e(), i = [], a = { "start": n.data.start }, r = 0; r < t.length; r++)a.end = new DayPilot.Date(t[r]), i.push(a), a = { "start": new DayPilot.Date(t[r]) }; return a.end = n.data.end, i.push(a), i.forRange = function (e, t) { for (var n = x(), i = 0; i < this.length; i++) { var a = this[i]; d(e, t, a.start, a.end) && n.push(a) } return n.maxSum = function (e) { for (var t = 0, n = 0; n < this.length; n++) { var i = this[n], a = i.sum(e); a > t && (t = a) } return t }, n }, i } for (var n = this, i = n.sections = t(), a = 0; a < i.length; a++) { var r = i[a]; r.events = x(); for (var o = 0; o < n.events.length; o++) { var s = n.events[o]; d(r.start, r.end, s.start(), s.rawend()) && r.events.push(s) } r.sum = function (e) { for (var t = 0, n = 0; n < this.events.length; n++) { var i = this.events[n], a = 0; "undefined" == typeof e ? a = 1 : i.tag(e) ? a = i.tag(e) : i.data[e] && (a = i.data[e]), "number" == typeof a && (t += a) } return t } } }, n.$s = function () { var e = []; return e.height = 0, e.add = function (t) { this.push(t); var n = t.part.cs(); n > e.height && (e.height = n) }, e.be = function (e, t, n) { for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) { var o = this[r]; if (!o.data.nonBlocking) { if (!(i < o.part.left || e > o.part.left + o.part.width - 1)) { if (k(n, o.data)) continue; return !1 } if (o.part.container && !(i < o.part.container.left || e > o.part.container.left + o.part.container.width - 1)) return !1; var s = o.cache || o.data; if (H.eventVersionsReserveSpace && !s.versionsReserveSpaceDisabled && !(i < o.part.versionsLeft || e > o.part.versionsRight - 1)) return !1 } } return !0 }, e }, n._s = function (e, t, i) { if ("number" == typeof i) { for (var a = 0; a <= i; a++)this.lines[a] || (this.lines[a] = n.$s()); return i } if ("dedicated" === i) { var r = n.$s(); return r.be = function () { return !1 }, this.lines.push(r), this.lines.length - 1 } for (var a = 0; a < this.lines.length; a++) { var r = this.lines[a]; if (r.be(e, t)) return a } var r = n.$s(); return this.lines.push(r), this.lines.length - 1 }, n.ae = function (e) { var t = e.data, i = e.part, a = e.part.container; if (a) { if (null === a.line && ("number" == typeof t.line || "dedicated" === t.line)) return s = n._s(a.left, a.width, t.line), i.line = s, this.lines[s].add(e), a.line = s, s } else if ("number" == typeof t.line || "dedicated" === t.line) return s = n._s(i.left, i.width, t.line), i.line = s, this.lines[s].add(e), s; var r = e.cache || e.data, o = H.eventVersionsReserveSpace && !r.versionsReserveSpaceDisabled, s = -1; if (a) { if (null !== a.line) return this.lines[a.line].add(e), a.line; s = n._s(a.left, a.width), a.line = s } else s = o ? n._s(i.versionsLeft, i.versionsWidth) : n._s(i.left, i.width); return i.line = s, this.lines[s].add(e), s }, n.$d = function (e) { for (var t = e.cache || e.data, n = H.eventVersionsReserveSpace && !t.versionsReserveSpaceDisabled, i = 0; i < this.blocks.length; i++) { var a = this.blocks[i]; if (_(a.events, e) !== -1) return; var r = n ? e.part.versionsLeft : e.part.left, o = n ? e.part.versionsWidth : e.part.width; if (a._d(r, o)) return a.events.push(e), e.part.block = a, a.min = Math.min(a.min, r), a.max = Math.max(a.max, r + o), i } var a = {}; a.To = !0, a.expanded = !1, a.row = this, a.events = x(), a.lines = x(), a.ae = function (e) { for (var t = 0; t < this.lines.length; t++) { var i = this.lines[t], a = n ? e.part.versionsLeft : e.part.left, r = n ? e.part.versionsWidth : e.part.width; if (i.be(a, r)) return i.add(e), t } var i = []; i.height = 0, i.add = function (e) { this.push(e), e.part.height > i.height && (i.height = e.part.height), e.data.versions && (i.height = e.part.height + e.data.versions.length * (H.eventVersionHeight + H.eventVersionMargin)) }, i.be = function (e, t) { for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) { var o = this[r], s = n ? o.part.versionsLeft : o.part.left, l = n ? o.part.versionsWidth : o.part.width; if (!(i < s || e > s + l - 1)) return !1 } return !0 }, i.add(e), this.lines.push(i) }, a._d = function (e, t) { return !(e + t - 1 < this.min || e > this.max - 1) }, a.getHeight = function () { if (!this.expanded) return H.eventHeight; if (this.lines.length > 0) { var e = this.lines.length - 1, t = this.lines[e], n = t.height || H.eventHeight; return (t.top || 0) + n } return H.eventHeight }, a.clear = function () { a.events = x(), a.min = null, a.max = null }, a.events.push(e), e.part.block = a, a.min = n ? e.part.versionsLeft : e.part.left, a.max = a.min + (n ? e.part.versionsWidth : e.part.width), this.blocks.push(a) }, n.at = !1, n.Qs = t, n.Wd = function () { this.hidden = !this.bt(), this.at = !1, this.Qs && this.Qs.Wd() }, n.bt = function () { return !this.Qs || this.Qs.bt() && this.Qs.expanded }, e.columns) for (var i = 0; i < e.columns.length; i++)n.columns.push(e.columns[i]); return n }, this.An = function () { H.Nm().forEach(function (e) { if (!e.isNewRow && "function" == typeof H.onRowFilter && H.rows.fh) { var t = e.Qs, n = {}; n.visible = !0, n.row = H._n(e), n.filter = H.rows.fh, n.filterParam = H.rows.fh, n.control = H, H.onRowFilter(n), e.at = !n.visible, n.visible ? H.rowFilterParentsAlwaysVisible && t && t.Wd() : e.hidden = !0 } }) }, this.ct = function (e) { return !e.some(function (e) { return e.children && e.children.length }) }, this.dt = function (e) { return !e.some(function (e) { return !e.children || 0 === e.children.length }) }, this.Ho = function (e) { return e = e || "main", H.em[e] }, this.Xs = function (e, t, n, i, a, r, o) { function s(e, a) { for (var s = 0; s < e.split.length; s++)!function () { var l = e.split[s], d = H.vs(l, v), c = H.ws(d, i); c.level = n, c.index = t.i, c.grid = o || "main", r && (c.hidden = !0), c.split = {}, c.split.parent = a, c.split.y = s, c.split.zr = function () { var e = c.split.parent.split.list.find(function (e) { return !e.hidden }); return !!e && c.split === e.split }, c.Qs = a, a.split.list.push(c), null !== i && i.children.push(t.i), h.push(c), t.i++, H.Ws = !0 }() } if (e) { var l = !1; if (H.rows.ns) switch (H.rowSortingMode) { case "LeavesOnly": l = H.ct(e); break; case "ParentsOnly": l = H.dt(e); break; case "All": l = !0 }if (l) { var d = H.rows.ps(), c = "desc" === H.rows.os(), u = x(e, !0); u.sort(function (e, t) { var n = H.yr(e, d), i = H.yr(t, d), a = 0; return a = n === i ? 0 : "number" == typeof n && "number" == typeof i ? n - i : H.jh(n, i, "asc"), c ? -a : a }), e = u } for (var h = H.Ho(o).rowlist, f = 0; f < e.length; f++)if (e[f]) { var v = {}; if (v.level = n, v.hidden = r, v.index = t.i, !e[f].hidden) { var p = this.vs(e[f], v), m = H.ws(p, i); r && (m.hidden = !0), m.level = n, m.index = t.i, m.grid = o || "main"; var g = !p.children || 0 === p.children.length, y = g && p.split; if (y ? (s(p, m), H.Ho(o).rowlistparents.push(m)) : (null !== i && i.children.push(t.i), h.push(m), t.i++), a && p.children && p.children.length) { var b = r || !m.expanded; this.Xs(p.children, t, n + 1, m, !0, b, o) } } } } }, this.Lr = ["text", "html", "backColor", "cssClass", "areas", "horizontalAlignment", "hidden"], this.Cq = function (e) { if (e.isNewRow) return { "row": { "cssClass": H.da("_row_new"), "moveDisabled": !0, "html": H.Ha(H.rowCreateText, H.rowCreateHtml) } }; var t = {}; t.row = this._n(e), p(e, t.row, ["html", "backColor", "fontColor", "cssClass", "toolTip", "contextMenu", "moveDisabled"]), t.row.areas = DayPilot.Util.createArrayCopy(e.areas), t.row.columns = DayPilot.Util.createArrayCopy(e.columns, H.Lr), e.split && E(H.rowHeaderColumns) && H.rowHeaderColumns.forEach(function (n, i) { !e.split.parent && 0 === e.split.list.length && n.split ? t.row.columns[i].text = "" : !e.split.parent && n.split ? t.row.columns[i] = null : e.split.parent && !n.split && (t.row.columns[i] = null) }); var n = H.rowHeaderColumns; if ("undefined" == typeof t.row.columns && n.length > 0) { r.columns = []; for (var i = 0; i < n.length; i++)r.columns.push({}) } return t.row.children().length > 0 && H.rowHeaderColumnsMergeParents && H.rowHeaderColumns && H.rowHeaderColumns.forEach(function (e, n) { n > 0 && delete t.row.columns[n] }), "function" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t), t }, this.vs = function (e, t) { var n = this.et(e, t); if ("function" == typeof this.onBeforeResHeaderRender) { var i = {}; i.resource = n, this.onBeforeResHeaderRender(i) } return n }, this.et = function (e, t) { var n = { get $data() { return this.Zs } }; for (var i in t) n[i] = t[i]; for (var i in e) n[i] = e[i]; if (n.html = H.Ha(e.name, e.html), H.rowHeaderColumns && H.rowHeaderColumns.length > 0 && "undefined" == typeof n.columns) { n.columns = []; var a = H.rowHeaderColumns; if (H.In()) { for (var r = 0; r < a.length; r++) { var o = a[r], s = H.yr(e, o.display); n.columns.push({ "text": s }) } n.columns[0] && a[0] && !a[0].display && (n.columns[0].text = n.name) } else for (var r = 0; r < a.length; r++)n.columns.push({}) } return n.Zs = e, n }, this.wn = function () { this.nav.top.dp = this, this.nav.top.innerHTML = "", u(this.nav.top, this.da("_main")), this.nav.top.setAttribute("role", "region"), this.nav.top.setAttribute("aria-label", "scheduler"), this.nav.top.style.MozUserSelect = "none", this.nav.top.style.KhtmlUserSelect = "none", this.nav.top.style.webkitUserSelect = "none", this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)", this.nav.top.style.WebkitTouchCallout = "none", this.width && (this.nav.top.style.width = this.width), "Parent100Pct" === this.heightSpec && (this.nav.top.style.height = "100%"), this.nav.top.style.lineHeight = "1.2", this.nav.top.style.position = "relative", this.visible || (this.nav.top.style.display = "none"), this.nav.top.onmousemove = this.Gk, this.nav.top.onmouseleave = function () { if (H.pq(), i.Es) { var e = { "keepOverlay": !!i.Es.Ss }; q.Ds(e) } }, DayPilot.reNonPassive(this.nav.top, "touchstart", J.lf), DayPilot.reNonPassive(this.nav.top, "touchmove", J.mf), DayPilot.reNonPassive(this.nav.top, "touchend", J.nf), this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = "hidden"); var e = this.wm(), t = "Top" === H.timeHeaderPosition; if (H.vn = H.timeHeaderPosition, "DivBased" === this.Ja.ft()) { var n = l(); n.style.position = "absolute", n.style.left = "0px", n.style.width = e + "px"; var a = l(); a.style.height = "0px", a.style.boxSizing = "content-box", a.style.borderTop = "1px solid transparent", a.className = this.da("_divider_horizontal"), this.nav.dh1 = a, this.nav.left = n, "Top" === H.timeHeaderPosition ? (n.appendChild(this.Ff()), n.appendChild(a), n.appendChild(this.gt()), H.em.top.enabled(), n.appendChild(this.ht()), n.appendChild(this.it())) : "Bottom" === H.timeHeaderPosition ? (n.appendChild(this.gt()), n.appendChild(a), n.appendChild(this.Ff())) : n.appendChild(this.gt()); var r = l(); r.style.position = "absolute", r.style.left = e + "px", r.style.width = $.xm() + "px", r.style.height = this.ym() + this.bf() + "px", r.className = this.da("_divider") + " " + this.da("_splitter"), r.setAttribute("unselectable", "on"), this.nav.divider = r, this.rowHeaderScrolling && this.jt(); var o = l(); o.style.marginLeft = e + $.xm() + "px", o.style.position = "relative", this.nav.right = o; var s = l(); t && (s.style.position = "absolute", s.style.top = this.ym() + "px"), s.style.width = "100%", s.style.height = "0px", s.style.boxSizing = "content-box", s.style.borderBottom = "1px solid transparent", s.setAttribute("data-dh2", "true"), s.className = this.da("_divider_horizontal"), this.nav.dh2 = s, "Top" === H.timeHeaderPosition ? (o.appendChild(H.kt()), o.appendChild(H.lt()), o.appendChild(s), H.em.top.enabled(), o.appendChild(H.mt()), o.appendChild(H.nt())) : "Bottom" === H.timeHeaderPosition ? (o.appendChild(H.lt()), o.appendChild(s), o.appendChild(H.kt())) : o.appendChild(H.lt()); var d = l(); d.style.clear = "left"; var c = l(); c.style.height = "1px", c.style.position = "absolute", c.style.left = "0px", c.style.right = "0px", c.style.display = "none", c.className = this.da("_divider_horizontal") + " " + this.da("_divider_horizontal_frozen_top"), c.onmousemove = function (e) { e.cancelBubble = !0 }, this.nav.dividerTop = c; var h = l(); h.style.height = "1px", h.style.position = "absolute", h.style.left = "0px", h.style.right = "0px", h.style.display = "none", h.className = this.da("_divider_horizontal") + " " + this.da("_divider_horizontal_frozen_bottom"), h.onmousemove = function (e) { e.cancelBubble = !0 }, this.nav.dividerBottom = h, this.nav.top.appendChild(n), this.nav.top.appendChild(r), this.nav.top.appendChild(o), this.nav.top.appendChild(d), this.nav.top.appendChild(c), this.nav.top.appendChild(h) } else { var f = document.createElement("table"); f.cellPadding = 0, f.cellSpacing = 0, f.border = 0, f.style.position = "absolute"; var v = f.insertRow(-1); v.insertCell(-1).appendChild(this.Ff()), v.insertCell(-1).appendChild(this.kt()); var p = f.insertRow(-1); p.insertCell(-1).appendChild(this.gt()), p.insertCell(-1).appendChild(this.lt()), this.nav.top.appendChild(f) } if (this.uj = l(), this.uj.style.display = "none", this.nav.top.appendChild(this.uj), this.Ra()) { var m = document.createElement("input"); m.type = "hidden", m.id = this.id + "_state", m.name = this.id + "_state", this.nav.state = m, this.nav.top.appendChild(m) } var g = l(); g.style.position = "absolute", g.style.left = this.wm() + $.xm() + 5 + "px", g.style.top = this.ym() + 5 + "px", g.style.display = "none", g.innerHTML = H.Ha(this.loadingLabelText, this.loadingLabelHtml), u(g, this.da("_loading")), this.nav.loading = g, this.nav.top.appendChild(g), this.ot(), H.pt() }, this.Gk = function (e) { if (i.Es && !S.row) { var t = i.Es; if (t.Ss) q.je(t.Ss.row), S.calendar = H, S.sourceCalendar = t.Ss.sourceCalendar; else { var n = t.options.data; if ("function" == typeof H.onExternalRowEnter) { var a = {}; a.data = n, H.onExternalRowEnter(a), n = a.data } var r = H.vs(n), o = H.ws(r); q.je(o), S.calendar = H, S.sourceCalendar = null } } if (S.row) q.Ps(e); else if (i.vr) { var s = DayPilot.mo3(H.nav.top, e).x, l = H.jr(), d = H.rowHeaderWidthMin, c = s - 1; H.rowHeaderCols && (c = Math.min(l, s - 1)), c = Math.max(d, c), H.rowHeaderWidth = c, H.qs = !1, H.rowHeaderCols || H.qt(), H.rs(), H.Xl(), H.eb() } }, this.rb = function () { var e = this.ym(), t = "Top" === H.timeHeaderPosition; this.nav.corner && (this.nav.corner.style.height = e + "px"), this.divTimeScroll && (this.divTimeScroll.style.height = e + "px"), this.divNorth && (this.divNorth.style.height = e + "px"), this.nav.dh1 && this.nav.dh2 && t && (this.nav.dh1.style.top = e + "px", this.nav.dh2.style.top = e + "px"), this.nav.loading.style.top = e + 5 + "px", t && (this.nav.scroll.style.top = e + 1 + "px") }, this.wm = function () { if (this.qs) return 0; var e = 0, t = this.rowHeaderScrolling, n = this.jr(); return e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n }, this.jt = function () { var e = this.nav.divider; H.rowHeaderScrolling ? (e.style.cursor = "col-resize", e.setAttribute("unselectable", "on"), e.onmousedown = function (e) { var t = i.vr = {}; return t.cursor = H.nav.top.style.cursor, t.cleanup = function () { if (H.or(), H.nav.top.style.cursor = t.cursor, "function" == typeof H.onRowHeaderResized) { var e = {}; H.onRowHeaderResized(e) } }, H.nav.top.style.cursor = "col-resize", !1 }) : (e.style.cursor = null, e.onmousedown = null) }, this.rs = function () {
                var e = $.xm(), t = this.wm(); if (this.nav.corner && (this.nav.corner.style.width = t + "px"), this.nav.corner && (this.divCorner.style.width = t + "px"), this.divResScroll.style.width = t + "px", "DivBased" === $.ft() && (this.nav.left.style.width = t + "px",
                    this.nav.divider.style.left = t - e + "px", this.nav.right.style.marginLeft = t + "px"), this.nav.message && (this.nav.message.style.left = H.vm() + "px"), this.nav.loading && (this.nav.loading.style.left = t + e + 5 + "px"), this.nav.hideIcon) { var n = this.nav.hideIcon, i = H.da("_header_icon_show"), a = H.da("_header_icon_hide"); n.style.left = t - 1 + "px", H.qs ? (c(n, a), u(n, i)) : (c(n, i), u(n, a)) }
            }, this.qt = function () { this.ir(); var e = this.jr(), t = function (e, t, n) { if (e && e.style) { var i = e.firstChild; H.qr ? (e.style.width = t + "px", i.style.width = t + "px", "number" == typeof n && (e.style.left = n + "px")) : i.style.width = t + "px" } }, n = function (n) { var i = n.cells[0]; if (i && (i.colSpan > 1 || "max" === i.colSpan)) { var i = n.cells[0]; t(i, e) } else if (H.rowHeaderCols) for (var a = 0, r = 0; r < n.cells.length; r++) { var o = H.rowHeaderCols[r], i = n.cells[r]; t(i, o, a), a += o } else { var o = H.rowHeaderWidth, i = n.cells[0]; t(i, o) } }, i = this.divHeader; i.style.width = e + "px"; for (var a = H.kr(), r = a.start; r < a.end; r++) { var o = i.rows[r]; o && n(o) } if (H.em.top.enabled()) for (var r = 0; r < H.em.top.rowlist.length; r++) { var o = H.em.top.divHeader.rows[r]; o && n(o) } if (H.em.bottom.enabled()) for (var r = 0; r < H.em.bottom.rowlist.length; r++) { var o = H.em.bottom.divHeader.rows[r]; o && n(o) } if (H.nav.resScrollSpace && (H.nav.resScrollSpace.style.width = e + "px"), H.em.bottom.enabled()) { H.em.bottom.divSpace.style.width = e + "px" } this.eb() }, this.sn = function () { this.rs(), this.qt() }, this.rn = function () { var e = H.nav.corner, t = $.Bq(), n = $.mg(); "number" == typeof H.rowHeaderColumnHeaderHeight && (n = H.rowHeaderColumnHeaderHeight); var i = l(); i.style.position = "absolute", i.style.bottom = "0px", i.style.left = "0px", i.style.width = "100%", i.style.height = n + "px", i.style.overflow = "hidden", H.nav.columnScroll = i; var a = l(); a.style.position = "absolute", a.style.bottom = "0px", a.style.left = "0px", a.style.width = "5000px", a.style.height = n + "px", a.style.overflow = "hidden", a.className = this.da("_columnheader"), i.appendChild(a); var r = l(); r.style.position = "absolute", r.style.top = "0px", r.style.bottom = "0px", r.style.left = "0px", r.style.right = "0px", r.className = this.da("_columnheader_inner"), a.appendChild(r), H.Eo && (H.Eo.dispose(), H.Eo = null); var o = []; t.forEach(function (e) { var t = {}; t.column = {}, t.column.html = H.Ha(e.text || e.name || e.title, e.html), t.column.areas = null, t.column.toolTip = e.toolTip, t.column.sortingEnabled = !!e.sort, t.column.data = e, t.column.cssClass = null, t.column.bubbleHtml = e.bubbleHtml, o.push(t), "function" == typeof H.onBeforeRowHeaderColumnRender && H.onBeforeRowHeaderColumnRender(t) }); var s = new DayPilot.Splitter(r); s.calendar = H, s.bubble = H.rowHeaderColumnBubble, s.enabled = H.rowHeaderColumnsResizable, s.nonresizable = DayPilot.Util.propArray(t, "nonresizable", !1), s.widths = DayPilot.Util.propArray(t, "width", H.rowHeaderColumnDefaultWidth), s.height = n, s.css.title = this.da("_columnheader_cell"), s.css.titleInner = this.da("_columnheader_cell_inner"), s.css.splitter = this.da("_columnheader_splitter"), H.rowHeaderScrolling && (s.splitterWidthLast = 6); var d = H.rows.ps(), c = H.rows.os(); s.titles = x(o).map(function (e) { var t = e.column.data, n = e.column.html, i = e.column.cssClass, a = e.column.toolTip, r = {}; if (r.areas = [], t.sort && e.column.sortingEnabled) { var o = H.da("_sorticon"); d === t.sort ? (o += " " + H.da("_sorticon_active"), o += "asc" === c ? " " + H.da("_sorticon_asc") : " " + H.da("_sorticon_desc")) : o += " " + H.da("_sorticon_asc"), r.areas = [{ right: 5, top: 0, bottom: 0, width: 10, cssClass: o, onClick: function (e) { var n = {}; n.field = t.sort, d === t.sort ? n.order = "asc" === H.rows.os() ? "desc" : "asc" : n.order = "asc", H.rows.sort(n) } }] } return E(e.column.areas) && (r.areas = r.areas.concat(e.column.areas)), r.cssClass = i, r.html = n, r.toolTip = a, r.bubbleHtml = e.column.bubbleHtml, r.data = e.column.data, r }), s.data = x(t, !0), s.started = function () { var e = s.totalWidth() === H.rowHeaderWidth; s.rt = e }, s.updating = function (e) { H._l.skip = !0, DayPilot.Util.updatePropsFromArray($.Bq(), "width", this.widths), s.rt && H.rowHeaderScrolling && (H.rowHeaderWidth = s.totalWidth()), H.sn(), "Auto" === H.cellWidthSpec }, s.updated = function (e) { if (H.or(), H.Hb()) { if ("function" == typeof H.onRowHeaderColumnResized) { var t = {}; t.column = $.Bq()[e.index], H.onRowHeaderColumnResized(t) } } else switch (H.rowHeaderColumnResizedHandling) { case "CallBack": break; case "PostBack": break; case "JavaScript": if ("function" == typeof H.onRowHeaderColumnResized) { var t = {}; t.column = $.Bq()[e.index], H.onRowHeaderColumnResized(t) } } }, s.color = "#000000", s.opacity = 30, s.init(), e.appendChild(i), this.Eo = s }, this.Kl = function () { var e = this.nav.corner; if (e) { var t = $.mg(); "number" == typeof H.rowHeaderColumnHeaderHeight && (t = H.rowHeaderColumnHeaderHeight), H.Za(), e.innerHTML = "", e.className = this.da("_corner"); var n = l(); if (n.style.position = "absolute", n.style.top = "0px", n.style.left = "0px", n.style.right = "0px", n.style.bottom = "0px", n.className = this.da("_corner_inner"), this.divCorner = n, n.innerHTML = "&nbsp;", this.rowHeaderColumns && this.rowHeaderColumns.length > 0) { var i = l(); i.style.position = "absolute", i.style.top = "0px", i.style.left = "0px", i.style.right = "0px", i.style.bottom = t + 1 + "px", e.appendChild(i); var a = l(); a.style.position = "absolute", a.style.left = "0px", a.style.right = "0px", a.style.height = "1px", a.style.bottom = t + "px", a.className = this.da("_divider"), e.appendChild(a), i.appendChild(n), this.rn() } else e.appendChild(n); !function () { var e = {}; e.control = H, e.html = H.Ha(H.cornerText, H.cornerHtml), e.areas = null; var t = null; if ("function" == typeof H.onBeforeCornerRender && H.onBeforeCornerRender(e), "function" == typeof H.onBeforeCornerDomAdd && (e.element = null, H.onBeforeCornerDomAdd(e), t = e.element), t) { var n = H.divCorner; n.domArgs = e; if (m(t)) { if (!H.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); H.X.W(t, n) } else n.appendChild(t) } else H.divCorner && (H.divCorner.innerHTML = e.html || ""); e.areas && DayPilot.Areas.attach(H.nav.corner, {}, { "areas": e.areas }) }(); var r = l(); r.style.position = "absolute", r.style.padding = "2px", r.style.top = "0px", r.style.left = "1px", r.style.backgroundColor = "#FF6600", r.style.color = "white", r.innerHTML = "\u0044\u0045" + "\u004D\u004F", v(undefined) && e.appendChild(r), H.rowHeaderScrolling && H.nav.columnScroll && H.Cm && (H.nav.columnScroll.scrollLeft = H.Cm.scrollLeft) } }, this.ot = function () { var e = 3, t = this.wm() + $.xm() - 1, n = 10, i = 20, a = this.ym() + e, r = h(this.nav.top, t, a, n, i); r.style.cursor = "pointer", r.className = H.da("_header_icon"), u(r, H.da("_header_icon_hide")), r.onclick = function () { H.rows.headerToggle() }, r.ontouchstart = function (e) { e.stopPropagation() }, this.nav.hideIcon = r }, this.Bn = function () { var e = 3, t = H.nav.hideIcon, n = H.ym() + e; t && (H.rowlist.length > 0 && H.rowHeaderHideIconEnabled ? t.style.display = "" : t.style.display = "none", t.style.top = n + "px") }, this.Ff = function () { var e = this.wm(), t = l(); return H.nav.corner = t, t.style.width = e + "px", t.style.height = this.ym() + "px", t.style.overflow = "hidden", t.style.position = "relative", t.setAttribute("unselectable", "on"), t.onmousemove = function () { H.db() }, t.oncontextmenu = function () { return !1 }, this.Kl(), t }, this.ym = function () { if ("None" === H.timeHeaderPosition) return 0; if (H.timeHeaders) { var e = ee.Fq(H.timeHeaders.length - 1); return e.top + e.height } return this.timeHeader ? H.timeHeader.length * $.mg() : 0 }, this.st = null, this.tt = function () { return H.scrollStep || H.eventHeight }, this.gt = function () { var e = l(); e.style.width = this.wm() + "px", e.style.height = this.bf() + "px", e.style.overflow = "hidden", e.style.position = "relative", e.className = H.da("_rowheader_scroll"); var t = H.tt(), n = H.Ja.xr(); n && (e.style.overflowY = "auto", H.rowHeaderScrolling && (e.style.overflowX = "auto")), e.onmousemove = function () { H.db() }, DayPilot.rePassive(e, "touchstart", function () { i.ut = !0 }), e.addEventListener("wheel", function (n) { if (0 !== H.vt()) { var i; i = H.overrideWheelScrolling || H.scrollStep ? n.deltaY > 0 ? t : -t : 1 === n.deltaMode ? n.deltaY * $.wt() * 1.7 : n.deltaY, H.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault() } }, { "passive": !1 }), e.oncontextmenu = function () { return !1 }, e.onscroll = function () { if (H.st && clearTimeout(H.st), n) { var t = function () { var t = H.sq() - H.nav.scroll.offsetHeight; e.scrollTop = Math.min(e.scrollTop, t), H.nav.scroll.scrollTop = e.scrollTop }; DayPilot.browser.ios ? i.ut && (H.st = setTimeout(t, 10)) : H.st = setTimeout(t, 10) } else H.st = setTimeout(function () { H.nav.scroll.scrollTop = e.scrollTop }, 500) }, H.xt(e), e.setAttribute("role", "region"), e.setAttribute("aria-label", "scheduler rows"); var a = l(); return a.onmousemove = function () { H.db() }, this.divHeader = a, e.appendChild(a), this.divResScroll = e, this.Cm = e, e }, this.xt = function (e) { e.addEventListener("scroll", function () { H.rowHeaderScrolling && (H.nav.columnScroll && (H.nav.columnScroll.scrollLeft = e.scrollLeft), H.em.top.enabled() && (H.em.top.divHeader.scrollLeft = e.scrollLeft), this !== H.divResScroll && (H.divResScroll.scrollLeft = e.scrollLeft)) }), e.onmouseenter = function () { H.rowHeaderScrolling && (e.style.overflowX = "auto") }, e.onmouseleave = function () { H.rowHeaderScrolling && (e.style.overflowX = "hidden") } }, this.yt = function (e) { if ("TableBased" === $.ft()) { var t = parseInt(this.width, 10), n = isNaN(t) || this.width.indexOf("%") !== -1, i = (/MSIE/i.test(navigator.userAgent), this.jr()); n ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - i + "px") : e.style.width = t - i + "px" } }, this.Go = function (e) { if ("function" == typeof H.onEventMoving && i.Xp) { var t = H.coords || {}; t.shift = e.shiftKey, t.meta = e.metaKey, t.ctrl = e.ctrlKey, t.alt = e.altKey, H._q() } }, this.Fo = function (e) { if ("function" == typeof H.onEventMoving && i.Xp) { var t = H.coords || {}; t.shift = e.shiftKey, t.meta = e.metaKey, t.ctrl = e.ctrlKey, t.alt = e.altKey, H._q() } }, this.Ii = function (e) { "function" == typeof ResizeObserver && H.watchWidthChanges || i.Xp && (H.Eb(), H.Xl()) }, this.Eb = function () { H.Ba || ("TableBased" === H.Ja.ft() && (H.yt(H.nav.scroll), H.yt(H.divTimeScroll)), H.yb(), H.or(), H.zt(), H.wa.drawArea = null) }, this.Cg = null, this.Dg = null, this.Ta = null, this.xg = function () { var e = function () { H.Eb(), H.Xl(null, { "dontHideBubble": !0 }) }, t = function () { if (H.watchWidthChanges) { var t = H.nav.top; if (t) { var n = t.offsetParent, i = n && n.offsetHeight; if (!H.Cg) return H.Cg = {}, H.Cg.changed = !1, H.Cg.width = t.offsetWidth, H.Cg.height = t.offsetHeight, void (H.Cg.opHeight = i); var a = H.Cg.width !== t.offsetWidth, r = H.Cg.height !== t.offsetHeight, o = "Max100Pct" === H.heightSpec && H.Cg.opHeight !== i; (a || r || o) && (H.Cg.changed = !0, H.Cg.width = t.offsetWidth, H.Cg.height = t.offsetHeight, H.Cg.opHeight = i), H.Cg.changed && (H.Cg.changed = !1, e()) } } }; if (H.watchWidthChanges) { if ("function" == typeof ResizeObserver) { if (H.Ta) return; var n = new ResizeObserver(DayPilot.debounce(t, 100)); return n.observe(H.nav.top), H.nav.top.offsetParent && n.observe(H.nav.top.offsetParent), void (H.Ta = n) } if (!H.Dg) { var i = function () { return H.nav && H.nav.top ? H.Cg ? (H.Cg.width !== H.nav.top.offsetWidth && (H.Cg.changed = !0, H.Cg.counter = 0, H.Cg.width = H.nav.top.offsetWidth), H.Cg.changed && (H.Cg.counter += 1), void (H.Cg.changed && H.Cg.counter > 0 && (H.Cg.changed = !1, e()))) : (H.Cg = {}, H.Cg.counter = 0, H.Cg.changed = !1, void (H.Cg.width = H.nav.top.offsetWidth)) : void clearInterval(H.Dg) }; this.Dg = setInterval(i, 200), i() } } }, this.zt = function () { if ("Fixed" !== H.cellWidthSpec) if (G.list.length > 0) { var e = G.get(); H.clearSelection(), e.forEach(function (e) { H.multirange.add(e) }) } else { var t = H.Vn; H.clearSelection(), H.Vn = t, H.Wn(t, { "justDraw": !0 }) } }, this.or = function () { "Auto" === H.cellWidthSpec && (H.Ol(), H.Aa && (H.Dl(), H.El(), H.Ll(), H.Pl(), H.Va(), H.qb(), N.Hl(), H.Ml(), H.Nl(), H.kn(), H.Cb(), H.Rl(), H.Sl(), H.yb())) }, this.Dl = function () { if ("Auto" === this.cellWidthSpec) { var e = this.nav.top.clientWidth, t = this.wm(), n = H.vt(), i = e - t - n; if (this.wq()) { var a = i / this.wq(); this.cellWidth = Math.max(a, H.cellWidthMin), H.Bm = a < H.cellWidthMin } } }, this.vt = function () { if ("Auto" === H.heightSpec) return 0; if ("Max" === H.heightSpec || "Fixed" === H.heightSpec || "Parent100Pct" === H.heightSpec) { if (H.sq() > H.height) { return DayPilot.sw(H.nav.scroll) || 1 } return 0 } return DayPilot.sw(H.nav.scroll) }, this.Gm = function () { var e = this.nav.top.clientWidth, t = this.wm(), n = this.bf(), i = this.sq(), a = "Auto" === H.heightSpec, r = 0; return i > n && !a && (r = DayPilot.swa()), e - t - -2 - r }, this.kt = function () { var e = "Top" === H.timeHeaderPosition, t = l(); t.style.overflow = "hidden", t.style.display = "block", e ? (t.style.position = "absolute", t.style.top = "0px") : t.style.position = "relative", t.style.width = "100%", t.style.height = this.ym() + "px", t.style.overflow = "hidden", t.onmousemove = function () { H.db(), H.cellBubble && H.cellBubble.delayedHide() }, t.className = H.da("_timeheader_scroll"), this.yt(t), this.divTimeScroll = t; var n = l(); return n.style.width = this.tm() + 5e3 + "px", this.divNorth = n, t.appendChild(n), t }, this.bf = function () { var e = 0, t = H.heightSpec; return "Fixed" === t || "Parent100Pct" === t ? this.height ? this.height : 0 : (e = H.sq(), ("Max" === t || "Max100Pct" === t) && e > H.height ? H.height : e) }, this.At = null, this.Bt = 0, this.Ct = 0, this.Dt = 0, this.Em = function () { if ("function" == typeof H.onHeightChanged || "function" == typeof H.onDimensionsChanged) { H.At && clearTimeout(H.At); var e = function () { var e = H.nav.top.offsetHeight, t = H.Bt; H.Bt = e; var n = H.nav.top.offsetWidth, i = H.Ct; H.Ct = n; var a = H.wm(), r = H.Dt; if (H.Dt = a, "function" == typeof H.onHeightChanged && e !== t) { var o = {}; o.oldHeight = t, o.newHeight = e, H.onHeightChanged(o) } if ("function" == typeof H.onDimensionsChanged && (e !== t || n !== i || a !== r)) { var o = {}; o.oldHeight = t, o.newHeight = e, o.oldWidth = i, o.newWidth = n, o.oldRowHeaderWidth = r, o.newRowHeaderWidth = a, H.onDimensionsChanged(o) } }; H.At = setTimeout(e, 100) } }, this.sq = function () { var e; return this.wl !== -1 ? (e = this.wl, "auto" === H.nav.scroll.style.overflowX && (e += DayPilot.sh(H.nav.scroll))) : e = this.rowlist.length * this.Ja.Lo(), e += H.em.bottom.height }, this.db = function () { this.fb(), H.Et && (this.eb(), this.Ft(), this.fr(), this.pq(), H.cellBubble && H.cellBubble.hideOnMouseOut(), H.bubble && H.bubble.hideOnMouseOut(), H.groupBubble && H.groupBubble.hideOnMouseOut(), H.Et = !1) }, this.em = {}, this.em.top = {}, this.em.top.height = 0, this.em.top.rowlist = [], this.em.top.enabled = function () { return this.rowlist && this.rowlist.length > 0 }, Object.defineProperty(H.em.top, "top", { get: function () { return H.ym() + 1 } }), Object.defineProperty(H.em.top, "right", { get: function () { return H.vt() } }), Object.defineProperty(H.em.top, "heightRes", { get: function () { return this.height } }), this.em.bottom = {}, this.em.bottom.height = 0, this.em.bottom.rowlist = [], this.em.bottom.enabled = function () { return this.rowlist && this.rowlist.length > 0 }, Object.defineProperty(H.em.bottom, "top", { get: function () { return H.ym() + H.bf() - this.height - DayPilot.sh(H.nav.scroll) + 1 } }), Object.defineProperty(H.em.bottom, "right", { get: function () { return H.vt() } }), Object.defineProperty(H.em.bottom, "heightRes", { get: function () { return this.height + DayPilot.sh(H.nav.scroll) } }), this.em.main = {}, this.pt = function () { var e = H.em.main; e.divCells = H.divCells, e.divLines = H.divLines, e.divBreaks = H.divBreaks, e.divHeader = H.divHeader, e.divEvents = H.divEvents, e.divShadow = H.divShadow, e.divHover = H.divHover, e.divCrosshair = H.divCrosshair, e.div = H.nav.scroll, Object.defineProperty(H.em.main, "rowlist", { get: function () { return H.rowlist } }), Object.defineProperty(H.em.main, "rowlistparents", { get: function () { return H.rowlistparents } }), Object.defineProperty(H.em.main, "top", { get: function () { return H.ym() + 1 } }), Object.defineProperty(H.em.main, "height", { get: function () { return H.wl } }) }, this.ht = function () { var e = H.em.top, t = e.top, n = e.height, i = l(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.style.boxSizing = "border-box", i.rows = [], e.divHeader = i, i }, this.it = function () { var e = H.em.bottom, t = e.top, n = e.height, i = l(); i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.style.boxSizing = "border-box"; var a = l(); a.style.position = "absolute", a.style.height = "500px", a.style.top = e.height + "px", a.style.left = "0px", a.style.width = H.jr() + "px", a.className = H.da("_rowheader"), i.appendChild(a), i.rows = []; var r = l(); return i.appendChild(r), i.ur = r, H.xt(i), e.divHeader = i, e.divSpace = a, i }, this.mt = function () { var e = H.em.top, t = e.top, n = e.height, i = l(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.top = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.className = H.da("_grid_top"), i.onmousedown = H.Gt, i.onmousemove = H.gr, i.oncontextmenu = H.Ht, i.onmouseup = H.It, i.ondblclick = this.Jt, H.nav.fixedTop = i, e.div = i, p(H.Kt(i), e), i }, this.nt = function () { var e = H.em.bottom, t = e.top, n = e.height, i = l(); return i.style.position = "absolute", i.style.left = "0px", i.style.right = "0px", i.style.bottom = t + "px", i.style.height = n + "px", i.style.overflow = "hidden", i.className = H.da("_grid_bottom"), i.onmousedown = H.Gt, i.onmousemove = H.gr, i.oncontextmenu = H.Ht, i.onmouseup = H.It, i.ondblclick = this.Jt, H.nav.fixedBottom = i, e.div = i, p(H.Kt(i), e), i }, this.Kt = function (e) { var t = l(); t.style.position = "absolute", e.appendChild(t); var n = l(); n.style.position = "absolute", e.appendChild(n); var i = l(); i.style.position = "absolute", e.appendChild(i); var a = l(); a.style.position = "absolute", e.appendChild(a); var r = l(); r.style.position = "absolute", e.appendChild(r); var o = l(); o.style.position = "absolute", o.style.left = "0px", o.style.width = "100000px", o.style.bottom = "0px", o.style.height = "1px", e.appendChild(o); var s = l(); s.style.position = "absolute", e.appendChild(s); var d = l(); return d.style.position = "absolute", e.appendChild(d), { "divCells": t, "divLines": n, "divBreaks": i, "divEvents": r, "divShadow": d, "divHover": s, "divCrosshair": a } }, this.Dm = function () { var e = H.em.top, t = H.em.bottom; D(e), D(t), H.divStretch.style.height = H.wl + t.height + "px", H.nav.dividerTop.style.top = e.top + e.height - 1 + "px", H.nav.dividerTop.style.right = e.right + "px", H.Lt(H.nav.dividerTop, e.enabled()), H.nav.dividerBottom.style.top = t.top - 1 + "px", H.nav.dividerBottom.style.right = t.right + "px", H.Lt(H.nav.dividerBottom, t.enabled()), e.div.style.right = e.right + "px", t.div.style.right = t.right + "px" }, this.Lt = function (e, t) { e.style.display = t ? "" : "none" }, this.Nm = function (e) { e = e || {}; var t = e.includeSplitParents, n = H.rowlist; return n = n.concat(H.em.top.rowlist), n = n.concat(H.em.bottom.rowlist), t && (n = n.concat(H.rowlistparents)), n }, this.Mt = function () { return H.rowlist.length > 0 || H.em.top.rowlist.length > 0 || H.em.bottom.rowlist.length > 0 }, this.Nt = function () { this._e(), this.Ot() }, this.lt = function () { var e = l(); if (e.style.overflow = "auto", e.style.overflowX = "auto", e.style.overflowY = "auto", e.style.height = this.bf() + "px", "Top" === H.timeHeaderPosition ? (e.style.top = this.ym() + 1 + "px", e.style.position = "absolute") : e.style.position = "relative", e.style.width = "100%", e.className = this.da("_scrollable"), e.oncontextmenu = function () { return !1 }, this.yt(e), H.overrideWheelScrolling) { var t = H.tt(); e.onwheel = function (n) { var i = n.deltaY > 0 ? t : -t; H.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault() }, e.onmousewheel = function (n) { var i = n.wheelDelta < 0 ? t : -t; H.nav.scroll.scrollTop = e.scrollTop + i, n.preventDefault(), n.returnValue = !1 } } DayPilot.rePassive(e, "wheel", H.Do), this.nav.scroll = e, this.cm = l(); var n = this.cm; n.style.MozUserSelect = "none", n.style.KhtmlUserSelect = "none", n.style.webkitUserSelect = "none", n.daypilotMainD = !0, n.calendar = this, n.style.minHeight = "1px", DayPilot.browser.android && (n.style.webkitTransform = "translateZ(0px)"), n.style.position = "absolute"; var i = this.tm(); return i > 0 && !isNaN(i) && (n.style.width = i + "px"), n.setAttribute("unselectable", "on"), n.onmousedown = this.Gt, n.onmousemove = this.gr, n.onmouseup = this.It, n.oncontextmenu = this.Ht, n.ondblclick = this.Jt, n.className = this.da("_matrix"), this.divStretch = l(), this.divStretch.style.position = "absolute", this.divStretch.style.height = "1px", n.appendChild(this.divStretch), this.divCells = l(), this.divCells.style.position = "absolute", this.divCells.oncontextmenu = this.Ht, n.appendChild(this.divCells), this.divLines = l(), this.divLines.style.position = "absolute", this.divLines.oncontextmenu = this.Ht, n.appendChild(this.divLines), this.divBreaks = l(), this.divBreaks.style.position = "absolute", this.divBreaks.oncontextmenu = this.Ht, n.appendChild(this.divBreaks), this.divSeparators = l(), this.divSeparators.style.position = "absolute", this.divSeparators.oncontextmenu = this.Ht, n.appendChild(this.divSeparators), this.divLinksBelow = l(), this.divLinksBelow.style.position = "absolute", n.appendChild(this.divLinksBelow), this.divCrosshair = l(), this.divCrosshair.style.position = "absolute", this.divCrosshair.ondblclick = this.Jt, this.divCrosshair.onmousedown = this.jg, n.appendChild(this.divCrosshair), this.divRange = l(), this.divRange.style.position = "absolute", this.divRange.oncontextmenu = this.Ht, n.appendChild(this.divRange), this.divEvents = l(), this.divEvents.style.position = "absolute", n.appendChild(this.divEvents), this.divSeparatorsAbove = l(), this.divSeparatorsAbove.style.position = "absolute", this.divSeparatorsAbove.oncontextmenu = this.Ht, n.appendChild(this.divSeparatorsAbove), this.divLinksAbove = l(), this.divLinksAbove.style.position = "absolute", n.appendChild(this.divLinksAbove), this.divLinkShadow = l(), this.divLinkShadow.style.position = "absolute", n.appendChild(this.divLinkShadow), this.divLinkpoints = l(), this.divLinkpoints.style.position = "absolute", n.appendChild(this.divLinkpoints), this.divRectangle = l(), this.divRectangle.style.position = "absolute", n.appendChild(this.divRectangle), this.divHover = l(), this.divHover.style.position = "absolute", n.appendChild(this.divHover), this.divShadow = l(), this.divShadow.style.position = "absolute", n.appendChild(this.divShadow), e.appendChild(n), e }, H.Do = function (e) { H.cn(e) }, this.Mg = {}; var V = this.Mg; V.Ng = function () { if (!H.nav.overlay) { var e = document.createElement("div"); e.style.position = "absolute", e.style.left = "0px", e.style.right = "0px", e.style.top = "0px", e.style.bottom = "0px", e.className = H.da("_block"), H.nav.top.appendChild(e), H.nav.overlay = e } }, V.E = function () { V.Ng(), H.nav.overlay.style.display = "" }, V.C = function () { H.nav.overlay && (H.nav.overlay.style.display = "none") }, this.Na = function (e) { e = e || {}; var t = e.delay || 0, n = H.Ha(e.text || this.loadingLabelText, this.loadingLabelHtml), i = "undefined" != typeof e.block ? e.block : H.blockOnCallBack; H.sg && window.clearTimeout(H.sg); var a = function () { (H.loadingLabelVisible || e.text) && (H.nav.loading.innerHTML = n, H.nav.loading.style.display = ""), i && V.E() }; 0 === t ? a() : H.sg = window.setTimeout(a, t) }, this.kb = function (e) { this.sg && window.clearTimeout(this.sg), this.nav.loading.style.display = "none", (e || H.blockOnCallBack) && V.C() }, this.loadingStart = function (e) { H.Na(e) }, this.loadingStop = function () { H.kb(!0) }, this.uiBlock = function () { V.E() }, this.uiUnblock = function () { V.C() }, this.nh = function () { this.startDate = new DayPilot.Date(this.startDate).getDatePart() }, this.qh = function (e) { return 0 }, this.Gb = function (e) { if (e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.za >= this.autoRefreshMaxCount)) { this.Ua(); var t = this.autoRefreshInterval; if (!t || t < 10) throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds"); this.autoRefreshTimeout = window.setTimeout(function () { H.yg() }, 1e3 * this.autoRefreshInterval) } }, this.Ua = function () { this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout), this.autoRefreshTimeout = null) }, this.autoRefreshStart = function (e) { H.Gb(e) }, this.autoRefreshPause = function () { H.Ua() }, this.Pt = function () { return !(i._p || i._m || i.ar || i.aq) }, this.yg = function () { if (H.Pt()) { var e = !1; if ("function" == typeof this.onAutoRefresh) { var t = {}; t.i = this.za, t.preventDefault = function () { this.preventDefault.value = !0 }, H.onAutoRefresh(t), t.preventDefault.value && (e = !0) } !e && this.ka() && this.commandCallBack(this.autoRefreshCommand), this.za++ } this.za < this.autoRefreshMaxCount && (this.autoRefreshTimeout = window.setTimeout(function () { H.yg() }, 1e3 * this.autoRefreshInterval)) }, this.Eg = function () { i.Fg || (i.Fg = !0, DayPilot.re(document, "mousemove", i.Gg), DayPilot.re(document, "mouseup", i.Hg), DayPilot.re(document, "mousedown", i.Qt), DayPilot.re(document, "touchend", i.Jg), DayPilot.reNonPassive(document, "touchmove", i.Ig), DayPilot.re(window, "keyup", i.Rt)), DayPilot.re(window, "resize", this.Ii), DayPilot.re(document, "keydown", this.Fo), DayPilot.re(document, "keyup", this.Go) }, this.St = function () { this.nav.scroll.root = this, this.nav.scroll.onscroll = this.Xl, this.nav.scroll.onscrollend = this.Tt, H.xq = this.nav.scroll.scrollLeft, H.vq = this.nav.scroll.scrollTop, this.divNorth && (H.Ut = this.divNorth.clientWidth) }, this.sk = function () { if (this.nav.state) { var e = {}; e.scrollX = this.nav.scroll.scrollLeft, e.scrollY = this.nav.scroll.scrollTop; var t = H.po(e.scrollX, e.scrollY), n = H.qo(t), i = H.ro(t); e.rangeStart = n.start, e.rangeEnd = n.end, e.resources = i, this.syncResourceTree && (e.tree = this.cb()), this.nav.state.value = DayPilot.he(JSON.stringify(e)) } }, this.Sl = function () { if (this.separators) for (var e = 0; e < this.separators.length; e++)this.eh(e) }, this.Vt = {}, this.Vt.step = 300, this.Vt.delay = 10, this.Vt.mode = "display", this.Vt.layers = !1, this.Aq = function (e) { if (H.rl) return void Y.Wt(e); for (var t = 0, n = 0; n < e.lines.length; n++) { var i = e.lines[n]; i.height = 0, i.top = t; for (var a = 0; a < i.length; a++) { var r = i[a]; if (!r.part.top, !0) { r.part.line = n, r.part.height || (r.part.height = e.eventHeight); var o = r.part.cs(); o > i.height && (i.height = o), r.part.top = t + e.marginTop; var s = "Above" === H.eventVersionPosition; if (H.eventVersionsEnabled && !x(r.versions).isEmpty()) { var l = r.cache || r.data, d = (l.versions.length, r.part.top); s || (d += r.part.height + H.eventVersionMargin), x(l.versions).forEach(function (e, t) { if (r.versions[t]) { var n = t * (H.eventVersionHeight + H.eventVersionMargin); r.versions[t].top = d + n, s && (r.part.top += H.eventVersionHeight, r.part.top += H.eventVersionMargin) } }) } r.part.right = r.part.left + r.part.width, r.part.fullTop = e.top + r.part.top, r.part.fullBottom = r.part.fullTop + r.part.height } } t += (i.height || e.eventHeight) * e.eventStackingLineHeight / 100 } }; var Y = {}; Y.Mp = function (e) { e.evColumns = x(H.itline).map(function (e, t) { return { "events": x() } }), x(e.events).forEach(function (t) { var n = t.start(), i = H.Zm(n); e.evColumns[i.i].events.push(t) }) }, Y.bs = function () { var e = H.sl, t = 0; x(H.rowlist).forEach(function (n) { var i = 0; n.evColumns.forEach(function (t, a) { var r = H.itline[a], o = H.rowMarginTop; t.events.forEach(function (t) { t.part.left = r.left, t.part.width = r.width, t.part.top = o, t.part.height || (e ? t.part.height = Y.Xt(t) + $.Eq() : t.part.height = n.eventHeight), o += t.part.height + H.eventMarginBottom }), t.height = o, t.height > i && (i = t.height) }), n.maxColumnHeight = i, n.top = t; var a = n.height; n.height = n.getHeight(), i > H.rowMarginTop && (n.height = i + H.rowMarginBottom), a !== n.height && (H.Mn = !0), t += n.height }), H.wl = t }, Y.Xt = function (e) { var t = e.client.html(), n = l(); n.style.position = "absolute", n.style.top = "-2000px", n.style.left = "-2000px", n.style.width = e.part.width + "px", n.className = H.da(Z.event); var i = l(); i.className = H.da(Z.eventInner), i.innerHTML = t, i.style.position = "static", i.style.overflow = "auto", n.appendChild(i); var a = H.divEvents; a.appendChild(n); var r = n.offsetHeight; return a.removeChild(n), r }, Y.Wt = function (e) { Y.bs() }, Y.Yt = function () { x(H.rowlist).forEach(function (e) { Y.Zt(e) }) }, Y.Cb = function () { Y.Yt(), Y.$t(), H.Nl(), H.yb() }, Y.$t = function () { if (H.sl) { var e = !1; x(H.elements.events).forEach(function (t) { var n = t.firstChild, i = n.offsetHeight - n.clientHeight + t.offsetHeight - t.clientHeight, a = n.scrollHeight + i, r = t.event.part.height; t.event.part.height = a, r !== a && (e = !0) }), e && (H.Va(), Y.bs(), Y.Yt(), H.Ol(), H.Rl()) } }, Y.Zt = function (e) { e.evColumns.forEach(function (e, t) { e.events.forEach(function (e) { H.Re(e) }) }) }, this.un = null, this.Cb = function (e) { if (!H.Ba) { if (H.rl) return void Y.Cb(); var t = this.Vt.step; this.Vt.layers; "display" === this.Vt.mode ? this.divEvents.style.display = "none" : "visibility" === this.Vt.mode && (this.divEvents.style.visibility = "hidden"), this.divEvents.setAttribute("role", "region"), this.divEvents.setAttribute("aria-label", "scheduler events"); var n = "Progressive" === this.dynamicEventRendering, i = this.rd(), a = i.pixels.top, r = i.pixels.bottom, o = H.allowMultiMove || H.allowMultiResize, s = o && !x(H.multiselect.Kc).isEmpty(), l = H.rowlist.filter(function (e) { var t = e.top - H.dynamicEventRenderingMargin, i = t + e.height + 2 * H.dynamicEventRenderingMargin; return !(n && !s && (r <= t || a >= i)) }); H.em.top.enabled() && (l = l.concat(H.em.top.rowlist)), H.em.bottom.enabled() && (l = l.concat(H.em.bottom.rowlist)), l.forEach(function (n) { H.Aq(n); for (var i = Math.max(0, n.resource && n.resource.maxLines || 1e5), a = 0; a < n.lines.length; a++) { var r = n.lines[a]; if (!(a >= i)) for (var o = 0; o < r.length; o++) { var s = r[o], l = H.Re(s); if (e && l && (t--, t <= 0)) return H.divEvents.style.visibility = "", H.divEvents.style.display = "", void (H.un = window.setTimeout(function () { H.Cb(e) }, H.Vt.delay)) } } }), this.divEvents.style.display = "", x(H.multiselect.Kc).isEmpty() || H.multiselect.redraw(), this.mm(), N._o(), this.Kp() } }, this.On = function (e, t) { var n = H.Ho(t), i = n.rowlist[e]; if (H.rl) return void Y.Zt(i); this.cm.insertBefore(this.divEvents, this.divSeparatorsAbove), H.wa.Bl.push(this.divEvents), this.Aq(i); for (var a = 0; a < i.lines.length; a++)for (var r = i.lines[a], o = 0; o < r.length; o++) { var s = r[o]; this.Re(s) } this.divEvents.style.display = "" }, this._t = function () { var e = H.wa.Bl, t = []; e.forEach(function (e) { 0 === e.childNodes.length ? e.remove() : t.push(e) }), H.wa.Bl = t }, this.Va = function () { if (this.elements.events) for (var e = this.elements.events.length, t = 0; t < e; t++) { var n = this.elements.events[t]; this.Ne(n) } this.elements.events = [] }, this.Nn = function (e, t) { if (t = t || "main", this.elements.events) { for (var n = this.elements.events.length, i = [], a = 0; a < n; a++) { var r = this.elements.events[a], o = r.event; o.part.dayIndex === e && o.part.grid === t && (this.Ne(r), i.push(a)) } for (var a = i.length - 1; a >= 0; a--)this.elements.events.splice(i[a], 1) } }, this.Ne = function (e) { var t = e.domArgs; if (e.domArgs = null, t && "function" == typeof H.onDomRemoveEvent && H.onDomRemoveEvent(t), t && "function" == typeof H.onBeforeEventDomRemove && H.onBeforeEventDomRemove(t), t && "function" == typeof H.onBeforeEventDomAdd) { var n = t && t.Ie; if (n) { var i = H.X.reactDOM && m(t.element), a = H.Z.Ke && (g(t.element) || y(t.element)); i ? H.X.la(n) : a && (H.Z.Le = !0, H.Z.ma(n), H.Z.Le = !1) } } e.parentNode && e.parentNode.removeChild(e), e.onclick = null, e.oncontextmenu = null, e.onmouseover = null, e.onmouseout = null, e.onmousemove = null, e.onmousedown = null, e.ondblclick = null, e.event && (e.event.rendered = null, e.event = null), e.related && C(e.related) }, this.au = function (e) { e.event && (e.event.rendered = !1), e.onclick = null, e.onmousedown = null, e.event = null, e.parentNode && e.parentNode.removeChild(e) }, this.bu = function () { if ("Progressive" === this.dynamicEventRendering) { if (H.dynamicEventRenderingCacheSweeping) { var e = H.dynamicEventRenderingCacheSize || 0; this.divEvents.style.display = "none"; for (var t = [], n = 0, i = this.elements.events.length, a = i - 1; a >= 0; a--) { var r = this.elements.events[a]; this.cu(r.event) ? e > 0 ? (e--, t.unshift(r)) : (this.Ne(r), n++) : t.unshift(r) } this.elements.events = t, this.divEvents.style.display = "" } } }, this.du = function (e) { for (var t = [], n = 0, i = this.rd(), a = this.elements.cells.length, r = a - 1; r >= 0; r--) { var o = this.elements.cells[r]; i.xStart < o.coords.x && o.coords.x <= i.xEnd && i.yStart < o.coords.y && o.coords.y <= i.yEnd ? t.unshift(o) : e > 0 ? (e--, t.unshift(o)) : (this.If(o), n++) } }, this.If = function (e) { if (e && e.coords) { var t = e.coords.x, n = e.coords.y, i = e.coords.grid; !function () { var t = e.domArgs; if (e.domArgs = null, t && "function" == typeof H.onBeforeCellDomRemove && H.onBeforeCellDomRemove(t), t && "function" == typeof H.onBeforeCellDomAdd) { var n = t && t.Ie; if (n) { var i = H.X.reactDOM && m(t.element), a = H.Z.Ke && (g(t.element) || y(t.element)); i ? H.X.la(n) : a && (H.Z.Le = !0, H.Z.ma(n), H.Z.Le = !1) } } }(), DayPilot.rfa(H.elements.cells, e), C(e), H.wa.cells[i + "_" + t + "_" + n] = null } }, this.Pl = function () { if (this.elements.separators) for (var e = 0; e < this.elements.separators.length; e++) { var t = this.elements.separators[e]; C(t) } this.elements.separators = [] }, this.eu = function () { var e = "Progressive" === this.dynamicEventRendering; if (!this.nav.scroll) return !1; for (var t = this.nav.scroll.scrollTop, n = t + this.nav.scroll.clientHeight, i = H.Nm(), a = 0; a < i.length; a++) { var r = i[a], o = r.top, s = r.top + r.height; if (!e || !(n <= o || t >= s)) for (var l = 0; l < r.lines.length; l++)for (var d = r.lines[l], c = 0; c < d.length; c++) { var u = d[c]; if (this.fu(u)) return !0 } } return !1 }, this.fu = function (e) { if (e.rendered) return !1; var t = "Progressive" === this.dynamicEventRendering, n = this.nav.scroll.scrollLeft, i = n + this.nav.scroll.clientWidth, a = e.part.left, r = e.part.left + e.part.width; return !t || !(i <= a || n >= r) }, this.cu = function (e) { if (!e.rendered) return !0; var t = this.rd(), n = t.pixels.top, i = t.pixels.bottom, a = t.pixels.left - this.dynamicEventRenderingMargin, r = t.pixels.right + this.dynamicEventRenderingMargin, o = e.part.left, s = e.part.right, l = e.part.fullTop, d = e.part.fullBottom; return r <= o || a >= s || (i <= l || n >= d) }, this.as = x(), this.gu = function (e) {
                if (e.rendered) return !1; var t = e.row; if (t.hidden) return !1; var n = H.em[t.grid], i = e.min, a = e.max - e.min, r = H.eventHeight, o = e.row.top; "number" == typeof t.forcedHeight && (r = Math.min(t.forcedHeight, H.eventHeight)); var s = l(); s.style.position = "absolute", s.style.left = i + "px", s.style.top = o + "px", s.style.width = a + "px", s.style.height = r + "px", s.className = H.da("_event_group"), s.style.cursor = "pointer"; var d = {}; d.group = {}, d.group.count = e.events.length, d.group.events = x(e.events, !0), d.group.html = "&#x1F7A7; " + e.events.length + " events", d.group.bubbleHtml = null,
                    "function" == typeof H.onBeforeGroupRender && H.onBeforeGroupRender(d); var c = l(); return c.innerHTML = d.group.html, s.appendChild(c), s.onmousedown = function (e) { e.cancelBubble = !0 }, s.onclick = function (e) { var n = s.event; n.expanded = !0, H.au(s); var i = _(H.elements.events, s); i !== -1 && H.elements.events.splice(i, 1); var a = H.as; x(n.events).forEach(function (e) { a.push(e.id()) }), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), H.kn(), H.ln([t]), H.yb(), H.Cb(), e.cancelBubble = !0 }, s.onmousemove = function (t) { if (H.groupBubble) { var n = {}; n.calendar = H, n.type = "Group", n.object = { "events": x(e.events, !0) }, n.staticHTML = d.group.bubbleHtml, n.div = s, n.toJSON = function () { var e = {}; return e.uid = H.uniqueID, e.type = "Group", e.object = n.object, e }, H.groupBubble.showGroup(n) } }, s.onmouseout = function (e) { H.groupBubble && H.groupBubble.hideOnMouseOut() }, e.part = {}, e.part.left = i, e.part.width = a, e.part.height = H.eventHeight, e.part.dayIndex = _(n.rowlist, e.row), e.part.top = 0, e.part.isBlock = !0, e.part.grid = e.row.grid, e.client = {}, e.client.html = function () { return d.group.html }, e.data = {}, s.event = e, this.elements.events.push(s), n.divEvents.appendChild(s), e.rendered = !0, !0
            }, this.Re = function (e, t) { t = t || {}; var n = t.forced; if (e.rendered) return !1; if (H.groupConcurrentEvents) { var i = e.part.block; if (i.events.length > 1 && !i.expanded) return H.gu(i) } var a = "Progressive" === this.dynamicEventRendering, r = e.part.dayIndex, o = e.part.grid || "main", s = H.em[o], d = s.divEvents, c = s.rowlist, h = c[r]; if (h.hidden) return !1; var v = Math.max(0, h.resource.maxLines || 1e5); if (e.part.line >= v) return !1; var p = h.top, b = this.rd(), w = b.pixels.left - this.dynamicEventRenderingMargin, k = b.pixels.right + this.dynamicEventRenderingMargin, C = b.pixels.top, _ = b.pixels.bottom, E = e.part.left, S = e.part.left + e.part.width, D = e.part.top + p, A = D + e.part.height, M = H.multiselect.yd(e), R = k <= E || w >= S, B = "main" === o && (_ <= D || C >= A); if (!n && !M && a && (R || B)) return !1; var P = "Milestone" === e.data.type, L = e.part.width, I = e.part.height, z = e.cache || e.data, U = z.borderRadius || H.eventBorderRadius; "number" == typeof U && (U += "px"); var O = z.padding || H.eventPadding; "number" == typeof O && (O += "px"), L = f(0, L), I = f(0, I); var j = l(); if (j.related = [], function (t) { H.eventVersionsEnabled && x(z.versions).forEach(function (n, i) { if (n) { var a = e.versions[i]; if (a) { var r = l(); r.style.position = "absolute", r.style.overflow = "hidden", r.style.left = a.left + "px", r.style.top = p + a.top + "px", r.style.width = a.width + "px", r.style.height = H.eventVersionHeight + "px", r.className = H.da(Z.event) + " " + H.da("_event_previous") + " " + H.da("_event_version"), U && (r.style.borderRadius = U), r.onmousedown = function (e) { e.preventDefault(), e.stopPropagation() }, n.toolTip && (r.title = n.toolTip), n.cssClass && u(r, n.cssClass); var o = l(); o.setAttribute("unselectable", "on"), o.className = H.da(Z.eventInner), o.innerHTML = H.Ha(n.text, n.html), U && (o.style.borderRadius = U), n.backColor && (o.style.background = n.backColor), n.fontColor && (o.style.color = n.fontColor), n.borderColor && (o.style.borderColor = n.borderColor), n.backImage && (o.style.backgroundImage = "url(" + n.backImage + ")", n.backRepeat && (o.style.backgroundRepeat = n.backRepeat)), r.appendChild(o), a.continueLeft && !P && u(r, H.da("_event_continueleft")), a.continueRight && !P && u(r, H.da("_event_continueright")); var s = H.durationBarVisible && !n.barHidden, c = a.width; if (s && c > 0) { var h = 100 * a.barLeft / c, f = Math.ceil(100 * a.barWidth / c); "PercentComplete" === H.durationBarMode && (h = 0, f = n.complete || 0); var v = l(); v.setAttribute("unselectable", "on"), v.className = H.da(Z.eventBar), v.style.position = "absolute", n.barBackColor && (v.style.backgroundColor = n.barBackColor); var m = l(); m.setAttribute("unselectable", "on"), m.className = H.da(Z.eventBarInner), m.style.left = h + "%", 0 < f && f <= 1 ? m.style.width = "1px" : m.style.width = f + "%", n.barColor && (m.style.backgroundColor = n.barColor), n.barImageUrl && (m.style.backgroundImage = "url(" + n.barImageUrl + ")"), v.appendChild(m), r.appendChild(v) } if (n.htmlLeft) { var g = H.eventHtmlLeftMargin, y = l(); y.style.position = "absolute", y.style.right = -(a.left - g) + "px", y.style.top = p + a.top + "px", y.style.height = H.eventVersionHeight + "px", y.style.boxSizing = "border-box", y.innerHTML = n.htmlLeft, y.className = H.da("_event_left"), y.type = "divLeft", y.versionPart = a, t.related.push(y), d.appendChild(y) } if (n.htmlRight) { var g = H.eventHtmlRightMargin, b = l(); b.style.position = "absolute", b.style.left = a.left + a.width + g + "px", b.style.top = p + a.top + "px", b.style.height = H.eventVersionHeight + "px", b.style.boxSizing = "border-box", b.innerHTML = n.htmlRight, b.className = H.da("_event_right"), b.type = "divRight", b.versionPart = a, t.related.push(b), d.appendChild(b) } r.versionPart = a, r.type = "version"; var w = DayPilot.Areas.resolvePosition(n.areas, H, a.left, a.width); DayPilot.Areas.attach(r, n, { "areas": w }), t.related.push(r), d.appendChild(r) } } }) }(j), z.htmlLeft) { var W = H.eventHtmlLeftMargin, q = l(); q.style.position = "absolute", q.style.right = -(e.part.left - W) + "px", q.style.top = p + e.part.top + "px", q.style.height = H.eventHeight + "px", q.style.boxSizing = "border-box", q.innerHTML = z.htmlLeft, q.className = H.da("_event_left"), q.type = "divLeft", j.related.push(q), d.appendChild(q) } if (z.htmlRight) { var W = H.eventHtmlRightMargin, F = l(); F.style.position = "absolute", F.style.left = e.part.left + e.part.width + W + "px", F.style.top = p + e.part.top + "px", F.style.height = H.eventHeight + "px", F.style.boxSizing = "border-box", F.innerHTML = z.htmlRight, F.className = H.da("_event_right"), F.type = "divRight", j.related.push(F), d.appendChild(F) } if (H.treeAnimation) { var X = "number" == typeof h.forcedHeight ? h.forcedHeight : h.height; e.part.top + e.part.height > X && (I = Math.max(0, X - e.part.top)) } j.style.position = "absolute", j.style.left = e.part.left + H.eventMarginLeft + "px", j.style.top = p + e.part.top + "px", j.style.width = L - H.eventMarginLeft - H.eventMarginRight + "px", j.style.height = I + "px", H.eventTextWrappingEnabled || (j.style.whiteSpace = "nowrap"), j.style.overflow = "hidden", j.className = this.da(Z.event), P && u(j, H.da("_task_milestone")), "Group" === e.data.type && (u(j, H.da("_task_parent")), u(j, H.da("_task_group"))), z.cssClass && u(j, z.cssClass); "number" == typeof e.part.line && u(j, this.da(Z.eventLine + e.part.line)), U && (j.style.borderRadius = U), this.showToolTip && !this.bubble && (j.title = e.client.toolTip() || ""), j.onmousemove = this.Se, j.onmouseout = this.Te, j.onmousedown = this.Ue, j.onmouseup = this.hu, DayPilot.reNonPassive(j, "touchstart", J.iu), DayPilot.rePassive(j, "touchmove", J.ju), DayPilot.reNonPassive(j, "touchend", J.ku), e.client.clickEnabled() && (j.onclick = this.Kj), e.client.doubleClickEnabled() && (j.ondblclick = this.$b), j.oncontextmenu = function (e) { H.allowDefaultContextMenu || e.preventDefault() }, "undefined" != typeof z.ariaLabel ? j.setAttribute("aria-label", z.ariaLabel) : j.setAttribute("aria-label", z.text), j.setAttribute("tabindex", "-1"); var V = l(); V.setAttribute("unselectable", "on"), V.className = H.da(Z.eventInner), U && (V.style.borderRadius = U), O && (V.style.padding = O), z.backColor && (V.style.background = z.backColor), "contrasting" === z.fontColor && z.backColor ? V.style.color = DayPilot.ColorUtil.contrasting(z.backColor) : V.style.color = z.fontColor, "darker" === z.borderColor && z.backColor ? V.style.borderColor = DayPilot.ColorUtil.darker(z.backColor, 2) : V.style.borderColor = z.borderColor, z.backImage && (V.style.backgroundImage = "url(" + z.backImage + ")", z.backRepeat && (V.style.backgroundRepeat = z.backRepeat)), j.appendChild(V); var Y = e.start().getTime() === e.part.start.getTime(), K = e.rawend().getTime() === e.part.end.getTime(); if (Y || P || u(j, this.da("_event_continueleft")), K || P || u(j, this.da("_event_continueright")), e.client.barVisible() && L > 0 && !P) { var G = 100 * e.part.barLeft / L, Q = Math.ceil(100 * e.part.barWidth / L); "PercentComplete" === this.durationBarMode && (G = 0, Q = z.complete || 0), H.durationBarHeight && (V.style.paddingTop = H.durationBarHeight + "px"); var $ = l(); $.setAttribute("unselectable", "on"), $.className = this.da(Z.eventBar), $.style.position = "absolute", H.durationBarHeight && ($.style.height = H.durationBarHeight + "px"), z.barBackColor && ($.style.backgroundColor = z.barBackColor); var ee = l(); ee.setAttribute("unselectable", "on"), ee.className = this.da(Z.eventBarInner), ee.style.left = G + "%", H.durationBarHeight && (ee.style.height = H.durationBarHeight + "px"), 0 < Q && Q <= 1 ? ee.style.width = "1px" : ee.style.width = Q + "%", z.barColor && (ee.style.backgroundColor = z.barColor), z.barImageUrl && (ee.style.backgroundImage = "url(" + z.barImageUrl + ")"), $.appendChild(ee), j.appendChild($) } if (j.row = r, z.areas) { var te = DayPilot.Areas.resolvePosition(z.areas, H, e.part.left, e.part.width); te = te.filter(function (e) { return DayPilot.Areas.isVisible(e) }), te.forEach(function (t) { var n = DayPilot.Areas.createArea(j, e, t); j.appendChild(n) }) } if (j.event = e, M && (H.multiselect.add(j.event, !0), H.multiselect.Jd(j)), T.source && N.So(j), function () { if ("function" != typeof H.onBeforeEventDomAdd && "function" != typeof H.onBeforeEventDomRemove) return void (P || H.lu(V, z.text, z.html)); var t = {}; if (t.control = H, t.e = e, t.element = null, j.domArgs = t, "function" == typeof H.onDomAddEvent && H.onDomAddEvent(t), "function" == typeof H.onBeforeEventDomAdd && H.onBeforeEventDomAdd(t), t.element) { var n = V; if (n) { t.Ie = n; var i = m(t.element), a = g(t.element), r = y(t.element); if (i) { if (!H.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); H.X.W(t.element, n) } else if (a) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z._(t.element, n, t.props), H.Z.Le = !1 } else if (r) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z.Me(t.element, n), H.Z.Le = !1 } else n.appendChild(t.element) } } else P || (V.innerHTML = e.client.innerHTML()) }(), this.elements.events.push(j), d.appendChild(j), e.rendered = !0, H.Hb()) { if ("function" == typeof H.onAfterEventRender) { var ne = {}; ne.e = j.event, ne.div = j, H.onAfterEventRender(ne) } } else H.afterEventRender && H.afterEventRender(j.event, j); return !0 }, this.mu = function () { var e = l(); e.className = H.da("_event"); var t = l(); return t.className = H.da("_event_inner"), e.appendChild(t), e }, this.Ha = function (e, t) { return H.Ja.Ia() ? DayPilot.Util.escapeTextHtml(e, t) : v(t) ? v(e) ? "" : e : t }, this.lu = function (e, t, n) { v(n) ? null !== t && void 0 !== t && (H.Ja.Ia() ? e.innerText = t : e.innerHTML = t) : e.innerHTML = n }, this.Hb = function () { return 2 === H.api }, this.Pn = function () { for (var e = 0; e < this.elements.events.length; e++) { var t = this.elements.events[e], n = t.event, i = n.part.dayIndex, a = H.Ho(n.part.grid), r = a.rowlist[i], o = r.top, s = o + n.part.top, l = "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, d = n.part.height, c = !1; n.part.top + n.part.height > l && (d = Math.max(0, l - n.part.top), c = !0), t.style.top = s + "px", t.style.height = d + "px", x(t.related).filter(function (e) { return !!e.versionPart }).forEach(function (e) { var t = e.versionPart; e.style.top = o + t.top + "px" }), x(t.related).filter(function (e) { return !e.versionPart && ("divLeft" === e.type || "divRight" === e.type) }).forEach(function (e) { e.style.top = s + "px" }) } }, this.kh = function (e) { if (!e) return null; for (var t = 0; t < H.elements.events.length; t++) { var n = H.elements.events[t]; if (H.Gd(n.event.data, e.data)) return n } return null }, this.zp = function (e) { var t = H.events.gp(e.data); if (!t) return null; var n = H.rowlist[t.part.dayIndex]; return H.Aq(n), H.Re(t, { "forced": !0 }), H.kh(t) }, this.Te = function (e) { var t = this; DayPilot.Areas.hideAreas(t, e), t.active || (c(t, H.da("_event_hover")), H.nu(t), T.source || N.$o(), H.bubble && "Bubble" === H.eventHoverHandling && H.bubble.hideOnMouseOut()) }, this.ou = function (e) { var t = {}; t.div = e, t.e = e.event, "function" == typeof this.onEventMouseOver && this.onEventMouseOver(t), "function" == typeof this.onEventMouseEnter && this.onEventMouseEnter(t) }, this.nu = function (e) { var t = {}; t.div = e, t.e = e.event, "function" == typeof this.onEventMouseOut && this.onEventMouseOut(t), "function" == typeof this.onEventMouseLeave && this.onEventMouseLeave(t) }, this.qu = function (e) { var t = e.row, n = {}; n.div = e, n.row = H._n(t), "function" == typeof this.onRowMouseOver && this.onRowMouseOver(n) }, this.ru = function (e) { var t = e.row, n = {}; n.div = e, n.row = H._n(t), "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n) }, this.Se = function (e) { H.cellBubble && H.cellBubble.delayedHide(); for (var t = this; t && !t.event;)t = t.parentNode; var n = t.event; H.su(t, e); var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled; if (!t.active) { var a = []; if ("Disabled" !== H.eventDeleteHandling && !i) { var r = H.durationBarVisible ? $.Eq() : 0; a.push({ "action": "JavaScript", "v": "Hover", "w": 17, "h": 17, "top": r + 2, "right": 2, "css": H.da(Z.eventDelete), "js": function (e) { H.gc(e) } }) } if (!e.preventBubbleActivation) { var o = t.event.cache ? t.event.cache.areas : t.event.data.areas; o && o.length > 0 && (o = DayPilot.Areas.resolvePosition(o, H, n.part.left, n.part.width), a = a.concat(o)), DayPilot.Areas.showAreas(t, t.event, null, a) } u(t, H.da("_event_hover")), H.ou(t) } "Disabled" === H.linkCreateHandling || T.source || (N.Vo(), N.Cn(), H.Pt() && N.So(t)), H.cn(e), H.coords.insideEvent = t.event }, this._m = {}, this.hu = function (e) { var t = H._m; if (b(e).right) return void H._b.call(this, e); if (H.ionicEventClickFix) { var n = t.Xf; if (n) { var i = DayPilot.mc(e); n.x === i.x && n.y === i.y && (H.Kj.call(this, e), e.preventDefault(), e.stopPropagation()) } } }, this.Ue = function (e) { H.db(), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), H.cn(e); var t = b(e); if (e.preventDefault(), e.stopPropagation(), t.left) { var n = e.shiftKey; if ("Disabled" !== $.dn() && n) return K.start(), !1; "w-resize" === this.style.cursor || "e-resize" === this.style.cursor ? (i.$m = !0, i._p = this, i.rq = this.event, i.Xf = DayPilot.mc(e), s().style.cursor = this.style.cursor, N.Cn()) : ("move" === this.style.cursor || "Full" === H.moveBy && this.event.client.moveEnabled()) && H.je(this, e) } DayPilot.Menu && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), DayPilot.Menu.active = null) }, this.je = function (e, t) { var n = H._m; H.cn(t), n.tu = !0, n._m = e, n.Xp = e.event, n.Xf = DayPilot.mc(t), n.Wp = DayPilot.mo3(e, t).x, n.$p = H.getDate(H.coords.x, !0), N.Cn() }, this.Ve = {}; var J = H.Ve; "undefined" == typeof w.touch && (w.touch = {}), w.touch.active = !1, w.touch.start = !1, J.an = [], J.relativeCoords = function (e) { return J.Vg(e) }, J.startResizing = function (e, t) { J.we(e, t) }, J.startMoving = function (e, t) { J.je(e, t) }, J.iu = function (e) { if (!w.touch.active && !w.touch.start) { DayPilot.Menu && DayPilot.Menu.touchPosition(e), e.stopPropagation(), J.uu(), w.touch.start = !0, w.touch.active = !1; var t = this; H.coords = J.Vg(e); var i = H.tapAndHoldTimeout; J.an.push(window.setTimeout(function () { w.touch.active = !0, w.touch.start = !1, e.preventDefault(); var i = t.event; switch (H.eventTapAndHoldHandling) { case "Move": if (i.client.moveEnabled()) { var a = n(e); J.je(t, a) } break; case "ContextMenu": DayPilot.Menu && DayPilot.Menu.touchPosition(e); var r = i.client.contextMenu(); r ? r.show(i) : H.contextMenu && H.contextMenu.show(i) } }, i)) } }, J.ju = function (e) { J.uu(), w.touch.start = !1 }, J.ku = function (e) { if (!DayPilot.Util.isMouseEvent(e)) { if (J.uu(), w.touch.start) { w.touch.start = !1, e.preventDefault(), e.stopPropagation(); var t = this; window.setTimeout(function () { H.Xb(t, e) }) } window.setTimeout(function () { w.touch.start = !1, w.touch.active = !1 }, 500) } }, J.lf = function (e) { if (!(w.touch.active || w.touch.start || e.touches.length > 1 || "Disabled" === H.timeRangeSelectedHandling)) { J.uu(), w.touch.start = !0, w.touch.active = !1; var t = H.tapAndHoldTimeout; J.an.push(window.setTimeout(function () { w.touch.active = !0, w.touch.start = !1, e.preventDefault(), "Always" !== H.multiRangeMode && G.clear(), H.coords = J.Vg(e), H.Pc(H.coords) ? H.vu(e) : J.aq = H.wu() }, t)); H.coords = J.Vg(e) } }, J.mf = function (e) { if (J.uu(), w.touch.start = !1, i._p) return e.preventDefault(), void J.Zg(); if (w.touch.active) { if (e.preventDefault(), H.coords = J.Vg(e), i._m) return void J.$g(); if (J.aq) { var t = J.aq; t.end = { x: Math.floor(H.coords.x / H.cellWidth), "time": H.getDate(H.coords.x, !0) }, H.Wn(t) } } }, J.debug = function (e) { }, J.nf = function (e) { J.uu(); var t = function () { H.elements.range2.overlapping ? (C(H.elements.range2), H.elements.range2 = null, H.fr()) : H.xu.add(h), i.aq = null, H.xu.dispatch() }; if (w.touch.active) { if (i._m) { e.preventDefault(); var n = i.Xp; if (H !== i.Xq.calendar) return; var a = i.Xq.start, r = i.Xq.end, o = "Days" !== H.viewType ? i.Xq.row.id : null, l = i.ar && n.part.external, d = i.Xq.overlapping, u = !i.Xq.allowed; if (c(i._m, H.da(H.yu.eventMovingSource)), C(i.Xq), H.fr(), i.Xq.calendar = null, s().style.cursor = "", i._m = null, i.Xp = null, i.Xq = null, H.Uq.clear(), d || u || H.Uq.forbidden || H.Uq.invalid) return; H.wc(n, a, r, o, l) } if (J.aq) { var h = J.aq; if (J.aq = null, H.allowMultiRange && H.elements.range2) t(); else { var f = H.elements.range2; f && f.overlapping ? H.clearSelection() : (H.Vn = h, H.Sn(h)) } } } else if (w.touch.start) { if (H.coords.x < H.getScrollX()) return; "Always" !== H.multiRangeMode && G.clear(); var h = H.wu(); H.Wn(h); var f = H.elements.range2; f && H.allowMultiRange ? t() : f && f.overlapping ? H.clearSelection() : (H.Vn = h, H.Sn(h)) } window.setTimeout(function () { w.touch.start = !1, w.touch.active = !1 }, 500) }, J.uu = function () { for (var e = 0; e < J.an.length; e++)clearTimeout(J.an[e]); J.an = [] }, J.Vg = function (e) { function t(e, t, n) { var i = DayPilot.abs(n); return { x: e - i.x, y: t - i.y, toString: function () { return "x: " + this.x + ", y:" + this.y } } } var n = H.cm, i = e.touches ? e.touches[0] : e, a = i.pageX, r = i.pageY, o = t(a, r, n); if (o.grid = "main", H.em.top.enabled()) { var s = H.em.top, l = t(a, r, s.divCells); l.y > 0 && l.y <= s.height && (o = l, o.grid = "top") } if (H.em.bottom.enabled()) { var d = H.em.bottom, c = t(a, r, d.divCells); c.y > 0 && c.y <= s.height && (o = c, o.grid = "bottom") } return o }, J.je = function (e, t) { i._m = e, i.Xp = e.event, i.Xf = t; var n = DayPilot.abs(e); i.Wp = t.x - n.x, i.$p = H.getDate(H.coords.x, !0), i.Xq = H.Ib(e), H.oq() }, J.we = function (e, t) { i._p = e, i.rq = e.event, i._p.dpBorder = t, i.qq || (i.qq = H.Ib(e)), H.Zq() }, J.Zg = function () { if (!i.qq) { var e = i._p; i.qq = H.Ib(e) } H.Zq(); var t = { x: H.coords.x, y: H.coords.y, "grid": H.coords.grid }; H.ag(t) }, J.$g = function () { if (i.Xq && i.Xq.calendar !== H && H.fr(), !i.Xq) { var e = i._m; i.Xq = H.Ib(e) } i.Xq.calendar.oq(); var t = { x: H.coords.x, y: H.coords.y, "grid": H.coords.grid }; H.ag(t) }, J.Ir = function (e) { var t = this.row, n = H._n(t); if (!(w.touch.active || w.touch.start || e.touches.length > 1)) { J.uu(), w.touch.start = !0, w.touch.active = !1; var i = H.tapAndHoldTimeout; J.an.push(window.setTimeout(function () { w.touch.active = !0, w.touch.start = !1, e.preventDefault(), H.contextMenuResource && H.contextMenuResource.show(n) }, i)); H.coords = J.Vg(e) } }, J.Jr = function (e) { w.touch.active && (w.touch.start = !1, e.preventDefault(), e.stopPropagation()), window.setTimeout(function () { w.touch.start = !1, w.touch.active = !1 }, 500) }, this.su = function (e, t) { var n = this.eventResizeMargin, a = this.eventMoveMargin, r = e; if ("undefined" != typeof i) { var o = DayPilot.mo3(e, t); if (o && (H.eventOffset = o, !i._p && !i._m)) { var s = r.event.part.start.toString() === r.event.start().toString(), l = r.event.part.end.toString() === r.event.rawend().toString(); if ("Top" === H.moveBy && o.y <= a && r.event.client.moveEnabled() && "Disabled" !== H.eventMoveHandling ? e.style.cursor = "move" : ("Top" === H.moveBy || "Full" === H.moveBy) && o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== H.eventResizeHandling ? s ? (e.style.cursor = "w-resize", e.dpBorder = "left") : e.style.cursor = "not-allowed" : "Left" === H.moveBy && o.x <= a && r.event.client.moveEnabled() && "Disabled" !== H.eventMoveHandling ? e.style.cursor = "move" : e.offsetWidth - o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== H.eventResizeHandling ? l ? (e.style.cursor = "e-resize", e.dpBorder = "right") : e.style.cursor = "not-allowed" : i._p || i._m || (r.event.client.clickEnabled() && "Disabled" !== H.eventClickHandling ? e.style.cursor = "pointer" : e.style.cursor = "default"), "undefined" != typeof DayPilot.Bubble && H.bubble && "Bubble" === H.eventHoverHandling && ("default" === e.style.cursor || "pointer" === e.style.cursor)) { this._g && o.x === this._g.x && o.y === this._g.y; this._g = o, t.preventBubbleActivation || H.bubble.showEvent(e.event) } } } }, this.wq = function () { return "Days" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration) }, this.Tn = function (e) { var e = e || i.aq || H.Vn; if (!e) return null; var t = H.Ho(e.start.grid), n = t.rowlist[e.start.y]; if (!n) return null; var a = e.zu ? e.zu : e, r = a.end.time > a.start.time, o = n.id, s = r ? a.start.x : a.end.x, l = r ? a.end.x : a.start.x, d = n.start.getTime() - this.Rb().getTime(), c = H.snapToGrid && H.snapToGridTimeRangeSelecting; e.forceSnap && (c = !0); var u, h; c ? (u = this.itline[s].start.addTime(d), h = this.itline[l].end.addTime(d)) : r ? (u = a.start.time, h = a.end.time) : (u = a.end.time, h = a.start.time); var f = new DayPilot.Selection(u, h, o, H); return f.allowed = !e.div || !e.div.overlapping, f }, this.nd = function (e) { var t = e.parentNode, n = H.eventEditMinWidth, i = (e.event.text() || "").trim(), a = document.createElement("textarea"); return a.style.position = "absolute", a.style.width = (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px", a.style.height = e.offsetHeight - 2 + "px", a.style.fontFamily = DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family"), a.style.fontSize = DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size"), a.style.left = e.offsetLeft + "px", a.style.top = e.offsetTop + "px", a.style.border = "1px solid black", a.style.padding = "1px", a.style.marginTop = "0px", a.style.backgroundColor = "white", a.value = i, a.event = e.event, t.appendChild(a), a }, this.Au = function (e) { var t = M.Nk(); t.sort(function (e, t) { var n = e.event, i = t.event; return n.part.dayIndex !== i.part.dayIndex ? n.part.dayIndex - i.part.dayIndex : n.start() !== i.start() ? n.start().getTime() - i.start().getTime() : i.end().getTime() - n.end().getTime() }); var n = t.indexOf(e); return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0] }, this.Yb = function (e) { if (e) { if (i.Bp && i.Bp.blur(), e.event) { var t = e.event; Q.Cp(); var n = this.nd(e); if (i.Bp = n, DayPilot.rePassive(n, DayPilot.touch.start, function (e) { e.stopPropagation() }), n.onblur = function () { if (n.onblur = null, i.Bp === n && (i.Bp = null), n.parentNode && n.parentNode.removeChild(n), e.event) { var t = (e.event.text(), n.value); H.Ic(e.event, t, n.canceling) } }, n.onmousedown = function (e) { e.stopPropagation && e.stopPropagation() }, n.cancel = function () { i.Bp && (i.Bp.canceling = !0, i.Bp.blur()) }, n.onkeydown = function (a) { if ("function" == typeof H.onEventEditKeyDown) { var r = {}; if (r.e = e.event, r.element = n, r.preventDefault = function () { r.preventDefault.value = !0 }, r.submit = function () { n.onblur() }, r.cancel = function () { i.Bp.cancel() }, r.originalEvent = a, H.onEventEditKeyDown(r), r.preventDefault.value) return } var o = i.Bp, s = a.keyCode; if (13 === s && (a.stopPropagation(), this.onblur()), 27 === s) o.cancel(); else if (9 === s && H.eventEditTabNext) { var l = H.kh(t), d = H.Au(l); return o && o.cancel(), d && setTimeout(function () { H.Yb(d) }, 0), !1 } }, "function" == typeof H.onAfterEventEditRender) { var a = {}; a.element = n, a.e = e.event, H.onAfterEventEditRender(a) } n.select(), n.focus() } } }, this.Bu = {}, this.Bu.resource = function () { return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : { "showResource": function () { }, "hideOnMouseOut": function () { } } }(), this.Bu.cell = function () { return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble : { "showResource": function () { }, "hideOnMouseOut": function () { } } }(), this.Cr = function (e) { var t = this, n = t.row; if (H.fb(), H.Cu = !0, clearTimeout(H.Du), H.Du = setTimeout(function () { H.Cu = !1 }, 500), "undefined" != typeof DayPilot.Bubble) { H.cellBubble; var i = H._n(n); i.div = t, H.resourceBubble ? H.resourceBubble.showResource(i) : n.bubbleHtml && H.Bu.resource.showResource(i) } }, this.Ar = function (e) { var t = this; t.active || (t.active = !0, H.qu(t)) }, this.Br = function (e) { var t = this; delete t.active, H.ru(t) }, this.Dr = function (e) { var t = this; "undefined" != typeof DayPilot.Bubble && H.resourceBubble ? H.resourceBubble.hideOnMouseOut() : H.Bu.resource.hideOnMouseOut(); var n = t.firstChild; DayPilot.Areas.hideAreas(n, e), n.data = null }, this.Er = function (e) { S.row && (q.cancelClick = !0, setTimeout(function () { q.cancelClick = !1 }, 100)), H.As && (H.As = !1, clearTimeout(H.Bs), H.Gr.call(this, e)) }, this.Ll = function () { if ("None" !== H.timeHeaderPosition && this.timeHeader) { this.wa.timeHeader = {}, H.elements.timeHeader.length > 0 && (H.Ao(), H.elements.timeHeader = []); var e = l(); e.style.position = "relative", this.nav.timeHeader = e; for (var t = 0; t < this.timeHeader.length; t++)for (var n = this.timeHeader[t], i = 0; i < n.length; i++)this.Eu(i, t); var a = this.divNorth; 1 === a.childNodes.length ? a.replaceChild(e, a.childNodes[0]) : (a.innerHTML = "", a.appendChild(e)); var r = this.tm(); a.style.width = r + 5e3 + "px", r > 0 && (this.divStretch.style.width = r + "px"), H.Fu() } }, this.Za = function () { if (H.divCorner) { var e = H.divCorner && H.divCorner.domArgs; if (H.divCorner.domArgs = null, e && ("function" == typeof H.onBeforeCornerDomRemove && H.onBeforeCornerDomRemove(e), "function" == typeof H.onBeforeCornerDomAdd)) { var t = H.divCorner; if (t) { var n = H.X.reactDOM && m(e.element), i = H.Z.Ke && (g(e.element) || y(e.element)); n ? H.X.la(t) : i && (H.Z.Le = !0, H.Z.ma(t), H.Z.Le = !1) } } } }, this.Vm = function (e, t) { var n = null, i = this.Ja.Tc(), t = t || this.cellGroupBy, a = e.start; e.end; switch (t) { case "Minute": n = a.toString("m"); break; case "Hour": n = "Clock12Hours" === H.Ja.Sc() ? a.toString("h tt", i) : a.toString("H", i); break; case "Day": n = a.toString(i.datePattern); break; case "Week": n = 1 === $.Rd() ? a.weekNumberISO() : a.weekNumber(); break; case "Month": n = a.toString("MMMM yyyy", i); break; case "Quarter": n = "Q" + Math.floor(a.getMonth() / 3 + 1); break; case "Year": n = a.toString("yyyy"); break; case "None": n = ""; break; case "Cell": var r = (e.end.ticks - e.start.ticks) / 6e4; n = this.Gu(a, r); break; default: throw new DayPilot.Exception("Invalid groupBy value: " + t) }return n }, this.Gu = function (e, t) { var n = this.Ja.Tc(), t = t || this.cellDuration; return t < 1 ? e.toString("ss") : t < 60 ? e.toString("mm") : t < 1440 ? "Clock12Hours" === H.Ja.Sc() ? e.toString("h tt", n) : e.toString("H", n) : t < 10080 ? e.toString("d") : 10080 === t ? 1 === $.Rd() ? e.weekNumberISO() : e.weekNumber() : e.toString("MMMM yyyy", n) }, this.Sm = function (e) { var t = this.scale; switch (t) { case "Cell": throw new DayPilot.Exception("Invalid scale: Cell"); case "Manual": throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)"); case "CellDuration": return e.addMinutes(this.cellDuration); default: return this.Um(e, t, !0) } }, this.Um = function (e, t, n) { var i, a; if (n) { var r = "Days" !== this.viewType ? this.days : 1; a = this.startDate.addDays(r), "Manual" === H.scale && (a = H.ce()) } else a = H.ce(), "Days" === H.viewType && (a = H.startDate.addDays(1)); var t = t || this.cellGroupBy, o = 60; switch (t) { case "Minute": e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())), i = e.addMinutes(1); break; case "Hour": e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())), i = e.addHours(1); break; case "Day": i = e.getDatePart().addDays(1); break; case "Week": for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== $.Rd();)i = i.addDays(1); break; case "Month": e = e.getDatePart(), i = e.addMonths(1), i = i.firstDayOfMonth(); for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; break; case "Quarter": for (e = e.getDatePart(), i = e.addMonths(1), i = i.firstDayOfMonth(); i.getMonth() % 3;)i = i.addMonths(1); for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; break; case "Year": e = e.getDatePart(), i = e.addYears(1), i = i.firstDayOfYear(); for (var s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; !s;)i = i.addHours(1), s = DayPilot.DateUtil.diff(i, e) / 6e4 % o === 0; break; case "None": i = a; break; case "Cell": var l = this.Zm(e); i = l.current ? l.current.end : l.past ? l.previous.end : l.next.start; break; default: throw n ? new DayPilot.Exception("Invalid scale value: " + t) : new DayPilot.Exception("Invalid groupBy value: " + t) }return i.getTime() > a.getTime() && (i = a), i }, this.yu = {}, this.yu.timeheadercol = "_timeheadercol", this.yu.timeheadercolInner = "_timeheadercol_inner", this.yu.resourcedivider = "_resourcedivider", this.yu.eventFloat = "_event_float", this.yu.eventFloatInner = "_event_float_inner", this.yu.event = "_event", this.yu.eventInner = "_event_inner", this.yu.eventBar = "_event_bar", this.yu.eventBarInner = "_event_bar_inner", this.yu.eventDelete = "_event_delete", this.yu.eventLine = "_event_line", this.yu.eventMovingSource = "_event_moving_source"; var Z = this.yu; this.Eu = function (e, t) { var n = this.nav.timeHeader, i = this.timeHeader[t][e], a = e === this.timeHeader[t].length - 1, r = t < this.timeHeader.length - 1, o = i.left, s = i.width, d = ee.Fq(t), c = d.top, h = d.height, f = l(); f.style.position = "absolute", f.style.top = c + "px", f.style.left = o + "px", f.style.width = s + "px", f.style.height = h + "px", i.toolTip && (f.title = i.toolTip), f.setAttribute("aria-hidden", "true"), i.cssClass && u(f, i.cssClass), f.setAttribute("unselectable", "on"), f.style.KhtmlUserSelect = "none", f.style.MozUserSelect = "none", f.style.webkitUserSelect = "none", f.oncontextmenu = function () { return !1 }, f.cell = {}, f.cell.start = i.start, f.cell.end = i.end, f.cell.level = t, f.cell.th = i, f.onclick = this.Nr, f.oncontextmenu = this.Or, DayPilot.rePassive(f, DayPilot.touch.start, function (e) { e.stopPropagation() }), f.style.overflow = "hidden", H.timeHeaderTextWrappingEnabled || (f.style.whiteSpace = "nowrap"); var v = l(); v.setAttribute("unselectable", "on"), H.lu(v, i.text, i.innerHTML), i.backColor && (v.style.background = i.backColor), i.fontColor && (v.style.color = i.fontColor); var p = this.da(Z.timeheadercol), b = this.da(Z.timeheadercolInner); r && (p = this.da("_timeheadergroup"), b = this.da("_timeheadergroup_inner")), u(f, p), u(v, b), u(f, H.da("_timeheader_cell")), u(v, H.da("_timeheader_cell_inner")), a && u(f, H.da("_timeheader_cell_last")), function () { if ("function" == typeof H.onBeforeTimeHeaderDomAdd || "function" == typeof H.onBeforeTimeHeaderDomRemove) { var e = {}; if (e.control = H, e.header = {}, e.header.start = i.start, e.header.end = i.end, e.header.level = t, e.element = null, f.domArgs = e, "function" == typeof H.onBeforeTimeHeaderDomAdd) { H.onBeforeTimeHeaderDomAdd(e); var n = e.element; if (n) { v.innerHTML = ""; var a = l(); v.appendChild(a), e.Ie = a; var r = m(n), o = g(n), s = y(n); if (r) { if (!H.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); H.X.W(n, a) } else if (o) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z._(e.element, a, e.props), H.Z.Le = !1 } else if (s) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z.Me(e.element, a), H.Z.Le = !1 } else a.appendChild(n) } } } }(), f.appendChild(v); var w = DayPilot.Areas.resolvePosition(i.areas, H, o, s); DayPilot.Areas.attach(f, i, { "areas": w }), this.wa.timeHeader[e + "_" + t] = f, this.elements.timeHeader.push(f), n.appendChild(f) }, this.Hu = function () { var e = H.timeHeader, t = e.length - 1; if (t < 0) return null; for (var n = e[t], i = DayPilot.Date.now(), a = 0; a < n.length; a++) { var r = n[a]; if (r.start <= i && i <= r.end) return H.wa.timeHeader[a + "_" + t] } return null }, this.Iu = null, this.Fu = function () { var e = H.da("_timeheader_cell_now"), t = H.Iu, n = H.Hu(); t !== n && (c(t, e), u(n, e), H.Iu = n) }, this.Ju = null, this.Ku = function () { clearTimeout(H.Ju), H.Ju = setTimeout(function () { H.Fu(), H.Ku() }, 5e3) }, this.Bo = function () { clearTimeout(H.Ju) }, this.Fn = function () { clearTimeout(H.Ju), H.showCurrentTimeHeader && (H.Fu(), H.Ku()) }, this.kn = function () { return H.rl ? void Y.bs() : (H.Nm().forEach(function (e) { var t = e.getHeight() + e.marginBottom + e.marginTop; e.height !== t && (H.Mn = !0), e.height = t }), void (H.Mn && (H.wa.drawArea = null))) }, this.Nl = function () { H.Nm().forEach(function (e) { if (!e.hidden) { var t = H.Ho(e.grid), n = t.divHeader; if (n) { var i = e.index; if (n.rows[i]) for (var a = 0; a < n.rows[i].cells.length; a++) { var r = n.rows[i].cells[a], o = t.rowlist[i].cells[a]; H.qr && r && (r.style.top = e.top + "px"); var s = e.height; o.rowspan > 1 && (s = o.totalHeight()), r && r.firstChild && parseInt(r.firstChild.style.height, 10) !== s && (r.firstChild.style.height = s + "px") } } } }), H.qr && H.nav.resScrollSpace && (H.nav.resScrollSpace.style.top = H.wl + "px") }, this.eh = function (e) { var t = this.separators[e]; t.location = t.location || t.Location, t.color = t.color || t.Color, t.layer = t.layer || t.Layer, t.width = t.width || t.Width, t.opacity = t.opacity || t.Opacity; var n = new DayPilot.Date(t.location), i = t.color, a = t.width ? t.width : 1, r = !!t.layer && "AboveEvents" === t.layer, o = t.opacity ? t.opacity : 100; if (!(n.getTime() < H.Rb().getTime() || n.getTime() >= H.ce().getTime())) { var s = this.getPixels(n); if (!s.cut && !(s.left < 0 || s.left > H.tm())) { var d = l(); d.style.width = a + "px", d.style.height = H.wl + "px", d.style.position = "absolute", d.style.left = s.left - 1 + "px", d.style.top = "0px", d.style.backgroundColor = i, d.style.opacity = o / 100, d.style.filter = "alpha(opacity=" + o + ")", d.className = H.da("_separator"), t.cssClass && (d.className += " " + t.cssClass), t.toolTip && (d.title = t.toolTip), r ? this.divSeparatorsAbove.appendChild(d) : this.divSeparators.appendChild(d), this.elements.separators.push(d) } } }, this.jg = function (e) { }, this.Jt = function (e) { if ("Disabled" === H.timeRangeDoubleClickHandling) return !1; i.Lu && (clearTimeout(i.Lu), i.Lu = null); H.cn(e), e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0; var t = H.Pc(H.coords); if (t) { var n = H.Tn(t); H.Hc(n.start, n.end, n.resource) } else if (i.aq = H.wu(), i.aq) { i.Mu = H; var n = H.Tn(i.aq); H.Hc(n.start, n.end, n.resource), H.Vn = i.aq } i.aq = null }, this.Gt = function (e) {
                var t = b(e); if (!("Disabled" === H.timeRangeRightClickHandling && t.right || w.touch.start || w.touch.active)) {
                    if (i.Lu, 1, H.Nu(), H.fb(), H.cn(e), i.Rm) return !1; var t = b(e); if (H.Lg()) return !1; var n = H.Pc(H.coords); if (t.middle || t.right && n) return !1; if (n) return !1; var a = t.left ? "left" : t.right ? "right" : t.middle ? "middle" : "unknown"; H.Ou = a; var r = e.ctrlKey, o = e.metaKey, s = e.shiftKey, l = H.multiRangeMode, d = r || o || "Always" === l, c = {}; if (c.action = "None", "Disabled" !== $.dn() && s ? c.action = "RectangleSelect" : "Disabled" !== H.timeRangeSelectedHandling && (c.action = "TimeRangeSelect"),
                        c.shift = s, c.ctrl = s, c.meta = o, c.originalEvent = e, c.button = a, c.preventDefault = function () { c.action = "None" }, "function" == typeof H.onGridMouseDown && H.onGridMouseDown(c), "None" === c.action) return "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ "calendar": H }), e.preventDefault(), e.stopPropagation(), !1; if ("RectangleSelect" === c.action) { var u = {}; return u.start = H.coords, u.calendar = H, i.Rm = u, !1 } H.allowMultiRange && !d && G.clear(); return !H.wo(H.coords.y, H.coords.grid).element.isNewRow && (i.aq = H.wu(), i.aq && (i.aq.ctrl = d, i.aq.Pu = H.coords, i.Mu = H), !1)
                }
            }, this.wu = function () { var e = {}, t = H.Xm(H.coords.x).x, n = H.getDate(H.coords.x, !0), i = H.wo(H.coords.y, H.coords.grid); if (H.Xn()) { var a = i.element.data.end, r = i.element.start.getTime() - H.Rb().getTime(); if (n.addTime(r) > a) return null } return e.start = { y: i.i, x: t, "grid": H.coords.grid, "time": n }, e.end = { x: t, "time": n }, H.Ko(i.i, H.coords.grid) ? null : (e.calendar = H, H.Wn(e), e) }, this.$q = function () { H.Wf(); var e = i.qq, t = H.Qu, n = { "start": e.start, "end": H.Xj(e.end) }; e.original = n; var a = "left" === i._p.dpBorder ? "start" : "end", r = e.original; if (!r || !t || t.start !== r.start || t.end !== r.end) { z.clear(), z.Lq(), function () { e.overlapping = !1; var t = i._p.event, n = H.rowlist[t.part.dayIndex], a = e.left, r = e.width, o = x(z.list).map(function (e) { return e.event.data }).add(t.data); if (H.Rq(e, n, a, r, o), e.start) { var s = { "start": e.start, "end": H.Xj(e.end) }; H.Sq(e, s.start, s.end, n.id) } }(); var o = i._p; !function () { z.clear(), z.Lq(), t && (c(e, t.cssClass), e.firstChild.innerHTML = ""); var r = o.event.part.dayIndex, s = H.rowlist[r], l = {}; l.start = n.start, l.end = n.end, l.duration = new DayPilot.Duration(l.start, l.end), l.row = H._n(s), l.e = o.event, l.allowed = !0, l.resizing = a, l.what = a, l.anchor = "end" === l.what ? n.start : n.end, l.areaData = w.resizingAreaData, l.left = {}, l.left.html = l.start.toString(H.eventResizingStartEndFormat, $.Tc()), l.left.enabled = H.eventResizingStartEndEnabled, l.left.space = 5, l.left.width = null, l.left.height = H.eventHeight, l.right = {}, l.right.html = l.end.toString(H.eventResizingStartEndFormat, $.Tc()), l.right.enabled = H.eventResizingStartEndEnabled, l.right.space = 5, l.right.width = null, l.right.height = H.eventHeight, l.cssClass = null, l.html = null, l.overlapping = l.row.events.forRange(l.start, l.end).filter(function (e) { return !H.Gd(e, l.e) }).length > 0, l.shift = H.coords.shift, l.ctrl = H.coords.ctrl, l.meta = H.coords.meta, l.alt = H.coords.alt, l.multiresize = z.Jq(); var d = {}; d.event = o.event, d.start = l.start, d.end = l.end, l.multiresize.splice(0, 0, d), H.Qu = n, "function" == typeof H.onEventResizing && H.onEventResizing(l), z.list = x(l.multiresize, !0), z.list.splice(0, 1), z._o(), e.allowed = l.allowed, u(e, l.cssClass), l.html && (e.firstChild.innerHTML = l.html); var h = l.start, v = H.Aj(l.end); if (e.finalStart = h, e.finalEnd = v, "Days" === H.viewType || H.Xn()) { var p = s.start.getTime() - H.Rb().getTime(); h = h.addTime(-p), v = v.addTime(-p) } var m = DayPilot.DateUtil.diff(h, v); m = f(m, 1); var g = ($.gh(m), H.snapToGrid && H.snapToGridEventResizing), y = g ? H.getPixels(h).boxLeft : H.getPixels(h).left, b = g ? H.getPixels(v).boxRight : H.getPixels(v).left; e.style.left = y + "px", e.style.width = b - y + "px", e.left = y, e.width = b - y; var k = x(z.list).map(function (e) { return e.event.data }).add(o.event.data); H.Rq(i.qq, s, y, b - y, k), H.Sq(i.qq, e.finalStart, e.finalEnd, s.id), H.br(i.qq, l), H.cr(i.qq, l) }() } }, this.It = function (e) { if (i.Rm) return e.cancelBubble = !0, e.preventDefault(), i.Hg(e), !1; if (H._m = {}, H.Vn) { var t = b(e); if (t.left) { var n = H.Vn; if (H.Pc(H.coords)) { var a = function (e) { return function () { i.Lu = null; var t = H.Tn(e); if (t) { var n = {}; n.start = t.start, n.end = t.end, n.resource = t.resource, n.preventDefault = function () { n.preventDefault.value = !0 }, "function" == typeof H.onTimeRangeClick && H.onTimeRangeClick(n), n.preventDefault.value || "function" == typeof H.onTimeRangeClicked && H.onTimeRangeClicked(n) } } }; "Disabled" != H.timeRangeClickHandling && ("Disabled" === H.timeRangeDoubleClickHandling ? a(n)() : (clearTimeout(i.Lu), i.Lu = setTimeout(a(n), H.doubleClickTimeout))) } } } var t = b(e); t.right && H.vu(e) }, this.vu = function (e) { if ("Disabled" !== H.timeRangeSelectedHandling && "Disabled" !== H.timeRangeRightClickHandling) { if (i.aq || H.Vn || !x(G.list).isEmpty()) { var t = H.wo(H.coords.y, H.coords.grid); if (H.Ko(t.i)) return void (i.aq = null); var n = null, a = H.Pc(H.coords); if (n = a ? H.Tn(a) : H.Tn(), !n) return void (i.aq = null); var r = a && a.args; if (r && !r.ignoreDisabledCells && H.Vc(n.start, n.end, n.resource)) return i.aq = null, void H.clearSelection(); n.end = H.Xj(n.end); var o = {}; o.start = n.start, o.end = n.end, o.resource = n.resource, o.ctrl = e.ctrlKey, o.shift = e.shiftKey, o.meta = e.metaKey, o.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof H.onTimeRangeRightClick && (H.onTimeRangeRightClick(o), o.preventDefault.value) || ("ContextMenu" === H.timeRangeRightClickHandling && H.contextMenuSelection && H.contextMenuSelection.show(n), "function" == typeof H.onTimeRangeRightClicked && H.onTimeRangeRightClicked(o)) } } }, this.Lg = function () { return !!(i._p || i._m || i.aq || i.ar) || !!H._m.tu }, this.dragInProgress = function () { return H.Lg() }, this.cn = function (e) { var t = DayPilot.mo3(H.cm, e); if (t = t || {}, t.grid = "main", H.em.top.enabled()) { var n = H.em.top, i = DayPilot.mo3(n.divCells, e); i && i.y > 0 && i.y <= n.height && (t = i, t.grid = "top") } if (H.em.bottom.enabled()) { var a = H.em.bottom, r = DayPilot.mo3(a.divCells, e); r && r.y > 0 && r.y <= a.height && (t = r, t.grid = "bottom") } t.stamp = t.grid + "_" + t.x + "_" + t.y, H.coords && H.coords.stamp === t.stamp || (H.coords = t) }, this.getCoords = function () { if (!H.coords) return null; var e = {}; e.x = H.coords.x, e.y = H.coords.y, e.grid = H.coords.grid; var t = H.wo(e.y, e.grid).element; return e.row = H._n(t), e.time = H.getDate(e.x, !0), e.cell = H.cells.findByPixels(e.x, e.y, e.grid)[0], e.event = H.coords.insideEvent ? H.coords.insideEvent : null, e.eventOffset = null, e.event && (e.eventOffset = p(H.eventOffset, {}, ["x", "y"])), e }, this.Et = !0, this.gr = function (e) { if (!w.touch.active) { var t = DayPilot.mc(e); if (H.cn(e), e.insideMainD = !0, H.Et = !0, window.event && window.event.srcElement && (window.event.srcElement.inside = !0), H._m.tu) { var n = 2, a = DayPilot.distance(H._m.Xf, t); a > n && (p(H._m, i), s().style.cursor = "move", H._m = {}) } if (i._p && i.rq.calendar === H) i._p.event || (i._p.event = i.rq), H.Ru(); else if (i.Xp) { var r = i.Xp.calendar, o = r !== H; if (r && !r.dragOutAllowed && o) return; o && r && i.Xp.calendar.db(), i.Xp.part.external = o, H.Su() } else if (i.aq && i.aq.calendar === H) { H.Tu(); var l = i.aq, n = 2, a = DayPilot.distance(l.Pu, H.coords); (a > n || l.start.x !== l.end.x) && (l.moved = !0) } else if (T.source) { var d = T.source; N.Ej(d.coords, H.coords) } else i.Rm && (i.Rm.moved = !0, clearTimeout(K.Uu), K.Uu = setTimeout(function () { K.draw() }, 0)); "Disabled" !== H.crosshairType && H.Vu(), H.Wu(); var c = H.coords.insideEvent; if (H.cellBubble && H.coords && H.rowlist && H.rowlist.length > 0 && !c) { var u = H.Xm(H.coords.x).x, h = H.wo(H.coords.y, H.coords.grid).i; if (0 <= h && h < H.rowlist.length && 0 <= u && u < H.itline.length) { var f = {}; f.calendar = H, f.start = H.itline[u].start, f.end = H.itline[u].end, f.resource = H.rowlist[h].id, f.toJSON = function () { var e = {}; return e.start = this.start, e.end = this.end, e.resource = this.resource, e }; var v = H.coords.grid + "_" + u + "_" + h, m = H.wa.cells[v]; H.cellBubble.showCell(f, m) } } if (i.ar) { if (H.Nu(), i.Xu && s().removeChild(i.Xu), i.Xu = null, !i.Xq && H.coords && H.rowlist.length > 0) { if (!i.Xp) { i._m = i.ar.Yu || {}; var g = i.ar.Yu ? i.ar.Yu.event : null, y = g || i.ar.event; if (y) if (H !== y.calendar) { var r = y.calendar, b = y, x = p(y.data); y = new DayPilot.Event(x), y.calendar = r, y.part.duration = r.dq(b), y.part.external = !0 } else y.part.external = !1; else { var e = H.Zu(); y = new DayPilot.Event(e), y.calendar = H, y.calendar = null, y.part.duration = 1e3 * i.ar.duration, y.part.external = !0 } i._m.event || (i._m.event = y), i.Xp = y } i.Xq = H.Ib(i.Xp) } e.cancelBubble = !0 } if (i.Es) { var k = i.Xu; k.style.left = t.x + "px", k.style.top = t.y + "px" } var C = { x: H.coords.x, y: H.coords.y, "grid": H.coords.grid }; H.ag(C) } }, this.Zu = function () { var e, t = H.itline[0].start, n = i.ar._f; if (n) e = p(n, {}), e.start = t, e.end = t.addSeconds(i.ar.duration); else { e = { "id": i.ar.id, "start": t, "end": t.addSeconds(i.ar.duration), "text": i.ar.text }; var a = i.ar.$f; if (a) { var r = ["duration", "element", "remove", "id", "text"]; for (var o in a) k(r, o) || (e[o] = a[o]) } } return e }, this.ag = function (e) { var t = e.grid, n = !!(i._m || i._p || i.aq || i.Rm || T.source), a = "Always" === H.autoScroll, r = "Drag" === H.autoScroll && n, o = a || r, s = !H.autoScrollHorizontal, l = !H.autoScrollVertical || i._p || i.aq || "main" !== t; if (r && !H.autoScrollRectangleSelection && i.Rm && (o = !1), "Auto" !== H.cellWidthSpec || H.Bm || (s = !0), o) { var d = H.nav.scroll; e.x -= d.scrollLeft, e.x += R.km, e.y -= d.scrollTop; var c = d.clientWidth, u = d.clientHeight, h = 30, f = e.x < h ? e.x : 0, v = c - e.x < h ? c - e.x : 0, p = H.em.top.height, m = e.y - p, g = m < h && m > 0 ? m : 0, y = u - H.em.bottom.height - H.em.top.height, b = y - m < h ? u - e.y : 0, w = 0, x = 0, k = H.autoScrollSpeed; f && (w = -k * A(f, h)), v && (w = k * A(v, h)), g && (x = -k * A(g, h) / 2), b && (x = k * A(g, h) / 2), l && (x = 0), s && (w = 0), w || x ? (clearTimeout(H.$u), H.$u = setTimeout(function () { H.Pg(w, x) }, H.autoScrollDelay)) : H.fb() } }, this.Tu = function () { var e = i.aq, t = H.Xm(H.coords.x).x, n = H.getDate(H.coords.x, !0); if (H.Xn()) { var a = H.Ho(e.start.grid), r = a.rowlist, o = r[e.start.y], s = o.data.end, l = o.start.getTime() - H.Rb().getTime(); if (n.addTime(l) >= s) return } e.end = { x: t, "time": n }, H.Wn(e) }, this.Ru = function () { i.qq || (i.qq = H.Ib(i._p)), H.Zq() }, this.Su = function () { if (i.Xq && i.Xq.calendar !== H && i.Xq.calendar && (i.Xq.calendar.db(), i.Xq.calendar = null, C(i.Xq), i.Xq = null), !i.Xq) { u(i._m, H.da(Z.eventMovingSource)); var e = i.Xp; i.Xq = H.Ib(e) } H.mq(), H.oq() }, this._u = {}; var K = this._u; K.start = function () { var e = {}; e.start = H.coords, e.calendar = H, i.Rm = e }, K.draw = function () { var e = i.Rm; if (e) { var t = i.Rm.start, n = H.coords; K.clear(); var a, r, o, s, l, d, c, u, f = { "x": e.x, "y": e.y, "width": e.width, "height": e.height }; if (function () { l = Math.min(t.x, n.x), c = Math.max(t.x, n.x), "Free" === $.dn() ? (d = Math.min(t.y, n.y), u = Math.max(t.y, n.y)) : "Row" === $.dn() && (d = t.y, u = t.y) }(), "Free" === $.dn()) a = l, r = d, o = c - l, s = u - d; else { if ("Row" !== $.dn()) throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: " + H.rectangleSelectMode); var v = H.wo(d).i, p = H.rowlist[v]; r = p.top, s = p.height; if (H.snapToGrid && H.snapToGridRectangleSelecting) { a = H.Xm(l).cell.left; var m = H.Xm(c).cell; o = m.left + m.width - a } else a = l, o = c - l } var g = h(null, a, r, o, s); if (g.style.boxSizing = "border-box", g.className = H.da("_selectionrectangle"), e.av && (e.av.visible || (g.style.display = "none")), e.x = a, e.y = r, e.width = o, e.height = s, !(e.x === f.x && e.y === f.y && e.width === f.width && e.height === f.height || "function" != typeof H.onRectangleEventSelecting && "function" != typeof H.onRectangleSelecting)) { var y = H.wo(e.y).i, b = H.wo(e.y + e.height).i, w = { "start": { "y": y }, "end": { "y": b } }, x = H.ro(w), k = {}; k.events = M.om(e.x, e.y, e.width, e.height).map(function (e) { return e.event }), k.start = H.getDate(e.x, !0), k.end = H.getDate(e.x + e.width, !0), k.resources = x, k.visible = !0, "function" == typeof H.onRectangleEventSelecting && H.onRectangleEventSelecting(k), "function" == typeof H.onRectangleSelecting && H.onRectangleSelecting(k), e.av = k, g.style.display = k.visible ? "" : "none" } H.divRectangle.appendChild(g) } }, K.clear = function () { H.divRectangle.innerHTML = "", H.elements.rectangle = [] }, this.bv = function () { if (!H.coords) return null; if (!H.Mt()) return null; if (!H.itline || 0 === H.itline.length) return null; var e = H.Xm(H.coords.x).x, t = H.wo(H.coords.y, H.coords.grid).element; if (!t) return null; var n = t.index; return H.cells.findXy(e, n, H.coords.grid)[0] }, this.Wu = function () { var e = this.bv(); if (this.hover.cell) { if (this.hover.cell.x === e.x && this.hover.cell.y === e.y && this.hover.cell.grid === e.grid) return; this.Ft() } this.hover.cell = e; var t = {}; t.cell = e, "function" == typeof this.onCellMouseOver && this.onCellMouseOver(t), "function" == typeof this.onCellMouseEnter && this.onCellMouseEnter(t) }, this.Ft = function () { if (this.hover.cell) { var e = {}; e.cell = this.hover.cell, "function" == typeof this.onCellMouseOut && this.onCellMouseOut(e), "function" == typeof this.onCellMouseLeave && this.onCellMouseLeave(e), this.hover.cell = null } }, this.hover = {}, this.Vu = function () { var e = H.cv(); if (e) { var t = H.hover.crosshair; t && t.x === e.x && t.y === e.y && t.grid === e.grid && t.thX === e.thX || (H.hover.crosshair = e, this.Vf()) } }, this.cv = function () { if (!H.coords) return null; if (!H.Mt()) return null; if (!H.itline || 0 === H.itline.length) return null; var e = H.wo(H.coords.y, H.coords.grid).element; if (!e) return null; var t = e.index, n = null, i = H.Xm(H.coords.x); i && (n = i.x); var a = H.dv(), r = null, o = H.yq(a, H.coords.x); return o && (r = o.x), { "x": n, "thX": r, "y": t, "grid": H.coords.grid } }, this.Nu = function () { this.em.top.divCrosshair.innerHTML = "", this.em.main.divCrosshair.innerHTML = "", this.em.bottom.divCrosshair.innerHTML = "", this.ev = null, this.fv = null }, this.eb = function () { if (this.Nu(), H.hover.crosshair = null, this.gv && this.gv.parentNode && (this.gv.parentNode.removeChild(this.gv), this.gv = null), this.hv) { for (var e = 0; e < this.hv.length; e++) { var t = this.hv[e]; t.parentNode && t.parentNode.removeChild(t) } this.hv = null } this.vl = -1, this.ul = -1, this.iv = null }, this.dv = function () { var e = this.timeHeader ? this.timeHeader.length - 1 : 1; return "number" == typeof H.crosshairTimeHeaderLevel && H.crosshairTimeHeaderLevel < e && H.crosshairTimeHeaderLevel >= 0 && (e = H.crosshairTimeHeaderLevel), e }, this.Vf = function () { function e(e, t) { var n = H.em[e], i = n.height, a = t.left, r = H.ev[e]; if (!r) { var r = l(); r.style.height = i + "px", r.style.position = "absolute", r.style.top = "0px", r.style.pointerEvents = "none", r.className = H.da("_crosshair_vertical"), H.ev[e] = r, n.divCrosshair.appendChild(r) } r.style.left = a + "px", r.style.width = t.width + "px" } if (H.coords && H.Mt()) { var t = H.wo(H.coords.y, H.coords.grid).element; if (t) { var n = H.Xm(H.coords.x).x, i = t.index, a = t.grid, r = H.Ho(a), o = ["top", "main", "bottom"], s = this.crosshairType; if (this.ev || (this.ev = {}), "Full" === s) { var d = this.itline[n]; o.forEach(function (t) { e(t, d) }); var c = t.top, u = t.height, h = H.tm(), f = H.fv; if (f && f.parentNode && H.iv !== a && (f.parentNode.removeChild(f), f = null), !f) { var f = l(); f.style.width = h + "px", f.style.height = u + "px", f.style.position = "absolute", f.style.top = c + "px", f.style.left = "0px", f.style.pointerEvents = "none", f.className = H.da("_crosshair_horizontal"), H.fv = f, r.divCrosshair.appendChild(f) } f.style.top = c + "px", f.style.height = u + "px" } var v = H.dv(), p = H.yq(v, H.coords.x); if (p && H.vl !== p.x) { H.gv && this.gv.parentNode && (H.gv.parentNode.removeChild(H.gv), H.gv = null); var u = ee.Fq(v).height, f = l(); f.style.width = p.cell.width + "px", f.style.height = u + "px", f.style.left = "0px", f.style.top = "0px", f.style.position = "absolute", f.className = H.da("_crosshair_top"), H.gv = f; var m = this.divNorth, g = v; H.nav.timeHeader ? H.wa.timeHeader[p.x + "_" + g].appendChild(f) : m && m.firstChild.rows[g].cells[n] && m.firstChild.rows[g].cells[n].firstChild.appendChild(f) } if (H.ul !== i || H.iv !== a) { if (H.hv) { for (var y = 0; y < H.hv.length; y++) { var b = H.hv[y]; b.parentNode && b.parentNode.removeChild(b) } H.hv = null } this.rowHeaderCols ? this.rowHeaderCols.length : 1; if (H.hv = [], r.rowlist[i]) for (var y = 0; y < r.rowlist[i].cells.length; y++) { var w = r.rowlist[i].cells[y], x = w.refCell, u = t.height, k = i; x ? (u = x.row.split.totalHeight(), k = x.y) : w.rowspan > 1 && (u = w.totalHeight()); var C = r.divHeader.rows[k] && r.divHeader.rows[k].cells[y]; if (C) { var h = H.wm(), f = l(); f.style.width = h + "px", f.style.height = u + "px", f.style.left = "0px", f.style.top = "0px", f.style.position = "absolute", f.className = H.da("_crosshair_left"), H.hv.push(f), r.divHeader.rows[k].cells[y].firstChild.appendChild(f) } } } p && (H.vl = p.x), H.ul = i, H.iv = a } } }, this.yq = function (e, t) { var n = H.timeHeader[e]; if (!n) return null; for (var i = 0; i < n.length; i++) { var a = n[i]; if (t >= a.left && t < a.left + a.width) { var r = {}; return r.cell = a, r.x = i, r } } return null }, this.jv = function (e) { return H.yq(H.timeHeader.length - 1, e) }, this.Ht = function (e) { if (e.cancelBubble = !0, !H.allowDefaultContextMenu) return !1 }, this.Pc = function (e) { function t(t) { if (!t || !t.start || !t.end) return !1; t = t.zu ? t.zu : t; var n = t.start.grid, i = H.xp(t.start.y, t.start.grid), a = 0; "main" === n && (a = H.em.top.height); var r = t.start.time.getTime() < t.end.time.getTime(), o = r ? t.start.time : t.end.time, s = r ? t.end.time : t.start.time, l = H.getPixels(o).left, d = H.getPixels(s).left, c = i.top + a, u = i.bottom + a, h = e.x >= l && e.x <= d, f = e.y >= c && e.y <= u, v = e.grid === t.start.grid; return !!(h && f && v) && t } var n = H.Vn; return n ? t(n) : x(G.list).isEmpty() ? void 0 : G.list.find(function (e) { return t(e) }) }, this.Wn = function (e, t) { function n(e, t) { var n, i, a, r, u = e.end.time > e.start.time, h = e.start.y, f = e.start.time && e.end.time; if (s || !f) { var v = u ? e.start.x : e.end.x, p = u ? e.end.x : e.start.x, m = H.itline[v], g = H.itline[p]; n = m.left, i = g.left + g.width } else u ? (a = e.start.time, r = e.end.time) : (a = e.end.time, r = e.start.time), n = H.getPixels(a).left, i = H.getPixels(r).left; var y = i - n, b = H.elements.range2; if (!b) { b = l(), b.style.position = "absolute", b.setAttribute("unselectable", "on"); var w = l(); w.className = H.da("_shadow_inner"), o && (b.style.borderRadius = o, w.style.borderRadius = o), b.appendChild(w), d.divShadow.appendChild(b) } b.grid !== e.start.grid && (b.parentNode.removeChild(b), d.divShadow.appendChild(b)); var x = c[h]; return b.className = H.da("_shadow"), b.firstChild.innerHTML = "", b.style.left = n + "px", b.style.top = x.top + "px", b.style.width = y + "px", b.style.height = x.height - 1 + "px", b.calendar = H, b.grid = e.start.grid, b.row = x, H.elements.range2 = b, function () { b.overlapping = !1; var i = c[h]; H.Rq(b, i, n, y, null); var a = u ? e.start.time : e.end.time, r = u ? e.end.time : e.start.time; t.ignoreDisabledCells || H.Sq(b, a, r, i.id) }(), b } var e = e || i.aq; if (e && e.calendar === H) { i.Bp && i.Bp.blur(), t = t || {}; var a = t.justDraw, r = e.forceSnap, o = H.eventBorderRadius; "number" == typeof o && (o += "px"); var s = H.snapToGrid && H.snapToGridTimeRangeSelecting; r && (s = !0); var d = H.Ho(e.start.grid), c = d.rowlist; !function () { var t = e.end.time >= e.start.time, i = t ? e.start.x : e.end.x, r = t ? e.end.x : e.start.x, o = e.start.y, l = c[o]; if (l && !l.hidden) { var d = H.itline[i], h = H.itline[r], f = H.kv, v = d.start.addTime(l.data.offset), p = h.end.addTime(l.data.offset); if (s || (t ? (v = e.start.time, p = e.end.time) : (v = e.end.time, p = e.start.time)), a || !f || f.start.getTime() !== v.getTime() || f.rawend.getTime() !== p.getTime() || f.resource !== c[o].id) { var m = { "start": v, "end": H.Xj(p), "rawend": p, "resource": c[o].id }, g = {}; g.anchor = t ? m.start : m.end, g.start = m.start, g.end = m.end, g.duration = new DayPilot.Duration(v, p), g.resource = c[o].id, g.row = H._n(l), g.allowed = !0, g.control = H, g.ignoreDisabledCells = !1, g.left = {}, g.left.html = g.start.toString(H.timeRangeSelectingStartEndFormat, $.Tc()), g.left.enabled = H.timeRangeSelectingStartEndEnabled, g.left.space = 5, g.left.width = null, g.left.height = H.eventHeight, g.right = {}, g.right.html = g.end.toString(H.timeRangeSelectingStartEndFormat, $.Tc()), g.right.enabled = H.timeRangeSelectingStartEndEnabled, g.right.space = 5, g.right.width = null, g.right.height = H.eventHeight, g.overlapping = g.row.events.forRange(v, p).length > 0, g.html = null, g.cssClass = null, g.button = H.Ou, H.kv = m, "function" != typeof H.onTimeRangeSelecting || a || (H.onTimeRangeSelecting(g), g.resource = m.resource), g.end = H.Aj(g.end), e.args = g; var y = H.lv(e); H.Un(y, g.start, g.end); var b = n(y, g); g.html && (b.firstChild.innerHTML = g.html), g.cssClass && u(b, g.cssClass), H.br(b, g), e.zu = y, e.disabled = !g.allowed, H.cr(b, g) } } }() } }, this.lv = function (e) { return { "start": { "x": e.start.x, "y": e.start.y, "time": e.start.time, "grid": e.start.grid }, "end": { "x": e.end.x, "time": e.end.time }, "disabled": e.disabled, "calendar": e.calendar, "args": e.args, "forceSnap": e.forceSnap } }, this.range = {}, this.range.all = function () { return H.multirange.get() }, this.multirange = {}, this.multirange.get = function () { return G.get(!0) }, this.multirange.add = function (e) { if (!e) throw new DayPilot.Exception("Range not specified"); if (!e.start || !e.end || !e.resource) throw new DayPilot.Exception("Invalid range specified"); if (x(G.list).isEmpty()) { var t = H.Tn(); if (t) { var n = H.mv(t.start, t.end, t.resource); H.xu.add(n) } } var n = H.mv(e.start, e.end, e.resource); H.Wn(n), H.xu.add(n) }, this.multirange.clear = function () { G.clear(), H.clearSelection(), H.kv = null }, this.xu = {}; var G = this.xu; this.xu.list = [], this.xu.drawLaterTimeout = null, this.xu.drawLater = function () { clearTimeout(H.xu.drawLaterTimeout), H.xu.drawLaterTimeout = setTimeout(function () { G._o() }, 0) }, this.xu._o = function () { C(x(G.list).map(function (e) { return e.div })), G.list.forEach(function (e) { H.elements.range2 = null, H.Wn(e, { "justDraw": !0 }) }) }, this.xu.clear = function () { C(x(G.list).map(function (e) { return e.div })), G.list = [] }, this.xu.add = function (e) { e.div = H.elements.range2, H.elements.range2 = null, H.fr(), G.list.push(e) }, this.xu.get = function (e) { var t = x(G.list).map(function (e) { return H.Tn(e) }); if (e && t.isEmpty()) { var n = H.Tn(); n && t.push(n) } return t }, this.xu.dispatch = function () { if (H.allowMultiRange && !i.aq) { var e = x(G.list).last(); H.Sn(e) } }, this.nv = function (e) { if ("Disabled" === H.timeRangeSelectedHandling) return !1; if (!w.touch.active && !w.touch.start) { var t = b(e); if (!i.aq && !i.Rm && !(H.Vn && H.Pc(H.coords) && (t.right || t.middle) || H.Ko(H.wo(H.coords.y).i))) { var n = {}, a = H.Xm(H.coords.x).x; n.start = { y: H.wo(H.coords.y).i, x: a, "grid": H.coords.grid }, n.end = { x: a }, n.calendar = H, H.Vn = n, H.Sn(n, "click") } } }, this.an = {}, this.an.Cb = null, this.an.drawCells = null, this.an.drawRows = null, this.an.click = null, this.an.resClick = [], this.an.updateFloats = null, this.Xl = function (e, t) { if (!H.Ba) { t = t || {}, "undefined" == typeof DayPilot.Bubble || t.dontHideBubble || DayPilot.Bubble.hideActive(), H.Ga(); var n = H.nav.scroll; if (H.xq = n.scrollLeft, H.vq = n.scrollTop, H.Ut = n.clientWidth, H.divTimeScroll && (H.divTimeScroll.scrollLeft = H.xq), H.em.top.enabled() && (H.em.top.div.scrollLeft = H.xq), H.em.bottom.enabled() && (H.em.bottom.div.scrollLeft = H.xq), DayPilot.browser.ios && i.ut ? a() : H.divResScroll.scrollTop = H.vq, R.Pm() && H.Aa && "Auto" != H.cellWidthSpec && !H.bm) if (R.t) a(); else { if (H.nav.scroll.scrollLeft < H.infiniteScrollingMargin) return R.t = !0, H.nav.scroll.style.overflowX = "hidden", void setTimeout(function () { R.Jm(-H.infiniteScrollingStepDays) }, 100); if (H.nav.scroll.scrollWidth - (H.nav.scroll.scrollLeft + H.nav.scroll.clientWidth) < H.infiniteScrollingMargin) return R.t = !0, H.nav.scroll.style.overflowX = "hidden", void setTimeout(function () { R.Jm(H.infiniteScrollingStepDays) }, 100) } if (H.navigatorBackSync && !function () { var e = DayPilot.Util.evalVariable(H.navigatorBackSync), t = H.getViewPort().start; e.select(t, { "dontNotify": !0, "dontFocus": !0 }) }(), H.progressiveRowRendering && (H.an.drawRows && (clearTimeout(H.an.drawRows), H.an.drawRows = null), H.scrollDelayRows > 0 ? H.an.drawRows = setTimeout(function () { H.tn() }, H.scrollDelayRows) : H.tn()), H.an.drawCells && (clearTimeout(H.an.drawCells), H.an.drawCells = null), H.scrollDelayCells > 0) H.an.drawCells = setTimeout(H.ov(), H.scrollDelayCells); else { H.ov()() } if (H.dynamicLoading) return H.sk(), void H.pv(); H.an.Cb && (clearTimeout(H.an.Cb), H.an.Cb = null), H.scrollDelayEvents > 0 ? H.an.Cb = setTimeout(H.qv(), H.scrollDelayEvents) : H.Cb(), H.an.updateFloats && (clearTimeout(H.an.updateFloats), H.an.updateFloats = null), H.scrollDelayFloats > 0 ? H.an.updateFloats = setTimeout(function () { H.Vl() }, H.scrollDelayFloats) : H.Vl(), H.onScrollCalled = !0 } }, this.ov = function () { return function () { H && (H.sk(), H.Rl()) } }, this.qv = function () { return function () { H && (H.eu() ? window.setTimeout(function () { H.bu(), window.setTimeout(function () { H.Cb(!0) }, 50) }, 50) : H.mm()) } }, this.Tt = function (e) { if (H.dynamicLoading && "function" == typeof H.onScrollEnd && !H.Ba) { var t = function (e) { var t = function () { if (H.Hb() && "function" == typeof H.onAfterRender) { var e = {}; e.isCallBack = !1, e.isScroll = !0, e.data = null, H.onAfterRender(e) } }; H.Tl(e.events, t, e) }, n = {}; n.viewport = H.getViewPort(), n.async = !0, n.events = [], n.remove = [], n.clearEvents = !0, n.dontForceCellRendering = !1, n.loaded = function () { this.async && t(n) }, H.onScrollEnd(n), n.async || t(n) } }, this.Ga = function () { H.wa.eventHeight = null, H.wa.drawArea = null }, this.show = function () { H.visible = !0, H.yl = !0, H.nav.top.style.display = "", H.E(), H.Eb(), H.Kp(), H.Xl() }, this.hide = function () { H.visible = !1, H.yl = !1, H.nav.top.style.display = "none" }, this.pv = function () { var e = H.nav.scroll; H.xq = e.scrollLeft, H.vq = e.scrollTop, H.Ut = e.clientWidth, H.divTimeScroll.scrollLeft = H.xq, H.divResScroll.scrollTop = H.vq, H.refreshTimeout && window.clearTimeout(H.refreshTimeout); var t = H.scrollDelayDynamic; H.rv || (H.refreshTimeout = window.setTimeout(H.sv(e.scrollLeft, e.scrollTop), t)), H.Vl() }, this.ml = function (e) { if (!H.events.list) return null; for (var t = 0; t < this.events.list.length; t++) { var n = this.events.list[t]; if (H.Gd(n, e)) { var i = {}; return i.ex = n, i.index = t, i.modified = !H.nl(e, n), i } } return null }, this.nl = function (e, t) { for (var n in e) if (("object" != typeof e[n] || e[n] instanceof DayPilot.Date) && e[n] !== t[n]) return !1; for (var n in t) if ("object" != typeof t[n] && e[n] !== t[n]) return !1; return !0 }, this.rv = !1, this.Tl = function (e, t, n) { H.rv = !0; var i = n && n.clearEvents, a = n && n.remove, r = n && n.dontForceCellRendering, o = []; if (H.events.list || (H.events.list = []), i) H.qb(e), N.Hl(); else { var s = []; x(a).forEach(function (e) { var t = x(H.events.list).find(function (t) { return t.id === e }); t && s.push(t) }), s.forEach(function (e) { var t = H.events.hn(e); o = o.concat(t), DayPilot.rfa(H.events.list, e) }); for (var l = [], d = 0; d < e.length; d++) { var c = e[d]; l[d] = H.ml(c) } for (var d = 0; d < e.length; d++) { var c = e[d], u = l[d], h = u && u.modified, f = !u; if (h) { this.events.list[u.index] = c; var v = H.events.hn(u.ex); o = o.concat(v) } else f && this.events.list.push(c); (h || f) && (o = o.concat(H.events.in(c))) } H.jn(o), H.kn() } H.Ml(), H.yb(); if (i || r) { H.Va(); var p = H.Mn || !H.beforeCellRenderCaching; p && H.Ol(), H.Nl(), p ? H.Rl() : H.Kp(), H.Cb(), t && t() } else H.ln(o, !1, function () { t && t(), H.bu(), H.Cb() }), H.Kp(); setTimeout(function () { H.rv = !1 }, 0) }, this.sv = function (e, t) { return H.ka() ? function () { H.scrollX = e, H.scrollY = t, H.Ma("Scroll") } : function () { if ("function" == typeof H.onScroll) { var e = function (e) { var t = function () { if (H.Hb() && "function" == typeof H.onAfterRender) { var e = {}; e.isCallBack = !1, e.isScroll = !0, e.data = null, H.onAfterRender(e) } }; H.Tl(e.events, t, e) }, t = {}; t.viewport = H.getViewPort(), t.async = !0, t.events = [], t.remove = [], t.clearEvents = !0, t.dontForceCellRendering = !1, t.loaded = function () { this.async && e(t) }, H.onScroll(t), t.async || e(t) } } }, this.tv = function () { var e = this.rd(), t = e.xStart, n = e.xEnd - e.xStart, i = e.yStart, a = e.yEnd - e.yStart; this.cellProperties || (this.cellProperties = {}); for (var r = H.em.top, o = H.em.bottom, s = 0; s <= n; s++) { for (var l = t + s, d = 0; d < a; d++) { var c = i + d; this.rowlist[c].hidden || this.Ye(l, c) } if (this.uv(l), r.enabled()) { for (var c = 0; c < r.rowlist.length; c++)this.Ye(l, c, "top"); this.uv(l, "top") } if (o.enabled()) { for (var c = 0; c < o.rowlist.length; c++)this.Ye(l, c, "bottom"); this.uv(l, "bottom") } } for (var u = this.kr(), c = u.start; c < u.end; c++)this.rowlist[c].hidden || this.vv(c); if (r.enabled()) for (var c = 0; c < r.rowlist.length; c++)r.rowlist[c].hidden || this.vv(c, "top"); if (o.enabled()) for (var c = 0; c < o.rowlist.length; c++)o.rowlist[c].hidden || this.vv(c, "bottom") }, this.Rl = function () { if (!H.Ba) { var e = H.Nm(); if (e && e.length > 0) { if (this.cellSweeping) { var t = this.cellSweepingCacheSize; this.du(t) } Q.Cp(), this.tv(), this.wv(), Q.lo({ "dontFocus": !0 }) } this.Mn = !1 } }, this.wv = function () { for (var e = this.rd(), t = H.em.top, n = H.em.bottom, i = e.xStart; i < e.xEnd; i++) { i < this.itline.length - 1 && this.itline[i + 1].breakBefore && (this.xv(i), t.enabled() && this.xv(i, "top"), n.enabled() && this.xv(i, "bottom")) } }, this.xv = function (e, t) { t = t || "main"; var n = H.em[t], i = n.divBreaks, a = "main" === t, r = a ? H.wl : n.height, o = t + "_x_" + e; if (!this.wa.breaks[o]) { var s = {}; if ("function" == typeof H.onBeforeGridLineRender) { var d = H.itline[e], c = H.itline[e + 1]; if (s.start = d && d.end, s.end = c && c.start, s.hidden = !1, s.cssClass = null, s.type = "VerticalBreak", s.grid = t, s.color = null, H.onBeforeGridLineRender(s), s.hidden) return } var u = H.itline[e + 1].left - 1, h = l(); h.style.left = u + "px", h.style.top = "0px", h.style.width = "1px", h.style.height = r + "px", h.style.fontSize = "1px", h.style.lineHeight = "1px", h.style.overflow = "hidden", h.style.position = "absolute", h.setAttribute("unselectable", "on"), h.className = this.da("_matrix_vertical_break"), s.cssClass && (h.className += " " + s.cssClass), s.color && (h.style.backgroundColor = s.color), i.appendChild(h), this.elements.breaks.push(h), this.wa.breaks[o] = h } }, this.rd = function () { if (H.wa.drawArea) return H.wa.drawArea; if (!this.nav.scroll) return null; var e = H.vq, t = {}, n = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin, i = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin, a = H.xq - n - R.km, r = a + H.Ut + 2 * n, o = 0, s = 0; if (H.itline && H.itline.length > 0) { o = H.Xm(a).x, s = H.Xm(r, !0).x; var l = this.wq(); s = Math.min(s, l), o = f(o, 0) } var d = e - i, c = e + this.nav.scroll.offsetHeight + 2 * i, u = this.wo(d).i, h = this.wo(c).i; h < this.rowlist.length && h++, t.xStart = o, t.xEnd = s, t.yStart = u, t.yEnd = h; var v = H.nav.scroll; return 0 === v.clientWidth && (v = H.divTimeScroll), t.pixels = {}, t.pixels.left = v.scrollLeft - R.km, t.pixels.right = v.scrollLeft - R.km + v.clientWidth, t.pixels.top = v.scrollTop, t.pixels.bottom = v.scrollTop + v.clientHeight, t.pixels.width = v.scrollWidth, t.sw = DayPilot.sw(H.nav.scroll), H.wa.drawArea = t, t }, this.tm = function () { var e = 0, t = this.itline[this.itline.length - 1]; return e = t ? t.left + t.width : 0, (e < 0 || isNaN(e)) && (e = 0), e }, this.vv = function (e, t) { t = t || "main"; var n = H.em[t], i = n.rowlist, a = n.divLines, r = t + "_y_" + e; if (!this.wa.Al[r]) { var o = i[e], s = {}; if ("function" != typeof H.onBeforeGridLineRender || (s.row = H._n(o), s.hidden = !1, s.cssClass = null, s.type = "HorizontalLine", s.color = null, H.onBeforeGridLineRender(s), !s.hidden)) { var d = "number" == typeof o.forcedHeight ? o.forcedHeight : o.height, c = o.top + d - 1, u = this.tm(), h = l(), f = h.style; f.left = "0px", f.top = c + "px", f.width = u + "px", f.height = "1px", f.fontSize = "1px", f.lineHeight = "1px", f.overflow = "hidden", f.position = "absolute", h.setAttribute("unselectable", "on"), h.className = this.da("_matrix_horizontal_line"), s.cssClass && (h.className += " " + s.cssClass), s.color && (f.backgroundColor = s.color), a.appendChild(h), this.wa.Al[r] = h } } }, this.uv = function (e, t) { var n = this.itline[e]; if (n) { t = t || "main"; var i = H.em[t], a = i.divLines, r = "main" === t, o = r ? H.wl : i.height, s = t + "_x_" + e; if (!this.wa.zl[s]) { var d = {}; if ("function" != typeof H.onBeforeGridLineRender || (d.start = n.start, d.end = n.end, d.hidden = !1, d.cssClass = null, d.type = "VerticalLine", d.color = null, H.onBeforeGridLineRender(d), !d.hidden)) { var c = n.left + n.width - 1, u = l(), h = u.style; h.left = c + "px", h.top = "0px", h.width = "1px", h.height = o + "px", h.fontSize = "1px", h.lineHeight = "1px", h.overflow = "hidden", h.position = "absolute", u.setAttribute("unselectable", "on"), u.className = this.da("_matrix_vertical_line"), d.cssClass && (u.className += " " + d.cssClass), d.color && (h.backgroundColor = d.color), a.appendChild(u), this.elements.linesVertical.push(u), this.wa.zl[s] = u } } } }, this.nq = function (e, t) { function n() { var t = H.yv(e, i.expanded, !1); if (!a) for (var n = 0; n < t.length; n++) { var r = t[n]; H.Nn(r) } H.Gl(), H.Sr(), H.yb(), H.sk(); var o = H._n(i, e); a ? H.ko(o) : H.jo(o) } H._l.Pp && (H._l.skip = !0); var i = this.rowlist[e], a = !i.expanded; if (i.expanded = a, i.resource && (i.resource.expanded = a), t = t || {}, H.Gl({ "includeHidden": !0 }), H.treeAnimation && !t.notAnimated) { var r = this.yv(e, i.expanded, !0); H.Rr(r, a ? "show" : "hide", function () { n() }) } else n() }, this.Sr = function () { H.Ml(), H.Il(), H.Jl(), H.yb(), H.Ga(), H.Pn(), N.pn(), H.Ol(), H.Rl(), H.tn(), H.Cb(), H.Ga() }, this.Kr = function (e) { var t = {}; if (t.index = e, "function" == typeof this.onLoadNode) { var n = {}, i = this.rowlist[e].resource; n.resource = i, n.async = !1, n.loaded = function () { this.async && (i.dynamicChildren = !1, i.expanded = !0, H.update()) }, this.onLoadNode(n), n.async || (i.dynamicChildren = !1, i.expanded = !0, this.update()) } else this.Ma("LoadNode", t) }, this.yv = function (e, t, n) { var i = this.rowlist[e], a = []; if (null === i.children || 0 === i.children.length) return a; for (var r = 0; r < i.children.length; r++) { var o = i.children[r], s = this.rowlist[o], l = t && i.expanded && !s.at; t && s.hidden && (s.forcedHeight = 0), n && !t || (s.hidden = !l), n || delete s.forcedHeight, t === l && a.push(o); var d = this.yv(o, t && !s.hidden); d.length > 0 && (a = a.concat(d)) } return a }, this.Pg = function (e, t) { this.fb(), this.Qg(e, t) }, this.Rg = function (e) { if (!e) return !1; var t = this.nav.scroll, n = t.scrollWidth, i = t.scrollLeft, a = t.clientWidth, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollLeft += e, H.coords.x += e, H.Sg(), !0)) }, this.Tg = function (e) { if (!e) return !1; var t = this.nav.scroll, n = t.scrollHeight, i = t.scrollTop, a = t.clientHeight, r = i + a; return !(e < 0 && i <= 0) && (!(e > 0 && r >= n) && (t.scrollTop += e, H.coords.y += e, H.Sg(), !0)) }, this.Sg = function () { i._p && i._p.event.calendar === H ? H.Ru() : i._m && (i.Xp.calendar === H || i.Xp.calendar && i.Xp.calendar.dragOutAllowed) ? (i._m.event || (i._m.event = i.Xp), H.Su()) : i.aq && i.aq.calendar === H ? H.Tu() : i.Rm && K.draw() }, this.Qg = function (e, t) { if (!H.Cu) { if (!(this.Rg(e) || this.Tg(t))) return } var n = function (e, t) { return function () { H.Qg(e, t) } }; clearTimeout(H.Ug), H.Ug = setTimeout(n(e, t), 100) }, this.fb = function () { clearTimeout(H.Ug), clearTimeout(H.$u) }, this.Ml = function () { H.em.top.enabled() && (H.em.top.height = H.zv(H.em.top.rowlist, 0)), H.em.bottom.enabled() && (H.em.bottom.height = H.zv(H.em.bottom.rowlist, 0)), H.wl = H.zv(H.rowlist, H.em.top.height) }, this.zv = function (e, t) { for (var n = 0, i = t || 0, t = t || 0, a = 0; a < e.length; a++) { var r = e[a]; r.hidden || (r.top = t, r.displayY = n, t += "number" == typeof r.forcedHeight ? r.forcedHeight : r.height, n += 1), r.absTop = i, i += r.height } return t }, this.Ol = function () {
                "function" == typeof H.onBeforeCellDomAdd && H.Av(), H.elements.cells = [], H.elements.breaks = [], H.wa.cells = [], H.wa.breaks = [],
                H.divBreaks.innerHTML = "", H.em.top.divBreaks.innerHTML = "", H.em.bottom.divBreaks.innerHTML = "", H.divCells.innerHTML = "", H.em.top.divCells.innerHTML = "", H.em.bottom.divCells.innerHTML = "", H.wr()
            }, this.wr = function () { H.divLines.innerHTML = "", H.em.top.divLines.innerHTML = "", H.em.bottom.divLines.innerHTML = "", H.wa.zl = {}, H.wa.Al = {}, H.elements.linesVertical = [] }, this.Av = function (e) { var t = x(); for (var n in H.wa.cells) t.push(H.wa.cells[n]); t.forEach(function (e) { H.If(e) }) }, this.Qn = function (e, t) { t = t || "main"; var n = x(); for (var i in H.wa.cells) n.push(H.wa.cells[i]); n.filter(function (n) { return n && n.coords && n.coords.y === e && n.coords.grid === t }).forEach(function (e) { H.If(e) }) }, this.Bv = 0, this.Cv = x(["html", "cssClass", "backColor", "backImage", "backRepeat", "areas", "disabled", "fontColor", "text", "verticalAlignment", "horizontalAlignment"]), this.Dv = H.Cv.add("business"), this.Ye = function (e, t, n) { if (this.Aa) { var i = H.bn(e); if (i) { n = n || "main"; var a = this.em[n], r = a.rowlist, o = a.divCells, s = "main" === n, d = n + "_" + e + "_" + t; if (!this.wa.cells[d]) { var c = this.Sp(e, t, n); if (H.Dq(e, t, n), !this.drawBlankCells) { var h = !1; if (s && this.jq(t) ? h = !1 : this.Ev(c, H.Cv) || (h = !0), h) return } var f = l(); f.style.left = i.left + "px", f.style.top = r[t].top + "px", f.style.width = i.width + "px", f.style.height = r[t].height + "px", f.style.position = "absolute", f.setAttribute("unselectable", "on"), f.className = this.da("_cell"), f.coords = {}, f.coords.x = e, f.coords.y = t, f.coords.grid = n, s && H.jq(t) && u(f, this.da("_cellparent")), W.wa[n + "_" + t] && u(f, this.da("_cell_selected")); var v = H.cells.findXy(e, t, n)[0]; if (c) { if (c.cssClass && u(f, c.cssClass), f.innerHTML = H.Ha(c.text, c.html), c.backImage && (f.style.backgroundImage = 'url("' + c.backImage + '")'), c.backRepeat && (f.style.backgroundRepeat = c.backRepeat), c.business && H.cellsMarkBusiness && u(f, H.da("_cell_business")), c.disabled && u(f, H.da("_cell_disabled")), c.backColor && (f.style.backgroundColor = c.backColor), c.fontColor && (f.style.color = c.fontColor), c.horizontalAlignment || c.verticalAlignment) { switch (f.style.display = "flex", c.horizontalAlignment) { case "right": f.style.justifyContent = "flex-end"; break; case "left": f.style.justifyContent = "flex-start"; break; case "center": f.style.justifyContent = "center" }switch (c.verticalAlignment) { case "center": f.style.alignItems = "center"; break; case "top": f.style.alignItems = "flex-start"; break; case "bottom": f.style.alignItems = "flex-end" } } var b = DayPilot.Areas.resolvePosition(c.areas, H, i.left, i.width); DayPilot.Areas.attach(f, v, { "areas": b }) } if (function () { if ("function" == typeof H.onBeforeCellDomAdd || "function" == typeof H.onBeforeCellDomRemove) { var e = {}; if (e.control = H, e.cell = v, e.element = null, f.domArgs = e, "function" == typeof H.onBeforeCellDomAdd && H.onBeforeCellDomAdd(e), e.element) { var t = f; if (t) { e.Ie = t; var n = m(e.element), i = g(e.element), a = y(e.element); if (n) { if (!H.X.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM"); H.X.W(e.element, t) } else if (i) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z._(e.element, t, e.props), H.Z.Le = !1 } else if (a) { if (!H.Z.Ke) throw new DayPilot.Exception("Can't reach Vue"); H.Z.Le = !0, H.Z.Me(e.element, t), H.Z.Le = !1 } else t.appendChild(e.element) } } } }(), o.appendChild(f), this.elements.cells.push(f), this.wa.cells[d] = f, "function" == typeof H.onAfterCellRender) { var w = {}; w.cell = p(v, {}, ["x", "y", "displayY", "start", "end", "resource", "grid"]), w.div = f, H.onAfterCellRender(w) } } } } }, this.Qm = {}, this.Kp = function () { H.zs(), H.Fv().forEach(function (e) { H.Qn(e.y, e.grid) }), H.Rl() }, this.zs = function () { function e(e) { H.em[e].rowlist.forEach(function (t, n) { t.isNewRow || t.resource.cellsAutoUpdated && H.itline.forEach(function (t, i) { var a = e + "_" + i + "_" + n; delete H.Qm[a] }) }) } e("main"), e("top"), e("bottom") }, this.Fv = function () { function e(e, n, r) { for (var o = 0; o < r; o++)for (var s = n + o, l = H.em[e].rowlist[s], d = 0; d <= a; d++) { var c = i + d; if (!l.hidden && !H.Qm[e + "_" + c + "_" + s]) { t.push({ "grid": e, "y": s }); break } } } var t = x(), n = this.rd(), i = n.xStart, a = n.xEnd - n.xStart; return e("main", n.yStart, n.yEnd - n.yStart), e("top", 0, H.em.top.rowlist.length), e("bottom", 0, H.em.bottom.rowlist.length), t }, this.Dq = function (e, t, n) { if ("function" == typeof this.onBeforeCellRender) { n = n || "main"; var i = n + "_" + e + "_" + t; if (H.beforeCellRenderCaching && H.Qm[i]) return; H.Qm[i] = !0; var a = H.bn(e); if (!a) return; var r = H.cells.findXy(e, t, n)[0], o = {}; return o.cell = r, o.control = H, o.getPixels = function (e) { var e = new DayPilot.Date(e); return H.getPixels(e).left - a.left }, this.onBeforeCellRender(o), p(o.cell, o.cell.properties, H.Dv), o.cell.properties.disabled && (H.Qm.er = !0), o } }, this.Ev = function (e, t) { if (t) { for (var n = 0; n < t.length; n++)if (!v(e[t[n]])) return !0 } else for (var i in e) if (!v(e[i])) return !0; return !1 }, this.clearSelection = function () { this.Ul(), G.clear() }, this.cleanSelection = this.clearSelection, this.mv = function (e, t, n) { e = new DayPilot.Date(e), t = new DayPilot.Date(t); var i = H.hm(n), a = H.Zm(e), r = a.current || a.next; if (!r) throw new DayPilot.Exception("Time range selection 'start' out of timeline"); var o = H.Zm(new DayPilot.Date(t).addMilliseconds(-1)), s = o.current || o.previous; if (!s) throw new DayPilot.Exception("Time range selection 'end' out of timeline"); var l = {}; return l.start = { y: i.index, x: _(H.itline, r), "time": e, "grid": i.grid }, l.end = { x: _(H.itline, s), "time": t }, l.calendar = this, l }, this.selectTimeRange = function (e, t, n, i) { var a = H.mv(e, t, n); H.Wn(a), i || setTimeout(function () { H.Sn(a, "api") }, 0) }, this.yc = function () { var e = i.Xq && i.Xq.source; e && c(e, H.da(H.yu.eventMovingSource)), C(i.Xq), i.Xq = null, H.fr(), H.Uq.clear(), O.Hl() }, this.Ul = function () { var e = H.elements.range2; e && e.remove(), H.elements.range = [], H.elements.range2 = null, H.fr(), H.Vn = null, H.kv = null }; var Q = {}; Q.$k = null, Q.Dp = !1, Q.Gv = function (e) { if (!e) return null; var t = {}; if ("event" === e.type) t.e = e.event; else if ("cell" === e.type) { var n = Q.Hv(e.x, e.y); t.cell = {}, t.cell.start = n.thc.start, t.cell.end = n.thc.end, t.cell.resource = n.row.id } return t }, Q.lo = function (e) { if (!i.Bp && !Q.Dp) { e = e || {}; var t = e.dontFocus, n = Q.$k; if (n) { var a = n.x, r = n.y; if ("cell" === n.type) { var o = Q.Hv(a, r), s = o.row, l = Q.Iv(a, r); l && u(l, H.da("_cell_focus")), "top" === n.line && s.marginTop && u(l, H.da("_cell_focus_top")), "bottom" === n.line && s.marginBottom && u(l, H.da("_cell_focus_bottom")) } else { var l = H.kh(n.event); l && u(l, H.da("_event_focus")) } if (!t) { var d = H.xo(); if (d.start.x >= a) { var c = H.itline[a].start; H.scrollTo(c) } else if (d.end.x <= a) { var h = H.itline[a].end; H.scrollTo(h, !1, "right") } if (d.start.y >= r) H.nav.scroll.scrollTop = H.rowlist[r].top - H.em.top.height; else if (d.end.y <= r) { var s = H.rowlist[r], f = s.top + s.height; H.nav.scroll.scrollTop = f - H.nav.scroll.clientHeight + H.em.bottom.height } } } } }, Q.Cp = function () { var e = Q.$k; if (e) if ("cell" === e.type) { var t = Q.Iv(Q.$k.x, Q.$k.y); t && (c(t, H.da("_cell_focus")), c(t, H.da("_cell_focus_top")), c(t, H.da("_cell_focus_bottom"))) } else { var t = H.kh(e.event); t && c(t, H.da("_event_focus")) } }, Q.Hv = function (e, t) { var n = {}, i = H.rowlist[t], a = H.itline[e], r = [], o = i.lines.map(function (e) { var t = e.filter(function (e) { return d(e.part.start, e.part.end, a.start, a.end) }); return r = r.concat(t), t }); return n.lines = o, n.thc = a, n.row = i, n.events = r, n }, Q.Hn = function () { var e = Q.$k; e && (Q.Cp(), Q.$k = Q.Jv(e.x, e.y, e.pixels, e.line), Q.lo({ "dontFocus": !0 })) }, Q.Jv = function (e, t, n, i) { var a = {}; n = n || H.itline[e].left, i = v(i) ? "top" : i; var r = Q.Hv(e, t), o = r.lines, s = r.row, l = r.events, c = s.marginTop || s.marginBottom, u = !1, h = l.length > 0, f = i, p = null, m = null; if (h) if (s.marginTop && "top" === i) u = !0, f = "top"; else if (s.marginBottom && "bottom" === i) u = !0, f = "bottom"; else { if ("top" === i) if (s.marginBottom) { var g = r.lines.find(function (e) { return e.find(function (e) { return e.part.left <= n && n <= e.part.right }) }); if (g) f = r.lines.indexOf(g); else { var y = r.lines.find(function (e) { return e.find(function (e) { return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right) }) }); y ? (f = r.lines.indexOf(y), m = y[0]) : f = "bottom" } } else f = s.marginTop ? "top" : 0; else if ("bottom" === i) if (c) { var g = r.lines.slice().reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n && n <= e.part.right }) }); f = r.lines.indexOf(g), f === -1 && (f = Q.Kv(i, s)) } else f = o.length - 1; else f = i; var b = o[f]; m || (m = b && b.find(function (e) { return e.part.left <= n && n <= e.part.right })), m || (u = !0, f = Q.Kv(f, s)), p = m } else u = !0, f = c ? Q.Kv(i, s) : 0; return a.x = e, a.y = t, u ? (a.type = "cell", a.pixels = n, a.line = f, a) : (a.type = "event", a.event = p, a.pixels = p.part.left, a.x = H.Xm(p.part.left).x, a.line = f, a) }, Q.Lv = function (e) { var t = {}, n = Q.$k, i = H.rowlist[n.y], a = i.lines[n.line], r = Q.Hv(n.x, n.y), o = i.marginTop || i.marginBottom; if ("right" === e) { if ("event" === n.type) { var s = n.event.part.end, l = n.event.part.right, c = H.Zm(s), u = c.i, h = c.current.left + c.current.width, f = a.indexOf(n.event) + 1, v = a[f], p = r.lines[n.line], m = p[p.indexOf(n.event) + 1]; if (v && v.part.left === l) return t.x = u, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = v.part.left, t.event = v, t; if (m && o) return t.x = u, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = m.part.left, t.event = m, t; if (h === l) { var g = Q.Mv(u); return g === u ? n : (t.x = u + 1, t.y = n.y, t.type = "cell", t.pixels = H.itline[t.x].left, t.line = 0, i.marginTop ? t.line = "top" : i.marginBottom && (t.line = "bottom"), t) } return t.x = u, t.y = n.y, t.type = "cell", t.line = n.line, t.pixels = n.event.part.right, o && (t.line = Q.Kv(n.line, i)), t } var r = Q.Hv(n.x, n.y), a = r.lines[n.line], v = a && a.find(function (e) { return e.part.left > n.pixels }); if (v) return t.x = n.x, t.y = n.y, t.type = "event", t.event = v, t.pixels = v.part.left, t.line = n.line, t; var g = Q.Mv(n.x); return g === n.x ? n : Q.Jv(g, n.y, null, n.line) } if ("left" === e) { var y = n.x; if ("event" === n.type) { y = H.Xm(n.event.part.left).x; var c = H.itline[y]; if (n.event.part.left !== c.left) { var f = a.indexOf(n.event) - 1, v = a[f]; return v && v.part.right === n.event.part.left ? (c = H.Xm(v.part.right, !0), t.x = c.x, t.y = n.y, t.type = "event", t.line = n.line, t.pixels = v.part.right, t.event = v, t) : (c = H.Xm(n.event.part.left), t.x = c.x, t.y = n.y, t.type = "cell", t.line = n.line, t.pixels = n.event.part.left, o && (t.line = Q.Kv(n.line, i)), t) } if (0 === y) return n; t = Q.Jv(y - 1, n.y, c.right, n.line) } else { var r = Q.Hv(n.x, n.y), a = r.lines[n.line], v = a && a.slice().reverse().find(function (e) { return e.part.right < n.pixels }); if (v) return t.x = n.x, t.y = n.y, t.type = "event", t.event = v, t.pixels = v.part.right, t.line = n.line, t; var g = Q.Nv(n.x); if (g === n.x) return n; var c = H.itline[y - 1], h = c.left + c.width; t = Q.Jv(g, n.y, h, n.line) } return t } if ("down" === e) { var r = Q.Hv(n.x, n.y), b = r.lines.find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right }) }); if ("top" === n.line && i.marginTop) { if (b) { var w = r.lines.indexOf(b); return t = Q.Jv(n.x, n.y, n.pixels, w), t.pixels = n.pixels, t.x = n.x, t } var x = r.lines.find(function (e) { return e.find(function (e) { return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right) }) }); if (x) { var k = x[0]; return t = Q.Jv(n.x, n.y, k.part.left, r.lines.indexOf(x)), t.pixels = n.pixels, t.x = n.x, t } var C = Q.Ov(n.y); return C === n.y ? n : (t = Q.Jv(n.x, C, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t) } if ("bottom" === n.line && i.marginBottom) { var C = Q.Ov(n.y); return C === n.y ? n : (t = Q.Jv(n.x, C, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t) } if (n.line < i.lines.length - 1) { var _ = n.y, E = n.line + 1; i.marginTop && "top" === n.line && (E = 0); var b = r.lines.slice(E).find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right }) }); if (b) E = r.lines.indexOf(b); else if (i.marginBottom) E = "bottom"; else if (i.marginTop) { var x = r.lines.slice(n.line + 1).find(function (e) { return e.find(function (e) { return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right) }) }); if (x) { var k = x[0]; return t = Q.Jv(n.x, n.y, k.part.left, r.lines.indexOf(x)) } E = "top", _ += 1 } else if (n.event) E = i.lines.length - 1; else { var C = Q.Ov(n.y); if (C === n.y) return n; E = 0, _ += 1 } return t = Q.Jv(n.x, _, n.pixels, E), t.pixels = n.pixels, t.x = n.x, t } if (n.line === i.lines.length - 1 && i.marginBottom) return t = Q.Jv(n.x, n.y, n.pixels, "bottom"), t.pixels = n.pixels, t.x = n.x, t; var C = Q.Ov(n.y); return C === n.y ? n : (t = Q.Jv(n.x, C, n.pixels, "top"), t.pixels = n.pixels, t.x = n.x, t) } if ("up" === e) { var r = Q.Hv(n.x, n.y), b = r.lines.slice().reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right }) }); if ("bottom" === n.line && i.marginBottom && b) { var w = r.lines.indexOf(b); t = Q.Jv(n.x, n.y, n.pixels, w) } else if (0 === n.line && i.marginTop) t = Q.Jv(n.x, n.y, n.pixels, "top"); else if (n.line > 0) { var E = "bottom", _ = n.y, b = r.lines.slice(0, n.line).reverse().find(function (e) { return e.find(function (e) { return e.part.left <= n.pixels && n.pixels <= e.part.right }) }); b ? E = r.lines.indexOf(b) : i.marginTop ? E = "top" : i.marginBottom ? _ -= 1 : E = 0; var C = Q.Pv(_); if (C === _) return n; t = Q.Jv(n.x, _, n.pixels, E) } else { var C = Q.Pv(n.y); if (C === n.y) return n; t = Q.Jv(n.x, C, n.pixels, "bottom") } return t.x = n.x, t.pixels = n.pixels, t } return null }, Q.Kv = function (e, t) { var n = "top" === e && t.marginTop || "bottom" === e && t.marginBottom; if ("number" == typeof e || !n) { if (t.marginTop) return "top"; if (t.marginBottom) return "bottom" } return e }, Q.Iv = function (e, t, n) { n = n || "main"; var i = n + "_" + e + "_" + t; return H.wa.cells[i] }, Q.Qv = function () { return Q.$k }, Q.bi = function () { var e = H.keyboardTarget; switch (e) { case "component": return H.nav.top; case "document": return document }throw new DayPilot.Exception("Invalid keyboardTarget value: " + e) }, Q.aq = null, Q.Rv = function (e) { if (16 === e.keyCode) { var t = Q.aq; if (Q.aq = null, !t || !t.end) return; var n = t.start.x < t.end.x, i = n ? t.start.x : t.end.x, a = n ? t.end.x : t.start.x; Q.Sv(i, t.start.y, a, { "forceSnap": !0 }) } }, Q.Tv = function (e) { var t = 37, n = 38, a = 39, r = 40, o = 13, s = {}; s["_37"] = "left", s["_39"] = "right", s["_38"] = "up", s["_40"] = "down"; var l = [t, n, a, r], d = l.indexOf(e.keyCode) !== -1, c = [t, n, a, r, o], u = c.indexOf(e.keyCode) !== -1; if (!i.Bp) { if ("function" == typeof H.onKeyDown) { var h = {}; if (h.originalEvent = e, h.preventDefault = function () { h.preventDefault.value = !0 }, H.onKeyDown(h), h.preventDefault.value) return } if (d && (e.preventDefault(), !Q.$k)) return void Q.Uv(); if (u) { var f = e.shiftKey; if (Q.$k) { var v = H.jq(Q.$k.y), p = !(v && H.treePreventParentUsage); f && !Q.$k.event && !Q.aq && p && (Q.aq = { "calendar": H, "forceSnap": !0, "start": { x: Q.$k.x, y: Q.$k.y, time: H.itline[Q.$k.x].start } }) } if (!Q.aq || e.keyCode !== n && e.keyCode !== r) { var m = Q.Lv(s["_" + e.keyCode]), h = {}; if (h.previous = H.keyboard.getFocus(), h.focus = Q.Gv(m), h.preventDefault = function () { h.preventDefault.value = !0 }, !d || "function" != typeof H.onKeyboardFocusChange || (H.onKeyboardFocusChange(h), !h.preventDefault.value)) { if (d) Q.Cp(), Q.$k = m, Q.lo(); else switch (e.keyCode) { case o: if (e.preventDefault(), Q.$k && Q.$k.event) { var g = H.kh(Q.$k.event); Q.Vv(g, e) } else p && Q.Sv(Q.$k.x, Q.$k.y) }d && "function" == typeof H.onKeyboardFocusChanged && (H.onKeyboardFocusChanged(h), h.preventDefault.value) || (e.keyCode !== t && e.keyCode !== a || Q.aq && (Q.aq.end = { x: Q.$k.x, y: Q.$k.y, time: H.itline[Q.$k.x].start }, H.Wn(Q.aq)), Q.aq) } } } } }, Q.Co = function () { var e = Q.bi(); e.removeEventListener("keyup", Q.Rv), e.removeEventListener("keydown", Q.Tv) }, Q.Wv = function () { var e = Q.bi(); e !== document && H.nav.top.setAttribute("tabindex", "-1"), H.ka() || (e.addEventListener("keyup", Q.Rv), e.addEventListener("keydown", Q.Tv)) }, Q.Vv = function (e, t) { H.Xb(e, t) }, Q.Sv = function (e, t, n) { o = o || {}; var i = {}; i.forceSnap = !0, i.start = { y: t, x: e, time: H.itline[e].start }, i.end = { x: "undefined" == typeof n ? e : n }, i.end.time = H.itline[i.end.x].start, i.calendar = H, H.Vn = i, H.Sn(i, "keyboard") }, Q.Uv = function () { var e = H.xo(); Q.Cp(), Q.$k = Q.Jv(e.start.x, e.start.y), Q.lo() }, Q.Xv = function () { var e = "Always" === H.useEventBoxes; e = e && !H.ka(), e && (Q.Wv(), Q.bi() !== document && H.nav.top.focus()) }, Q.Dn = function (e) { if (e.e) { var t = H.events.find(e.e.id()); t && H.keyboard.focusEvent(t.id()) } else if (e.cell) { var n = e.cell.start, i = e.cell.resource, a = H.Qp(n, i); a && "main" === a.grid && H.keyboard.focusCell(n, i) } }, Q.Pv = function (e) { if (e <= 0) return e; for (var t = e; t > 0;)if (t -= 1, !H.rowlist[t].hidden) return t; return e }, Q.Ov = function (e) { var t = H.rowlist.length - 1; if (e >= t) return e; for (var n = e; n < t;)if (n += 1, !H.rowlist[n].hidden) return n; return e }, Q.Mv = function (e) { return e >= H.itline.length - 1 ? e : e + 1 }, Q.Nv = function (e) { return e <= 0 ? e : e - 1 }, Q.yn = function () { Q.$k = null }, this.zn = Q, this.keyboard = {}, this.keyboard.focusCell = function (e, t) { var n = H.Qp(e, t); if (!n) throw new DayPilot.Exception("Can't find the specified cell"); if ("main" !== n.grid) throw new DayPilot.Exception("Can't focus a cell in a frozen row"); Q.Cp(), Q.$k = Q.Jv(n.x, n.y); for (var i = Q.Hv(n.x, n.y), a = i.lines.length, r = ["top"], o = 0; o < a; o++)r.push(o); r.push("bottom"); for (var o = 0; o < r.length; o++) { var s = Q.Jv(n.x, n.y, null, r[o]); if ("cell" === s.type) { Q.$k = s; break } } Q.lo() }, this.keyboard.focusEvent = function (e) { e instanceof DayPilot.Event && (e = e.id()); var t = H.events.find(e); if (!t) throw new DayPilot.Exception("Event not found"); t = H.events.gp(t.data); var n = (H.rowlist[t.part.dayIndex], {}); n.type = "event", n.event = t, n.pixels = t.part.left, n.x = H.Xm(t.part.left).x, n.y = t.part.dayIndex, n.line = t.part.line, Q.Cp(), Q.$k = n, Q.lo() }, this.keyboard.resetFocus = function () { Q.Uv() }, this.keyboard.getFocus = function () { return !x(H.events.Ep.rows).isEmpty() && (Q.Dp = !0, H.events.Rn({ "dontResetFocus": !0 })), Q.Dp = !1, Q.Gv(Q.$k) }, this.keyboard.clearFocus = function () { Q.Cp(), Q.yn() }, this.keyboard.move = function (e, t) { t = t || {}; var n = t.dontFireEvent; Q.Cp(); var i = Q.Lv(e), a = {}; return a.previous = H.keyboard.getFocus(), a.focus = Q.Gv(i), a.preventDefault = function () { a.preventDefault.value = !0 }, "function" == typeof H.onKeyboardFocusChange && !n && (H.onKeyboardFocusChange(a), a.preventDefault.value) ? void Q.lo() : (Q.$k = i, Q.lo(), void ("function" != typeof H.onKeyboardFocusChanged || n || H.onKeyboardFocusChanged(a))) }, this.Ja = {}; var $ = this.Ja; $.mh = function () { delete H.wa.eventHeight, delete H.wa.headerHeight }, $.Ia = function () { return "Disabled" !== H.xssProtection }, $.Tc = function () { return DayPilot.Locale.find(H.locale) }, $.Sc = function () { return "Auto" !== H.timeFormat ? H.timeFormat : $.Tc().timeFormat }, $.Rd = function () { if ("Auto" === H.weekStarts) { var e = $.Tc(); return e ? e.weekStarts : 0 } return H.weekStarts || 0 }, $.xr = function () { var e = navigator.userAgent.toLowerCase(); return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1 }, $.ft = function () { var e = /MSIE 6/i.test(navigator.userAgent); return "Auto" === H.layout ? e ? "TableBased" : "DivBased" : H.layout }, $.ic = function () { var e; if ("Immediate" === H.notifyCommit) e = "Notify"; else { if ("Queue" !== H.notifyCommit) throw new DayPilot.Exception("Invalid notifyCommit value: " + H.notifyCommit); e = "Queue" } return e }, $.Ur = function () { return "Days" !== H.viewType }, $.gh = function (e) { return "Always" === H.useEventBoxes || "Never" !== H.useEventBoxes && e < 60 * H.Zp() * 1e3 }, $.Eq = function () { return "number" == typeof H.durationBarHeight ? H.durationBarHeight : 4 }, $.Lo = function () { if (H.wa.eventHeight) return H.wa.eventHeight; var e = H.qh("_event_height").height; return e || (e = H.eventHeight), H.wa.eventHeight = e, e }, $.mg = function () { if (H.wa.headerHeight) return H.wa.headerHeight; var e = H.qh("_header_height").height; return e || (e = H.headerHeight), H.wa.headerHeight = e, e }, $.wt = function () { if (H.wa.scrollLineHeight) return H.wa.scrollLineHeight; var e = l(); e.style.fontSize = "initial", e.style.display = "none", s().appendChild(e); var t = parseInt(window.getComputedStyle(e).fontSize) || 16; return s().removeChild(e), H.wa.scrollLineHeight = t, t }, $.xm = function () { return H.rowHeaderScrolling ? H.rowHeaderSplitterWidth : 1 }, $.dn = function () { return "string" == typeof H.multiSelectRectangle ? H.multiSelectRectangle : "Disabled" === H.rectangleSelectHandling ? "Disabled" : H.rectangleSelectMode }, $.Yv = function () { return "string" == typeof H.multiSelectRectangle ? "Free" === H.multiSelectRectangle || "Row" === H.multiSelectRectangle ? "EventSelect" : "Disabled" : H.rectangleSelectHandling }, $.Bq = function () { return x(H.rowHeaderColumns).filter(function (e) { return !e.hidden }) }, this.Zv = {}; var ee = this.Zv; ee.Fq = function (e) { var t = {}; t.top = 0, t.height = 0; for (var n = $.mg(), i = 0; i <= e; i++) { var a = H.timeHeaders[i]; t.top += t.height, t.height = a.height || n } return t }, this.Sp = function (e, t, n) { n = n || "main"; var i = n + "_" + e + "_" + t, a = H.em[n], r = a.rowlist; if (H.cellConfig) { i = e + "_" + t; for (var o = 0, s = 0; s < H.resources.length; s++)if (!H.resources[s].hidden) { if (o === t) { t = s; break } o += 1 } } if (this.cellProperties || (this.cellProperties = {}), this.cellProperties[i]) return this.cellProperties[i]; if (this.ol && (this.cellProperties[i] = H.$v(e, t)), !this.cellProperties[i]) { var l = r[t], d = l.id, c = l.start.getTime() - H.Rb().getTime(), u = H.bn(e), h = u.start.addTime(c), f = u.end.addTime(c), v = {}; v.start = h, v.end = f, v.resource = d; var p = {}; p.business = H.isBusiness(v), l.cellsDisabled && (H.Qm.er = !0, p.disabled = !0), this.cellProperties[i] = p } return this.cellProperties[i] }, this._v = function (e, t, n) { var i = t + "_" + n; return this.cellProperties[i] = {}, p(e, this.cellProperties[i], H.Dv), this.cellProperties[i] }, this.$v = function (e, t) { if (!this.cellConfig) return null; var n = this.cellConfig, i = this.cellProperties[e + "_" + t]; !i && n.vertical && (i = this.cellProperties[e + "_0"]), !i && n.horizontal && (i = this.cellProperties["0_" + t]), !i && n["default"] && (i = n["default"]); var a = {}; return p(i, a, H.Dv), a }, this.pb = function () { if (!this.ol && !this.ql && (this.ql = !0, this.cellConfig)) { var e = this.cellConfig; if (e.vertical) for (var t = 0; t < e.x; t++) { var n = this.cellProperties[t + "_0"]; if (n) for (var i = 1; i < e.y; i++)this._v(n, t, i) } if (e.horizontal) for (var i = 0; i < e.y; i++) { var n = this.cellProperties["0_" + i]; if (n) for (var t = 1; t < e.x; t++)this._v(n, t, i) } if (e["default"]) for (var n = e["default"], i = 0; i < e.y; i++)for (var t = 0; t < e.x; t++)this.cellProperties[t + "_" + i] || this._v(n, t, i) } }, this.isBusiness = function (e, t) { var n = e.start, i = e.end, a = (i.getTime() - n.getTime()) / 6e4; if (a <= 1440 && !(H.businessWeekends || t || 0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek())) return !1; if (a < 720) { var r = n.getHours(); r += n.getMinutes() / 60, r += n.getSeconds() / 3600, r += n.getMilliseconds() / 36e5; var o = this.businessBeginsHour, s = this.businessEndsHour; if (0 === s && (s = 24), o === s) return !1; if (!(o < s)) return r < s || r >= o; if (r < o) return !1; if (s >= 24) return !0; if (r >= s) return !1 } return !0 }, this._e = function () { switch (H.Ca) { case "aspnet": if (!this.Ra()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/"); break; case "netmvc": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/"); break; case "javaxx": if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/") } }, this.E = function () { "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible") }, this.vg = function () { var e = H.nav.top; return !!e && (e.offsetWidth > 0 && e.offsetHeight > 0) }, this.wg = function () { var e = H.vg; return e() ? void H.xg() : void (H.Sa || (H.Sa = setInterval(function () { e() && (clearInterval(H.Sa), H.show(), H.mr(), H.xg()) }, 100))) }, this.aw = function (e) { "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), this.height = e - (this.ym() + 2), this.yb() }, this.setHeight = this.aw, this.hm = function (e) { var t = H.Vr(e); return 0 === t.length ? null : t[0] }, this.Fh = function () { if (this.id && this.id.tagName) this.nav.top = this.id; else { if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter"); if (this.nav.top = document.getElementById(this.id), !this.nav.top) throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '" + t + "'.") } }, this.bw = function () { this.rowHeaderColumnsMode = "Legacy", this.nh(), this.Fl(), this.Gl(), this.Bn(), this.Eb(), this.Eg(), this.bb(), i.Hh(this), this.lb(this.afterRenderData, !1), this.St(), this.Gb(), this.Ma("Init") }, this.init = function () { if (this.Aa) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties."); if (this.Fh(), this.nav.top.dp) { if (this.nav.top.dp === H) return H; if (this.Ra()) return H; throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.") } return this.Nt(), this.cw(), this.wg(), this.dw(), this }, this.dw = function () { H.keyboardEnabled && Q.Xv() }, this.ew = function () { H.multiselect.Ql(H.selectedEvents) }, this.cw = function () { if (this.wn(), this.Eh()) return this.bw(), this.Aa = !0, void this.Ga(); this.Eg(), this.bb(), i.Hh(this), this.St(), this.ew(), H.zoomLevels && H.zoomLevels[H.zoom.active] && H.zoom.setActive(H.zoom.active), !H.Aa && R.Pm() && (H.bm || (H.bm = { "date": H.startDate })), this.Jd(); var angular = H.lh.scope || H._l.enabled; H.scrollToDate ? H.scrollTo(H.scrollToDate) : H.scrollX || H.scrollY ? H.setScroll(H.scrollX, H.scrollY) : angular || H.Xl(), H.scrollToResourceId && (H.scrollToResource(H.scrollToResourceId), H.scrollToResourceId = null); var e = function () { H.scrollY && H.setScroll(H.scrollX, H.scrollY) }; window.setTimeout(e, 200), this.messageHTML && window.setTimeout(function () { H.message(H.messageHTML) }, 0), this.Gb(), this.Ga(), this.lb(this.afterRenderData, !1), H.initEventEnabled && setTimeout(function () { H.Ma("Init") }), this.Ih(), this.Aa = !0, this.fw = !0; var t = H.bm; t ? H.scrollTo(t.date, t.animated, t.position) : H.Xl(), H.bm = null }, this.Ot = function () { H.ka() && delete H.infinite }, this.Jh = null, this.ph = function (e) { if (e) { var t = { "resources": { "preInit": function () { var e = this.data; e && (H.resources = e) } }, "events": { "preInit": function () { var e = this.data; e && (E(e.list) ? H.events.list = e.list : H.events.list = e) }, "postInit": function () { } }, "links": { "preInit": function () { var e = this.data; e && (E(e.list) ? H.links.list = e.list : H.links.list = e) }, "postInit": function () { } }, "scrollTo": { "preInit": function () { }, "postInit": function () { this.data && H.$l(this.data, e.scrollToAnimated, e.scrollToPosition) } }, "scrollX": { "postInit": function () { this.data && H.fm(this.data) } }, "scrollY": { "postInit": function () { this.data && H.um(this.data) } }, "zoom": { "preInit": function () { var e = this.data; if ("string" == typeof e) { var t = e; e = H.zoom.od(t) } var n = e !== H.zoom.active, i = H.zoom.Ek(); H.zoom.qd(e, i); n ? this.date = i : this.date = null }, "postInit": function () { this.date && H.$l(this.date, !1, H.zoomPosition) } } }; H.Jh = t, H._l.scrollToRequested && (t.scrollTo.data = H._l.scrollToRequested, H._l.scrollToRequested = null), H._l.scrollXRequested && (t.scrollX.data = H._l.scrollXRequested, H._l.scrollXRequested = null), H._l.scrollYRequested && (t.scrollY.data = H._l.scrollYRequested, H._l.scrollYRequested = null); for (var n in e) t[n] || (H[n] = e[n]); for (var n in e) if (t[n]) { var i = t[n]; i.data = e[n], i.preInit && i.preInit() } } }, this.Ih = function () { var e = H.Jh; for (var t in e) { var n = e[t]; n.postInit && n.postInit() } H.Jh = {} }, this.diag = function () { var e = {}; return e.dataEvents = H.events.list && H.events.list.length, e.dataRows = H.rowlist && H.rowlist.length, e.dataTimeline = H.itline && H.itline.length, e.dataCells = e.dataTimeline * e.dataRows, e.renderedEvents = H.elements.events.length, e.renderedCells = H.elements.cells.length, e.renderedRows = H.divResScroll.firstChild.childNodes.length - 1, e.domEvents = H.divEvents.getElementsByTagName("*").length, e.domCells = H.divCells.getElementsByTagName("*").length, e.domRows = H.divResScroll.getElementsByTagName("*").length, e }, this.temp = {}, this.temp.allowDuplicateEventIds = !1, this.internal = {}, this.internal.initialized = function () { return H.Aa }, this.internal.dragInProgress = this.Lg, this.internal.startMoving = this.je, this.internal.invokeEvent = this.hc, this.internal.eventMenuClick = this.Dc, this.internal.timeRangeMenuClick = this.Ec, this.internal.resourceHeaderMenuClick = this.Zn, this.internal.linkMenuClick = this.Yn, this.internal.bubbleCallBack = this.Bc, this.internal.findEventDiv = this.kh, this.internal.rowStartMoving = this.ho.je, this.internal.getNodeChildren = this.jb, this.internal.callback = function () { H.Ma.apply(H, arguments) }, this.internal.createRowObject = this._n, this.internal.restools = this.Rs, this.internal.gantt = null, this.internal.f = this.events.gp, this.internal.adjustEndIn = H.Aj, this.internal.adjustEndNormalize = H.$j, this.internal.xssTextHtml = H.Ha, this.internal.touch = H.Ve, this.internal.cssNames = H.yu, this.internal.enableCellStacking = function (e) { H.rl = !0, H.sl = e }, this.internal.deleteDragSource = function () { H.zc() }, this.internal.skipUpdate = H._l.skipUpdate, this.internal.skipped = H._l.skipped, this.internal.loadOptions = H.ph, this.internal.postInit = H.Ih, this.internal.enableAngular2 = function () { H._l.enabled = !0 }, this.internal.eventsFromAttr = function () { H._l.Ip = !0 }, this.internal.resourcesFromAttr = function () { H._l.Pp = !0 }, this.internal.evImmediateRefresh = function () { H.events.Rn() }, this.internal.enableReact = function (e, t) { H.X.react = e, H.X.reactDOM = t }, this.internal.reactRefs = function () { return p(H.X, {}, ["react", "reactDOM"]) }, this.internal.enableVue = function (e) { H.Z.Ke = e }, this.internal.vueRef = function () { return H.Z.Ke }, this.internal.vueRendering = function () { return H.Z.Le }, this.Init = this.init, this.ph(o)
        }, o = "2024.4.6294" === (new DayPilot.Scheduler).v, DayPilot.Row = function (e, t) {
            if (!e) throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row"); if (!t) throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row"); this.gw = {}; var n = this.gw; n.id = e.id, n.name = e.name, n.data = e.resource, n.tags = e.tags; var i = this; i.isRow = !0, i.menuType = "resource", i.start = e.start, i.name = e.name, i.value = e.id, i.id = e.id, i.tags = e.tags, i.bubbleHtml = e.bubbleHtml, i.index = e.index, i.displayY = e.displayY, i.level = e.level, i.calendar = t, i.data = e.resource, i.grid = e.grid, i.Qq = e, i.$ = {}, i.$.row = e, i.toJSON = function (e) { var t = {}; return t.start = this.start, t.name = this.name, t.value = this.value, t.id = this.id, t.index = this.index, t }, i.parent = function () { return i.Qq.Qs ? t._n(i.Qq.Qs) : null }, i.children = function () { var e = x(i.$.row.children).map(function (e) { return t._n(t.rowlist[e]) }); return e.add = function (e) { var t = i.$.row.resource; t.children || (t.children = []), t.children.push(e) }, e }, i.splitParent = function () { return i.Qq.split.parent ? t._n(i.Qq.split.parent) : null }, i.splitChildren = function () { return (i.Qq.split.list || []).map(function (e) { return t._n(e) }) }, i.loaded = function () { return i.Qq.loaded }, Object.defineProperty(i, "hidden", { get: function () { return i.Qq.hidden } }), Object.defineProperty(i, "hiddenUsingFilter", { get: function () { return i.Qq.at }, set: function (e) { i.Qq.at = e, e || (i.Qq.hidden = !i.Qq.bt()) } }), i.cells = {}, i.cells.all = function () { for (var e = [], n = t.itline.length, a = i.index, r = 0; r < n; r++) { var o = t.cells.findXy(r, a, i.grid); e.push(o[0]) } return t.Tp(e) }, i.cells.forRange = function (e, n) { var a = i, r = a.start.getTime() - t.Rb().getTime(); e = new DayPilot.Date(e), n = new DayPilot.Date(n); var o = t.Rb().addTime(r), s = t.ce().addTime(r); e < o && (e = o), n > s && (n = s); var l = t.cells.find(e, i)[0], d = t.cells.find(n.addTime(-1), i)[0]; if (!l) return null; if (!d) return null; if (l.y !== d.y) return null; for (var c = l.y, u = [], h = l.x; h <= d.x; h++)u.push(t.cells.me(h, c, l.grid)); return t.Tp(u) }, i.cells.totalDuration = function (e) { var t = i.cells.all(); return "function" == typeof e && (t = t.filter(e)), new DayPilot.Duration(t.map(function (e) { return e.end.getTime() - e.start.getTime() }).reduce(function (e, t) { return e + t }, 0)) }, i.events = {}, i.events.all = function () { for (var e = x(), t = 0; t < i.Qq.events.length; t++)e.push(i.Qq.events[t]); return e }, i.events.isEmpty = function () { return 0 === i.Qq.events.length }, i.events.forRange = function (e, t) { return i.Qq.events.forRange(e, t) }, i.events.totalDuration = function () { var e = 0; return i.events.all().forEach(function (t) { e += t.part.end.getTime() - t.part.start.getTime() }), new DayPilot.Duration(e) }, i.groups = {}, i.groups.collapseAll = function () { for (var e = 0; e < i.Qq.blocks.length; e++) { new a(i.Qq.blocks[e]).hw() } t.kn(), t.ln([i.Qq]), t.yb() }, i.groups.expandAll = function () { for (var e = 0; e < i.Qq.blocks.length; e++) { new a(i.Qq.blocks[e]).iw() } t.kn(), t.ln([i.Qq]), t.yb(), t.Cb() }, i.groups.expanded = function () { for (var e = [], n = 0; n < i.Qq.blocks.length; n++) { var r = i.Qq.blocks[n]; r.expanded && r.lines.length > t.groupConcurrentEventsLimit && e.push(new a(r)) } return x(e) }, i.groups.collapsed = function () { for (var e = [], t = 0; t < i.Qq.blocks.length; t++) { var n = i.Qq.blocks[t]; n.expanded || e.push(new a(n)) } return x(e) }, i.groups.all = function () { for (var e = [], t = 0; t < i.Qq.blocks.length; t++) { var n = i.Qq.blocks[t]; e.push(new a(n)) } return x(e) }, i.events.collapseGroups = i.groups.collapseAll, i.events.expandGroups = i.groups.expandAll, i.column = function (e) { return new r(i, e) }, i.toggle = function () { t.nq(i.index) }, i.collapse = function () { i.$.row.expanded && i.toggle() }, i.expand = function () { i.$.row.expanded || i.toggle() }, i.remove = function () { t.rows.remove(i) }, i.edit = function () { t.rows.edit(i) }, i.addClass = function (e) { var n = i, a = t.divHeader, n = a.rows[n.index]; if (n) { u(x(n.cells).map(function (e) { return e.cellDiv }), e) } i.$.row.cssClass = DayPilot.Util.addClassToString(i.$.row.cssClass, e), i.data.cssClass = e }, i.removeClass = function (e) { var n = i, a = t.divHeader, n = a.rows[n.index]; if (n) { c(x(n.cells).map(function (e) { return e.cellDiv }), e) } i.$.row.cssClass = DayPilot.Util.removeClassFromString(i.$.row.cssClass, e), i.data.cssClass = DayPilot.Util.removeClassFromString(i.data.cssClass, e) }; var a = function (e) {
                var n = function (e) { for (var n = 0; n < t.elements.events.length; n++) { var i = t.elements.events[n]; if (i.event === e) return i } return null }; this.iw = function () {
                    e.expanded = !0; var i = t.as; x(e.events).forEach(function (e) { i.push(e.id()) }); var a = n(e); if (a) {
                        t.au(a); var r = _(t.elements.events, a); r !== -1 && t.elements.events.splice(r, 1);
                    }
                }, this.expand = function () { this.iw(), t.kn(), t.ln([e.row]), t.yb(), t.Cb() }, this.hw = function () { if (e.lines.length > t.groupConcurrentEventsLimit) { e.expanded = !1; var n = x(e.events).map(function (e) { return e.id() }); t.as = t.as.filter(function (e) { return !k(n, e) }) } }, this.collapse = function () { this.hw(), t.kn(), t.ln([e.row]), t.yb() }
            }, r = function (e, t) { this.html = function (e) { var n = i.calendar.divHeader, i = n.rows[i.index]; if (!i) throw new DayPilot.Exception("Row not rendered"); var a = i.cells[t], r = a.textDiv; return "undefined" == typeof e ? r.innerHTML : void (r.innerHTML = e) } }
        }, i._m = null, i.Xp = null, i.Xf = null, i._p = null, i.rq = null, i.$m = !1, i.Fg = !1, i.Lu = null, i.jw = null, i.kw = function (e, t, n, a) { DayPilot.us(e); var r = i.ar = {}; return r.element = e, r.duration = t, r.text = a, r.id = n, r.data = { "id": n, "text": a, "duration": t, "externalHtml": a }, !1 }, DayPilot.Scheduler.def = {}, DayPilot.Scheduler.startDragging = function (e) { var e = e || {}, t = e.element, n = e.keepElement ? null : t; DayPilot.us(t); var a = i.ar = {}; return a.element = n, a.id = e.id, a.duration = e.duration || 60, a.text = e.text || "", a.data = e, a.$f = e, a._f = e.data, !1 }, DayPilot.Scheduler.makeDraggable = function (e) { function t() { var t = i.ar = {}; t.element = a, t.id = o, t.duration = l, t.text = s, t.data = e, t.$f = e, t._f = e.data } e = e || {}; var n = e.element, a = e.keepElement ? null : e.remove || n, r = e.data || {}, o = "undefined" != typeof e.id ? e.id : r.id, s = "string" == typeof e.text ? e.text : r.text || "", l = e.duration || r.duration; if (l instanceof DayPilot.Duration && (l = l.totalSeconds()), l || (l = r.start && r.end ? new DayPilot.Duration(r.start, r.end).totalSeconds() : 60), !n) throw new DayPilot.Exception("makeDraggable(options): options.element must be specified"); DayPilot.us(n), DayPilot.re(n, "mousedown", function (e) { if (b(e).left) { t(); var n = e.target || e.srcElement; if (n.tagName) { var i = n.tagName.toLowerCase(); if ("textarea" === i || "select" === i || "input" === i) return !1 } return e.preventDefault(), !1 } }), DayPilot.reNonPassive(n, "touchstart", function (e) { window.setTimeout(function () { t(), i.Ig(e), e.preventDefault() }, 0), e.preventDefault() }) }, DayPilot.Scheduler.makeDraggableAsRow = function (e) { function t() { var t = i.Es = {}; t.element = a, t.options = e, t.source = null } e = e || {}; var n = e.element, a = e.keepElement ? null : e.remove || n; e.data || {}; if (!n) throw new DayPilot.Exception("makeDraggable(options): options.element must be specified"); DayPilot.us(n), DayPilot.re(n, "mousedown", function (e) { if (b(e).left) { t(); var n = e.target || e.srcElement; if (n.tagName) { var i = n.tagName.toLowerCase(); if ("textarea" === i || "select" === i || "input" === i) return !1 } return e.preventDefault(), !1 } }) }, DayPilot.Scheduler.stopDragging = function () { if (i.ar && i.ar.Yu) { var e = i.ar.Yu, t = e.event.calendar; t && c(e, t.da(n.yu.eventMovingSource)) } if (i.lw(), i._p && (C(i.qq), i._p = null, i.rq = null, i.qq = null), i._m) { var n = i.Xp.calendar; n && (n.yc(), n.gb = null, c(i._m, n.da(n.yu.eventMovingSource))), C(i.Xq), i._m = null, i.Xp = null, i.Xq = null } if (i.aq) { var n = i.aq.calendar; n.clearSelection(), i.aq = null } s().style.cursor = "", x(i.Uf).forEach(function (e) { e.fb(), e.fr(), e.ho.Ds(), e.Uq.clear() }) }, DayPilot.Scheduler.registerDropTarget = function (e) { e = e || {}; var t = e.element, n = e.onDragOver, a = "function" == typeof n, r = e.onDrop, o = "function" == typeof r, s = e.onDragLeave, l = "function" == typeof s; if (!t) throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified"); var d = function (e) { if (i.ar) { var t = i.ar.event; if (t && a) { var r = {}; r.e = t, n(r) } } }, c = function (e) { if (i.ar) { var t = i.ar.event; if (t && l) { var n = {}; n.e = t, s(n) } } }, u = function (e) { if (i.ar) { var t = i.ar.event; if (t && o) { var n = {}; n.e = t, r(n) } } }; t.addEventListener("mousemove", d), t.addEventListener("mouseleave", c), t.addEventListener("mouseup", u), t.mw = function () { t.removeEventListener("mousemove", d), t.removeEventListener("mouseleave", c), t.removeEventListener("mouseup", u), t.mw = null } }, DayPilot.Scheduler.registerRowDropTarget = function (e) { e = e || {}; var t = e.element, n = e.onDragOver, a = "function" == typeof n, r = e.onDrop, o = "function" == typeof r, s = e.onDragLeave, l = "function" == typeof s; if (!t) throw new DayPilot.Exception("registerRowDropTarget(options): options.element must be specified"); var d = function () { if (!i.Es) return null; var e = i.Es.Ss; return e ? new DayPilot.Row(e.row, e.sourceCalendar) : null }, c = function (e) { var t = d(); if (t && a) { var i = {}; i.row = t, n(i) } }, u = function (e) { var t = d(); if (t && l) { var n = {}; n.row = t, s(n) } }, h = function (e) { var t = d(); if (t && o) { var n = {}; n.row = t, r(n) } }; t.addEventListener("mousemove", c), t.addEventListener("mouseleave", u), t.addEventListener("mouseup", h), t.mw = function () { t.removeEventListener("mousemove", c), t.removeEventListener("mouseleave", u), t.removeEventListener("mouseup", h), t.mw = null } }, DayPilot.Scheduler.unregisterDropTarget = function (e) { e = e || {}; var t = e.element; t && t.mw && t.mw() }, i.lw = function () { i.Xu && (s().removeChild(i.Xu), i.Xu = null), i.ar = null }, i.Ph = function () { var e = i.ar; if (e) { var t = e && e.$f, n = t && t.onDrop; if ("function" == typeof n) { var a = {}; a.options = t, n(a) } } }, i.Hh = function (e) { i.Uf || (i.Uf = x(), i.Uf.out = function () { i.Uf.forEach(function (e) { e.db() }) }); for (var t = 0; t < i.Uf.length; t++)if (i.Uf[t] === e) return; i.Uf.push(e) }, i.ab = function (e) { var t = i.Uf; if (t) { var n = _(t, e); n !== -1 && t.splice(n, 1), 0 === t.length && (t = null) } t || (DayPilot.ue(document, "mousemove", i.Gg), DayPilot.ue(document, "mouseup", i.Hg), DayPilot.ue(document, "mousedown", i.Qt), DayPilot.ue(document, "touchmove", i.Ig), DayPilot.ue(document, "touchend", i.Jg), DayPilot.ue(window, "keyup", i.Rt), i.Fg = !1) }, i.Ig = function (e) { if (i._p) { var a = i._p.event.calendar; a.coords = a.Ve.Vg(e), a.Ve.Zg() } if (i._m && !i.ar) { var a = i.Xp.calendar; a.coords = a.Ve.Vg(e), a.Ve.$g(), function () { if (a.dragOutAllowed) { var n = t(e); if (!n || n !== a) { var r = i.Xp; i.ar = {}; var o = i.ar; o.id = r.id(), o.text = r.text(), o.Yu = i._m, o.element = null, o.duration = (r.rawend().getTime() - r.start().getTime()) / 1e3, o.text = r.text(), o.id = r.id(), o.event = p(r, new DayPilot.Event), a.fr(), C(i.Xq), i.Xq.calendar = null, i.Xq = null, i.$p = null, i.Uf.out() } } }() } if (i.ar) { var r = n(e), a = t(e); if (a) { if (i.Xu && s().removeChild(i.Xu), i.Xu = null, a.coords = a.Ve.Vg(e), !i.Xq && a.rowlist.length > 0) { if (!i._m) { i._m = {}; var o = i.ar.event; if (!o) { var e = a.Zu(); o = new DayPilot.Event(e), o.calendar = a, o.part.duration = 1e3 * i.ar.duration } o.part.external = !0; var l = i.ar.Yu; l && l.event && l.event.calendar === a && (o.part.external = !1), i.Xp = o } i.Xq = a.Ib(i.Xp) } i._m && a.Ve.$g() } else { C(i.Xq); var d = i._m; i._m = null, i.Xp = null, i.Xq = null, i.Xu || (i.Xu = i.nw(i.ar.$f), i.Xu.source = d); var c = i.Xu; c.style.left = r.x + "px", c.style.top = r.y + "px", i.Uf.out() } } }, i.Jg = function (e) { i.ut = !1, i.Hg(e) }, i.Gg = function (e) { if ("undefined" != typeof i && !w.touch.active && !w.touch.start && !(e.insideMainD || e.srcElement && e.srcElement.inside)) { var t = DayPilot.mc(e); if (S.row && !i.Es) { var n = i.Es = {}; n.element = null, n.options = { "data": S.row.resource }, n.Ss = S, n.source = null } if (i.Es) { s().style.cursor = "move", i.Xu || (i.Xu = i.nw(i.Es.options)); var a = i.Xu; a.style.left = t.x + "px", a.style.top = t.y + "px" } else if (i.ar) { var r = i.ar.$f || {}; if (!i.ar.Oh) { var o = r.onDragStart, l = !1; if ("function" == typeof o) { var d = {}; d.options = r, d.preventDefault = function () { d.preventDefault.value = !0 }, o(d), l = d.preventDefault.value } if (i.ar.Oh = !0, l) return i.Ph(), void (i.ar = null) } var c = "move"; "string" == typeof r.externalCursor && (c = r.externalCursor), s().style.cursor = c, i.Xu || (i.Xu = i.nw(i.ar.$f)); var a = i.Xu; if (a.style.left = t.x + "px", a.style.top = t.y + "px", a.style.cursor = c, i._m = null, i.Xp = null, i.Xq) { var u = i.Xq.calendar; u && u.fr(), i.Xq.calendar = null, C(i.Xq), i.Xq = null } } else if (i._m && i.Xp && i.Xp.calendar.dragOutAllowed && !i.ar) { var u = i.Xp.calendar, e = i.Xp; s().style.cursor = "move", i.Xu || (i.Xu = i.nw(e.data), i.Xu.source = i._m); var a = i.Xu; a.style.left = t.x + "px", a.style.top = t.y + "px", i.ar = {}; var n = i.ar; n.Yu = i._m, n.element = null, n.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3, n.text = e.text(), n.id = e.value(), n.event = p(e, new DayPilot.Event), u.fr(), C(i.Xq), i.Xq.calendar = null, i.Xq = null } if (i.vr && 0 === e.buttons) { i.vr.cleanup(), i.vr = null } i.Uf.out() } }, i.Qh = function (e) { if (i.Uf) for (var t = 0; t < i.Uf.length; t++) { var n = i.Uf[t]; i.ab(n) } }, i.Qt = function (e) { i.Bp && i.Bp.blur() }, i.Rt = function (e) { if (("Control" === e.key || "Meta" === e.key) && i.Mu) { i.Mu.xu.dispatch() } }, i.Hg = function (e) { if (x(i.Uf).forEach(function (e) { e.fb(), e._m = {}, e.Ou = null }), i._p) { var t = function () { w.resizingAreaData = null; var e = i.rq, t = e.calendar; s().style.cursor = "", i._p = null, i.rq = null, C(i.qq), i.qq = null, t && (t.Qu = null) }; if (setTimeout(function () { i.$m = !1 }), !i.qq) return void t(); var n = i.rq, r = n.calendar, o = i.qq.finalStart, l = i.qq.finalEnd, d = i.qq.overlapping, u = !i.qq.allowed, h = r.Hq.isInvalid(); r.fr(), r.Hq.clear(); var f = "left" === i._p.dpBorder ? "start" : "end"; if (t(), d || u || h || r.Hq.forbidden) return; r.nc(n, o, l, f) } else if (i.Xp) { var t = function () { w.movingAreaData = null; var e = i.Xq && i.Xq.calendar; i.Xq && (C(i.Xq), i.Xq.calendar = null), s().style.cursor = "", i._m = null, i.Xp = null, i.Ph(), i.ar = null, e && (e.gb = null) }; if (setTimeout(function () { i.$m = !1 }), !i.Xq) return void t(); var v = i.ar && i.ar.Yu, n = v ? v.event : i.Xp, r = i.Xq.calendar; if (!r) return void t(); if (n.calendar && n.calendar !== r) { var m = n.calendar, g = n, y = p(n.data); n = new DayPilot.Event(y, m), n.part = { "external": !0, "duration": m.dq(g) } } if (i.Xq.source = i._m, function () { if (i.ar && i.ar.Yu) { var e = i.ar.Yu; if (e && e.event) { c(e, e.event.calendar.da(r.yu.eventMovingSource)) } } }(), !i.Xq.row) return void t(); clearTimeout(r.lq.timeout); var o = i.Xq.start, l = i.Xq.end, k = "Days" !== r.viewType ? i.Xq.row.id : null, _ = n.part.external, E = i.Xq.line, d = i.Xq.overlapping, u = !i.Xq.allowed; if (i.ar && (r.Yl || (r.Yl = {}), r.Yl.Zl = i.ar.element, i.Ph(), i.ar = null), i.Xq.calendar = null, s().style.cursor = "", i._m = null, i.Xp = null, d || u || r.Uq.forbidden || r.Uq.invalid) return void r.yc(); r.wc(n, o, l, k, _, e, E), w.movingAreaData = null } else if (i.aq) { var D = b(e), A = i.aq, H = A.moved, r = A.calendar, t = function () { }; r.kv = null; var M = e.ctrlKey || e.metaKey; if (r.allowMultiRange && r.elements.range2) return r.elements.range2.overlapping ? (C(r.elements.range2), r.elements.range2 = null, r.fr()) : r.xu.add(A), i.aq = null, M || D.left && r.xu.dispatch(), void t(); if (i.Lu) return clearTimeout(i.Lu), i.Lu = null, void t(); r.Vn = A, i.aq = null; var R = function (e) { return function () { i.Lu = null; var t = r.elements.range2; if (t && t.overlapping) return void r.clearSelection(); var n = H ? "drag" : "click"; r.Sn(e, n) } }, B = r.lv(A); if (t(), !D.left) return void (i.Lu = null); if (A.moved || "Disabled" === r.timeRangeDoubleClickHandling) return R(B)(), e.cancelBubble = !0, !1; i.Lu = setTimeout(R(B), r.doubleClickTimeout) } else if (S.row) { var r = S.calendar; r && r.Cs() } else if (T.source) { var r = T.calendar; r.No.Ij(), r.No.Cn(), T.source = null, T.calendar = null } else if (i.vr) { var N = i.vr; N.cleanup(), i.vr = null } else if (i.Rm) { var P = i.Rm, r = P.calendar; if (!P.moved) { i.Rm = null; var L = r.nm.om(P.start.x, P.start.y, 1, 1).map(function (e) { return e.event }), I = L.length > 0; return void (r.Pc(r.coords) || I || r.nv(e)) } var z = P.x, U = P.y, O = P.width, j = P.height, W = !1, L = r.nm.om(z, U, O, j).map(function (e) { return e.event }), q = function () { setTimeout(function () { r._u.clear(), i.Rm = null, r.fb() }, 0), r.fr() }; if ("function" == typeof r.onRectangleEventSelect || "function" == typeof r.onRectangleSelect) { var F = r.wo(U).i, X = r.wo(U + j).i, V = { "start": { "y": F }, "end": { "y": X } }, Y = r.ro(V), J = {}; if (J.events = L, J.append = !1, J.start = r.getDate(z, !0), J.end = r.getDate(z + O, !0), J.resources = Y, J.preventDefault = function () { this.preventDefault.value = !0 }, "function" == typeof r.onRectangleEventSelect && r.onRectangleEventSelect(J), "function" == typeof r.onRectangleSelect && r.onRectangleSelect(J), J.preventDefault.value) return r._u.clear(), i.Rm = null, void q(); W = J.append } if ("EventSelect" === r.Ja.Yv() && (W || r.multiselect.clear(!0), L.forEach(function (e) { r.multiselect.add(e, !0) }), r.multiselect.redraw()), q(), "function" == typeof r.onRectangleEventSelected || "function" == typeof r.onRectangleSelected) { var J = {}; J.events = L, "function" == typeof r.onRectangleEventSelected && r.onRectangleEventSelected(J), "function" == typeof r.onRectangleSelected && r.onRectangleSelected(J) } } if (i.ar && (i.ar.event && i.ar.event.part && delete i.ar.event.part.external, i.Ph(), i.ar = null, s().style.cursor = ""), i.Es) { var Z = i.Es.Ss; Z && Z.sourceCalendar && Z.sourceCalendar.ho.Ls(Z.row), i.Es = null, s().style.cursor = "" } if (i.Xu) { if (i.Xu.source) { var v = i.Xu.source; if (v.event) { var r = i.Xu.source.event.calendar; c(i.Xu.source, r.da(r.yu.eventMovingSource)) } else a() } s().removeChild(i.Xu), i.Xu = null } i.Wp = null, i.$p = null }, i.nw = function (e) { e = e || {}; var t = document.createElement("div"); return t.setAttribute("unselectable", "on"), t.style.position = "absolute", t.style.width = "100px", t.style.height = "20px", t.style.zIndex = 101, t.style.pointerEvents = "none", t.style.backgroundColor = "#aaaaaa", t.style.opacity = .5, t.style.overflow = "hidden", t.className = e.externalCssClass, e.externalHtml && (t.innerHTML = e.externalHtml), s().appendChild(t), t }; var S = {}; w.rowmoving = S; var T = {}; w.linking = T, "undefined" != typeof jQuery && !function (e) { e.fn.daypilotScheduler = function (e) { var t = null, n = this.each(function () { if (!this.daypilot) { var n = new DayPilot.Scheduler(this.id || this, e); n.init(), this.daypilot = n, t || (t = n) } }); return 1 === this.length ? t : n } }(jQuery), function () { var e = DayPilot.am(); e && e.directive("daypilotScheduler", ["$parse", function (e) { return { "restrict": "E", "template": "<div id='{{id}}'></div>", "compile": function (t, n) { return t[0].removeAttribute("id"), t[0].innerHTML = this["template"].replace("{{id}}", n["id"]), function (t, n, i) { var a = new DayPilot.Scheduler(n[0].firstChild); a.lh.scope = t; var r = i["id"]; r && (t[r] = a); var o = i["publishAs"]; if (o) { (0, e(o).assign)(t, a) } for (var s in i) if (0 === s.indexOf("on")) { var l = DayPilot.Util.shouldApply(s); l ? !function (n) { a[n] = function (a) { var r = e(i[n]); DayPilot.Util.safeApply(t, function () { r(t, { "args": a }) }) } }(s) : !function (n) { a[n] = function (a) { e(i[n])(t, { "args": a }) } }(s) } var d = t["$watch"], c = i["config"] || i["daypilotConfig"], u = i["events"] || i["daypilotEvents"]; c || a.init(), d.call(t, c, function (e, t) { a.ph(e), a.Aa ? (a.update(), a.Ih()) : a.init() }, !0), u && d.call(t, u, function (e) { a.events.list = e, a.Jd({ "eventsOnly": !0 }) }, !0), t.$on("$destroy", function () { a.dispose() }) } } } }]) }(), "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded()
    }
}(DayPilot), "undefined" == typeof DayPilot) var DayPilot = {}; "undefined" == typeof DayPilot.Global && (DayPilot.Global = {}), function (DayPilot) { "undefined" == typeof DayPilot.Year && (DayPilot.Year = function (e, t) { this.v = "2024.4.6294"; this.startDate = new DayPilot.Date, this.cssOnly = !0, this.cssClassPrefix = null, this.columns = 4, this.cellWidth = 20, this.showWeekNumbers = !1, this.ow = [], this._j = function () { this.root.dp = this, this.yi = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us")) }, this.da = function (e) { return this.cssClassPrefix ? this.cssClassPrefix + e : "" }, this.bk = function () { return this.showWeekNumbers ? this.cellWidth : 0 }, this._o = function () { this.ow = []; var e = this.columns, t = 12 / e; this.root.className = this.da("_main"), this.root.style.width = e * (7 * this.cellWidth + this.bk()) + "px"; for (var n = 0; n < t; n++) { for (var i = 0; i < e; i++) { var a = n * e + i, r = r + "_nav_" + a, o = document.createElement("div"); o.id = r, o.style.float = "left", this.root.appendChild(o); var s = new DayPilot.Navigator(r); s.startDate = this.yi.addMonths(a), s.cssOnly = this.cssOnly, s.cssClassPrefix = this.cssClassPrefix, s.cellWidth = this.cellWidth, s.showWeekNumbers = this.showWeekNumbers, s.internal.showLinks = {}, s.selectMode = "none", s.timeRangeSelectedHandling = "JavaScript", s.onTimeRangeSelected = this.pw, s.init(), s.root.className = "", this.ow.push(s) } var l = document.createElement("div"); l.style.clear = "left", this.root.appendChild(l) } }, this.pw = function (e) { alert("clicked: " + e.day) }, this.init = function () { if (this.root = document.getElementById(e), !this.root.dp) return this._j(), this._o(), this } }) }(DayPilot);
